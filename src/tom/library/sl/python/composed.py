from sl import *

def TopDown(s): return Mu(MuVar("_x"),Sequence(s,All(MuVar("_x"))))
def Try(s): return Choice(s,Identity()) 
def TopDown(s): return Mu(MuVar("_x"),Sequence(s,All(MuVar("_x"))))
def TopDownCollect(s): return Mu(MuVar("_x"),Try(Sequence(s,All(MuVar("_x")))))
def BottomUp(s): return Mu(MuVar("_x"),Sequence(All(MuVar("_x")),s))
def OnceBottomUp(s): return Mu(MuVar("_x"),Choice(One(MuVar("_x")),s))
def OnceTopDown(s): return Mu(MuVar("_x"),Choice(s,One(MuVar("_x")))) 
def Innermost(s): return Mu(MuVar("_x"),Sequence(All(MuVar("_x")),Try(Sequence(s,MuVar("_x")))))
def Outermost(s): return Mu(MuVar("_x"),Sequence(Try(Sequence(s,MuVar("_x"))),All(MuVar("_x"))))
def Repeat(s): return Mu(MuVar("_x"),Choice(Sequence(s,MuVar("_x")),Identity()))
def RepeatId(s): return Mu(MuVar("_x"),SequenceId(s,MuVar("_x")))
def OnceBottomUpId(s): return Mu(MuVar("_x"),ChoiceId(OneId(MuVar("_x")),s))
def InnermostId(s): return Mu(MuVar("_x"),Sequence(All(MuVar("_x")),SequenceId(s,MuVar("_x"))))
def InnermostIdSeq(s): return Mu(MuVar("_x"),Sequence(AllSeq(MuVar("_x")),SequenceId(s,MuVar("_x"))))
def OutermostId(s): return Mu(MuVar("_x"),Sequence(SequenceId(s,MuVar("_x")),All(MuVar("_x"))))
def OnceTopDownId(s): return Mu(MuVar("_x"),ChoiceId(s,OneId(MuVar("_x"))))

<?xml version="1.0" encoding="UTF-8"?>
<plugin
   id="fr.loria.eclipse.jtom"
   name="Jtom Plug-in"
   version="1.0.0"
   provider-name="LORIA"
   class="fr.loria.eclipse.jtom.JtomPlugin">

   <runtime>
      <library name="jtom-eclipse.jar"/>
      <library name="jtom-devel1.4beta.jar"/>
      <library name="jjtraveler-0.4.2.jar"/>
      <library name="aterm-1.5beta.jar"/>
      <library name="shared-objects-1.4.jar"/>
      <library name="apigen.jar"/>
   </runtime>
   <requires>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.jdt.core"/>
   </requires>


   <extension
         id="TomBuilder"
         name="Tom Builder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="false">
         <run
               class="fr.loria.eclipse.jtom.TomBuilder">
         </run>
      </builder>
   </extension>
   <extension
         id="TomBuildAnalyser"
         name="Tom Builder Analyser"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="false">
         <run
               class="fr.loria.eclipse.jtom.TomBuildAnalyser">
         </run>
      </builder>
   </extension>
   <extension
         id="ADTToJavaBuilder"
         name="ADTToJava Builder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="false">
         <run
               class="fr.loria.eclipse.jtom.ADTToJavaBuilder">
         </run>
      </builder>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="Tom Preferences"
            class="fr.loria.eclipse.jtom.TomPreferencePage"
            id="fr.loria.eclipse.jtom.PreferencePage">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            objectClass="org.eclipse.core.resources.IFile"
            name="Tom Property"
            nameFilter="*.t"
            class="fr.loria.eclipse.jtom.TomFilePropertyPage"
            id="fr.loria.eclipse.jtom.TomPropertyPage">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            objectClass="org.eclipse.core.resources.IFile"
            name="ApiGen Property"
            nameFilter="*.adt"
            class="fr.loria.eclipse.jtom.ADTFilePropertyPage"
            id="fr.loria.eclipse.jtom.ADTPropertyPage">
      </page>
   </extension>
<!-- Tom editor
   <extension
         point="org.eclipse.ui.documentProviders">
      <provider
            extensions="t"
            class="fr.loria.eclipse.jtom.editor.TomDocumentProvider"
            id="fr.loria.eclipse.jtom.editor.TomDocumentProvider">
      </provider>
   </extension>-->
   <extension
         point="org.eclipse.ui.editors">
      <editor
      	  	id="fr.loria.eclipse.jtom.editor.TomEditor"
            name="Tom Editor"
            icon="icons/BigTom.gif"
            extensions="t"
            class="fr.loria.eclipse.jtom.editor.TomEditor"
            >
			<!--contributorClass="fr.loria.eclipse.jtom.editor.TomActionContributor"-->
      </editor>
   </extension>

<!-- Tom and ADTPop-up-->
  <extension point = "org.eclipse.ui.popupMenus">
     <objectContribution
        id="fr.loria.eclipse.jtom.TomPopupBuilder"
        objectClass="org.eclipse.core.resources.IFile"
	    nameFilter="*.t">
	    <action id="fr.loria.eclipse.jtom.TomPopupBuilder.Action"
	       label="TomCompile..."
	       menubarPath="additions"
	       icon="icons/BigTom.gif"
	       class="fr.loria.eclipse.jtom.TomPopupBuilder"	
	       enablesFor="1">
	    </action>
	 </objectContribution>
	      <objectContribution
        id="fr.loria.eclipse.jtom.ADTPopupBuilder"
        objectClass="org.eclipse.core.resources.IFile"
	    nameFilter="*.adt">
	    <action id="fr.loria.eclipse.jtom.ADTPopupBuilder.Action"
	       label="Generate API..."
	       icon="icons/BigAPI.gif"
	       class="fr.loria.eclipse.jtom.ADTPopupBuilder"	
	       enablesFor="1">
	    </action>
	 </objectContribution>
  </extension>
</plugin>

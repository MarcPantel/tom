/* Generated by TOM (version 20071002 (src)): Do not edit this file */package polygraphicprogram;

import polygraphicprogram.*;
import polygraphicprogram.types.*;
import tom.library.sl.*;
import java.util.HashSet;
import java.util.Iterator;

public class PolygraphicProgram{

/* Generated by TOM (version 20071002 (src)): Do not edit this file *//* Generated by TOM (version 20071002 (src)): Do not edit this file *//* Generated by TOM (version 20071002 (src)): Do not edit this file */private static boolean tom_equal_term_char(char t1, char t2) { return  (t1==t2) ;}private static boolean tom_is_sort_char(char t) { return  true ;} private static boolean tom_equal_term_String(String t1, String t2) { return  (t1.equals(t2)) ;}private static boolean tom_is_sort_String(String t) { return  t instanceof String ;}  private static boolean tom_equal_term_ThreePath(Object t1, Object t2) { return  t1.equals(t2) ;}private static boolean tom_is_sort_ThreePath(Object t) { return  t instanceof polygraphicprogram.types.ThreePath ;}private static boolean tom_equal_term_CellType(Object t1, Object t2) { return  t1.equals(t2) ;}private static boolean tom_is_sort_CellType(Object t) { return  t instanceof polygraphicprogram.types.CellType ;}private static boolean tom_equal_term_TwoPath(Object t1, Object t2) { return  t1.equals(t2) ;}private static boolean tom_is_sort_TwoPath(Object t) { return  t instanceof polygraphicprogram.types.TwoPath ;}private static boolean tom_equal_term_OnePath(Object t1, Object t2) { return  t1.equals(t2) ;}private static boolean tom_is_sort_OnePath(Object t) { return  t instanceof polygraphicprogram.types.OnePath ;}private static  polygraphicprogram.types.ThreePath  tom_make_ThreeCell( String  t0,  polygraphicprogram.types.TwoPath  t1,  polygraphicprogram.types.TwoPath  t2,  polygraphicprogram.types.CellType  t3) { return  polygraphicprogram.types.threepath.ThreeCell.make(t0, t1, t2, t3) ; }private static boolean tom_is_fun_sym_Constructor( polygraphicprogram.types.CellType  t) { return  (t instanceof polygraphicprogram.types.celltype.Constructor) ;}private static  polygraphicprogram.types.CellType  tom_make_Constructor() { return  polygraphicprogram.types.celltype.Constructor.make() ; }private static boolean tom_is_fun_sym_Function( polygraphicprogram.types.CellType  t) { return  (t instanceof polygraphicprogram.types.celltype.Function) ;}private static  polygraphicprogram.types.CellType  tom_make_Function() { return  polygraphicprogram.types.celltype.Function.make() ; }private static boolean tom_is_fun_sym_TwoId( polygraphicprogram.types.TwoPath  t) { return  (t instanceof polygraphicprogram.types.twopath.TwoId) ;}private static  polygraphicprogram.types.TwoPath  tom_make_TwoId( polygraphicprogram.types.OnePath  t0) { return  polygraphicprogram.types.twopath.TwoId.make(t0) ; }private static  polygraphicprogram.types.OnePath  tom_get_slot_TwoId_onePath( polygraphicprogram.types.TwoPath  t) { return  t.getonePath() ;}private static boolean tom_is_fun_sym_TwoCell( polygraphicprogram.types.TwoPath  t) { return  (t instanceof polygraphicprogram.types.twopath.TwoCell) ;}private static  polygraphicprogram.types.TwoPath  tom_make_TwoCell( String  t0,  polygraphicprogram.types.OnePath  t1,  polygraphicprogram.types.OnePath  t2,  polygraphicprogram.types.CellType  t3) { return  polygraphicprogram.types.twopath.TwoCell.make(t0, t1, t2, t3) ; }private static  String  tom_get_slot_TwoCell_Name( polygraphicprogram.types.TwoPath  t) { return  t.getName() ;}private static  polygraphicprogram.types.OnePath  tom_get_slot_TwoCell_Source( polygraphicprogram.types.TwoPath  t) { return  t.getSource() ;}private static  polygraphicprogram.types.OnePath  tom_get_slot_TwoCell_Target( polygraphicprogram.types.TwoPath  t) { return  t.getTarget() ;}private static  polygraphicprogram.types.CellType  tom_get_slot_TwoCell_Type( polygraphicprogram.types.TwoPath  t) { return  t.getType() ;}private static boolean tom_is_fun_sym_Id( polygraphicprogram.types.OnePath  t) { return  (t instanceof polygraphicprogram.types.onepath.Id) ;}private static  polygraphicprogram.types.OnePath  tom_make_Id() { return  polygraphicprogram.types.onepath.Id.make() ; }private static  polygraphicprogram.types.OnePath  tom_make_OneCell( String  t0) { return  polygraphicprogram.types.onepath.OneCell.make(t0) ; }private static boolean tom_is_fun_sym_TwoC0( polygraphicprogram.types.TwoPath  t) { return  ((t instanceof polygraphicprogram.types.twopath.ConsTwoC0) || (t instanceof polygraphicprogram.types.twopath.EmptyTwoC0)) ;}private static  polygraphicprogram.types.TwoPath  tom_empty_list_TwoC0() { return  polygraphicprogram.types.twopath.EmptyTwoC0.make() ; }private static  polygraphicprogram.types.TwoPath  tom_cons_list_TwoC0( polygraphicprogram.types.TwoPath  e,  polygraphicprogram.types.TwoPath  l) { return  polygraphicprogram.types.twopath.ConsTwoC0.make(e,l) ; }private static  polygraphicprogram.types.TwoPath  tom_get_head_TwoC0_TwoPath( polygraphicprogram.types.TwoPath  l) { return  l.getHeadTwoC0() ;}private static  polygraphicprogram.types.TwoPath  tom_get_tail_TwoC0_TwoPath( polygraphicprogram.types.TwoPath  l) { return  l.getTailTwoC0() ;}private static boolean tom_is_empty_TwoC0_TwoPath( polygraphicprogram.types.TwoPath  l) { return  l.isEmptyTwoC0() ;}   private static   polygraphicprogram.types.TwoPath  tom_append_list_TwoC0( polygraphicprogram.types.TwoPath l1,  polygraphicprogram.types.TwoPath  l2) {     if( l1.isEmptyTwoC0() ) {       return l2;     } else if( l2.isEmptyTwoC0() ) {       return l1;     } else if( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC0) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC0)) ) {       if( (( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC0) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC0)) )? l1.getTailTwoC0() :tom_empty_list_TwoC0()).isEmptyTwoC0() ) {         return  polygraphicprogram.types.twopath.ConsTwoC0.make((( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC0) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC0)) )? l1.getHeadTwoC0() :l1),l2) ;       } else {         return  polygraphicprogram.types.twopath.ConsTwoC0.make((( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC0) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC0)) )? l1.getHeadTwoC0() :l1),tom_append_list_TwoC0((( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC0) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC0)) )? l1.getTailTwoC0() :tom_empty_list_TwoC0()),l2)) ;       }     } else {       return  polygraphicprogram.types.twopath.ConsTwoC0.make(l1,l2) ;     }   }   private static   polygraphicprogram.types.TwoPath  tom_get_slice_TwoC0( polygraphicprogram.types.TwoPath  begin,  polygraphicprogram.types.TwoPath  end, polygraphicprogram.types.TwoPath  tail) {     if(tom_equal_term_TwoPath(begin,end)) {       return tail;     } else {       return  polygraphicprogram.types.twopath.ConsTwoC0.make((( ((begin instanceof polygraphicprogram.types.twopath.ConsTwoC0) || (begin instanceof polygraphicprogram.types.twopath.EmptyTwoC0)) )? begin.getHeadTwoC0() :begin),( polygraphicprogram.types.TwoPath )tom_get_slice_TwoC0((( ((begin instanceof polygraphicprogram.types.twopath.ConsTwoC0) || (begin instanceof polygraphicprogram.types.twopath.EmptyTwoC0)) )? begin.getTailTwoC0() :tom_empty_list_TwoC0()),end,tail)) ;     }   }   private static boolean tom_is_fun_sym_TwoC1( polygraphicprogram.types.TwoPath  t) { return  ((t instanceof polygraphicprogram.types.twopath.ConsTwoC1) || (t instanceof polygraphicprogram.types.twopath.EmptyTwoC1)) ;}private static  polygraphicprogram.types.TwoPath  tom_empty_list_TwoC1() { return  polygraphicprogram.types.twopath.EmptyTwoC1.make() ; }private static  polygraphicprogram.types.TwoPath  tom_cons_list_TwoC1( polygraphicprogram.types.TwoPath  e,  polygraphicprogram.types.TwoPath  l) { return  polygraphicprogram.types.twopath.ConsTwoC1.make(e,l) ; }private static  polygraphicprogram.types.TwoPath  tom_get_head_TwoC1_TwoPath( polygraphicprogram.types.TwoPath  l) { return  l.getHeadTwoC1() ;}private static  polygraphicprogram.types.TwoPath  tom_get_tail_TwoC1_TwoPath( polygraphicprogram.types.TwoPath  l) { return  l.getTailTwoC1() ;}private static boolean tom_is_empty_TwoC1_TwoPath( polygraphicprogram.types.TwoPath  l) { return  l.isEmptyTwoC1() ;}   private static   polygraphicprogram.types.TwoPath  tom_append_list_TwoC1( polygraphicprogram.types.TwoPath l1,  polygraphicprogram.types.TwoPath  l2) {     if( l1.isEmptyTwoC1() ) {       return l2;     } else if( l2.isEmptyTwoC1() ) {       return l1;     } else if( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC1) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC1)) ) {       if( (( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC1) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC1)) )? l1.getTailTwoC1() :tom_empty_list_TwoC1()).isEmptyTwoC1() ) {         return  polygraphicprogram.types.twopath.ConsTwoC1.make((( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC1) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC1)) )? l1.getHeadTwoC1() :l1),l2) ;       } else {         return  polygraphicprogram.types.twopath.ConsTwoC1.make((( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC1) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC1)) )? l1.getHeadTwoC1() :l1),tom_append_list_TwoC1((( ((l1 instanceof polygraphicprogram.types.twopath.ConsTwoC1) || (l1 instanceof polygraphicprogram.types.twopath.EmptyTwoC1)) )? l1.getTailTwoC1() :tom_empty_list_TwoC1()),l2)) ;       }     } else {       return  polygraphicprogram.types.twopath.ConsTwoC1.make(l1,l2) ;     }   }   private static   polygraphicprogram.types.TwoPath  tom_get_slice_TwoC1( polygraphicprogram.types.TwoPath  begin,  polygraphicprogram.types.TwoPath  end, polygraphicprogram.types.TwoPath  tail) {     if(tom_equal_term_TwoPath(begin,end)) {       return tail;     } else {       return  polygraphicprogram.types.twopath.ConsTwoC1.make((( ((begin instanceof polygraphicprogram.types.twopath.ConsTwoC1) || (begin instanceof polygraphicprogram.types.twopath.EmptyTwoC1)) )? begin.getHeadTwoC1() :begin),( polygraphicprogram.types.TwoPath )tom_get_slice_TwoC1((( ((begin instanceof polygraphicprogram.types.twopath.ConsTwoC1) || (begin instanceof polygraphicprogram.types.twopath.EmptyTwoC1)) )? begin.getTailTwoC1() :tom_empty_list_TwoC1()),end,tail)) ;     }   }   private static boolean tom_is_fun_sym_OneC0( polygraphicprogram.types.OnePath  t) { return  ((t instanceof polygraphicprogram.types.onepath.ConsOneC0) || (t instanceof polygraphicprogram.types.onepath.EmptyOneC0)) ;}private static  polygraphicprogram.types.OnePath  tom_empty_list_OneC0() { return  polygraphicprogram.types.onepath.EmptyOneC0.make() ; }private static  polygraphicprogram.types.OnePath  tom_cons_list_OneC0( polygraphicprogram.types.OnePath  e,  polygraphicprogram.types.OnePath  l) { return  polygraphicprogram.types.onepath.ConsOneC0.make(e,l) ; }private static  polygraphicprogram.types.OnePath  tom_get_head_OneC0_OnePath( polygraphicprogram.types.OnePath  l) { return  l.getHeadOneC0() ;}private static  polygraphicprogram.types.OnePath  tom_get_tail_OneC0_OnePath( polygraphicprogram.types.OnePath  l) { return  l.getTailOneC0() ;}private static boolean tom_is_empty_OneC0_OnePath( polygraphicprogram.types.OnePath  l) { return  l.isEmptyOneC0() ;}   private static   polygraphicprogram.types.OnePath  tom_append_list_OneC0( polygraphicprogram.types.OnePath l1,  polygraphicprogram.types.OnePath  l2) {     if( l1.isEmptyOneC0() ) {       return l2;     } else if( l2.isEmptyOneC0() ) {       return l1;     } else if( ((l1 instanceof polygraphicprogram.types.onepath.ConsOneC0) || (l1 instanceof polygraphicprogram.types.onepath.EmptyOneC0)) ) {       if( (( ((l1 instanceof polygraphicprogram.types.onepath.ConsOneC0) || (l1 instanceof polygraphicprogram.types.onepath.EmptyOneC0)) )? l1.getTailOneC0() :tom_empty_list_OneC0()).isEmptyOneC0() ) {         return  polygraphicprogram.types.onepath.ConsOneC0.make((( ((l1 instanceof polygraphicprogram.types.onepath.ConsOneC0) || (l1 instanceof polygraphicprogram.types.onepath.EmptyOneC0)) )? l1.getHeadOneC0() :l1),l2) ;       } else {         return  polygraphicprogram.types.onepath.ConsOneC0.make((( ((l1 instanceof polygraphicprogram.types.onepath.ConsOneC0) || (l1 instanceof polygraphicprogram.types.onepath.EmptyOneC0)) )? l1.getHeadOneC0() :l1),tom_append_list_OneC0((( ((l1 instanceof polygraphicprogram.types.onepath.ConsOneC0) || (l1 instanceof polygraphicprogram.types.onepath.EmptyOneC0)) )? l1.getTailOneC0() :tom_empty_list_OneC0()),l2)) ;       }     } else {       return  polygraphicprogram.types.onepath.ConsOneC0.make(l1,l2) ;     }   }   private static   polygraphicprogram.types.OnePath  tom_get_slice_OneC0( polygraphicprogram.types.OnePath  begin,  polygraphicprogram.types.OnePath  end, polygraphicprogram.types.OnePath  tail) {     if(tom_equal_term_OnePath(begin,end)) {       return tail;     } else {       return  polygraphicprogram.types.onepath.ConsOneC0.make((( ((begin instanceof polygraphicprogram.types.onepath.ConsOneC0) || (begin instanceof polygraphicprogram.types.onepath.EmptyOneC0)) )? begin.getHeadOneC0() :begin),( polygraphicprogram.types.OnePath )tom_get_slice_OneC0((( ((begin instanceof polygraphicprogram.types.onepath.ConsOneC0) || (begin instanceof polygraphicprogram.types.onepath.EmptyOneC0)) )? begin.getTailOneC0() :tom_empty_list_OneC0()),end,tail)) ;     }   }    /* Generated by TOM (version 20071002 (src)): Do not edit this file */private static boolean tom_equal_term_Strategy(Object t1, Object t2) { return t1.equals(t2);}private static boolean tom_is_sort_Strategy(Object t) { return  t instanceof tom.library.sl.Strategy ;}/* Generated by TOM (version 20071002 (src)): Do not edit this file *//* Generated by TOM (version 20071002 (src)): Do not edit this file */private static boolean tom_equal_term_int(int t1, int t2) { return  (t1==t2) ;}private static boolean tom_is_sort_int(int t) { return  true ;} private static  tom.library.sl.Strategy  tom_make_mu( tom.library.sl.Strategy  var,  tom.library.sl.Strategy  v) { return  new tom.library.sl.Mu(var,v) ; }private static  tom.library.sl.Strategy  tom_make_MuVar( String  name) { return  new tom.library.sl.MuVar(name) ; }private static  tom.library.sl.Strategy  tom_make_Identity() { return  new tom.library.sl.Identity() ; }private static  tom.library.sl.Strategy  tom_make_All( tom.library.sl.Strategy  v) { return  new tom.library.sl.All(v) ; }private static boolean tom_is_fun_sym_Sequence( tom.library.sl.Strategy  t) { return  (t instanceof tom.library.sl.Sequence) ;}private static  tom.library.sl.Strategy  tom_empty_list_Sequence() { return  null ; }private static  tom.library.sl.Strategy  tom_cons_list_Sequence( tom.library.sl.Strategy  head,  tom.library.sl.Strategy  tail) { return  (tail==null)?head:new tom.library.sl.Sequence(head,tail) ; }private static  tom.library.sl.Strategy  tom_get_head_Sequence_Strategy( tom.library.sl.Strategy  t) { return  (tom.library.sl.Strategy)t.getChildAt(tom.library.sl.Sequence.FIRST) ;}private static  tom.library.sl.Strategy  tom_get_tail_Sequence_Strategy( tom.library.sl.Strategy  t) { return  (tom.library.sl.Strategy)t.getChildAt(tom.library.sl.Sequence.THEN) ;}private static boolean tom_is_empty_Sequence_Strategy( tom.library.sl.Strategy  t) { return  t == null ;}   private static   tom.library.sl.Strategy  tom_append_list_Sequence( tom.library.sl.Strategy l1,  tom.library.sl.Strategy  l2) {     if(tom_is_empty_Sequence_Strategy(l1)) {       return l2;     } else if(tom_is_empty_Sequence_Strategy(l2)) {       return l1;     } else if(tom_is_fun_sym_Sequence(l1)) {       if(tom_is_empty_Sequence_Strategy(((tom_is_fun_sym_Sequence(l1))?tom_get_tail_Sequence_Strategy(l1):tom_empty_list_Sequence()))) {         return tom_cons_list_Sequence(((tom_is_fun_sym_Sequence(l1))?tom_get_head_Sequence_Strategy(l1):l1),l2);       } else {         return tom_cons_list_Sequence(((tom_is_fun_sym_Sequence(l1))?tom_get_head_Sequence_Strategy(l1):l1),tom_append_list_Sequence(((tom_is_fun_sym_Sequence(l1))?tom_get_tail_Sequence_Strategy(l1):tom_empty_list_Sequence()),l2));       }     } else {       return tom_cons_list_Sequence(l1,l2);     }   }   private static   tom.library.sl.Strategy  tom_get_slice_Sequence( tom.library.sl.Strategy  begin,  tom.library.sl.Strategy  end, tom.library.sl.Strategy  tail) {     if(tom_equal_term_Strategy(begin,end)) {       return tail;     } else {       return tom_cons_list_Sequence(((tom_is_fun_sym_Sequence(begin))?tom_get_head_Sequence_Strategy(begin):begin),( tom.library.sl.Strategy )tom_get_slice_Sequence(((tom_is_fun_sym_Sequence(begin))?tom_get_tail_Sequence_Strategy(begin):tom_empty_list_Sequence()),end,tail));     }   }   private static boolean tom_is_fun_sym_SequenceId( tom.library.sl.Strategy  t) { return  (t instanceof tom.library.sl.SequenceId) ;}private static  tom.library.sl.Strategy  tom_empty_list_SequenceId() { return  null ; }private static  tom.library.sl.Strategy  tom_cons_list_SequenceId( tom.library.sl.Strategy  head,  tom.library.sl.Strategy  tail) { return  (tail==null)?head:new tom.library.sl.SequenceId(head,tail) ; }private static  tom.library.sl.Strategy  tom_get_head_SequenceId_Strategy( tom.library.sl.Strategy  t) { return  (tom.library.sl.Strategy)t.getChildAt(tom.library.sl.SequenceId.FIRST) ;}private static  tom.library.sl.Strategy  tom_get_tail_SequenceId_Strategy( tom.library.sl.Strategy  t) { return  (tom.library.sl.Strategy)t.getChildAt(tom.library.sl.SequenceId.THEN) ;}private static boolean tom_is_empty_SequenceId_Strategy( tom.library.sl.Strategy  t) { return  t == null ;}   private static   tom.library.sl.Strategy  tom_append_list_SequenceId( tom.library.sl.Strategy l1,  tom.library.sl.Strategy  l2) {     if(tom_is_empty_SequenceId_Strategy(l1)) {       return l2;     } else if(tom_is_empty_SequenceId_Strategy(l2)) {       return l1;     } else if(tom_is_fun_sym_SequenceId(l1)) {       if(tom_is_empty_SequenceId_Strategy(((tom_is_fun_sym_SequenceId(l1))?tom_get_tail_SequenceId_Strategy(l1):tom_empty_list_SequenceId()))) {         return tom_cons_list_SequenceId(((tom_is_fun_sym_SequenceId(l1))?tom_get_head_SequenceId_Strategy(l1):l1),l2);       } else {         return tom_cons_list_SequenceId(((tom_is_fun_sym_SequenceId(l1))?tom_get_head_SequenceId_Strategy(l1):l1),tom_append_list_SequenceId(((tom_is_fun_sym_SequenceId(l1))?tom_get_tail_SequenceId_Strategy(l1):tom_empty_list_SequenceId()),l2));       }     } else {       return tom_cons_list_SequenceId(l1,l2);     }   }   private static   tom.library.sl.Strategy  tom_get_slice_SequenceId( tom.library.sl.Strategy  begin,  tom.library.sl.Strategy  end, tom.library.sl.Strategy  tail) {     if(tom_equal_term_Strategy(begin,end)) {       return tail;     } else {       return tom_cons_list_SequenceId(((tom_is_fun_sym_SequenceId(begin))?tom_get_head_SequenceId_Strategy(begin):begin),( tom.library.sl.Strategy )tom_get_slice_SequenceId(((tom_is_fun_sym_SequenceId(begin))?tom_get_tail_SequenceId_Strategy(begin):tom_empty_list_SequenceId()),end,tail));     }   }    /* Generated by TOM (version 20071002 (src)): Do not edit this file */ /* Generated by TOM (version 20071002 (src)): Do not edit this file */private static  tom.library.sl.Strategy  tom_make_TopDown( tom.library.sl.Strategy  v) { return tom_make_mu(tom_make_MuVar("_x"),tom_cons_list_Sequence(v,tom_cons_list_Sequence(tom_make_All(tom_make_MuVar("_x")),tom_empty_list_Sequence()))) ; }private static  tom.library.sl.Strategy  tom_make_RepeatId( tom.library.sl.Strategy  v) { return tom_make_mu(tom_make_MuVar("_x"),tom_cons_list_SequenceId(v,tom_cons_list_SequenceId(tom_make_MuVar("_x"),tom_empty_list_SequenceId()))) ; }   


private static HashSet<ThreePath> rewritingRules=new HashSet<ThreePath>();

public static void main(String[] args) {

//-----------------------------------------------------------------------------
// jeu de cellules pour les tests :
//-----------------------------------------------------------------------------
// 1-chemin representant les entiers naturels
	OnePath nat=tom_make_OneCell("nat");
// constructeurs sur les entiers naturels
	TwoPath zero=tom_make_TwoCell("zero",tom_make_Id(),nat,tom_make_Constructor());
	TwoPath succ =tom_make_TwoCell("succ",nat,nat,tom_make_Constructor());
// 2-cellules de structure
	TwoPath eraser= tom_make_TwoCell("eraser",nat,tom_make_Id(),tom_make_Function());
	TwoPath duplication= tom_make_TwoCell("duplication",nat,tom_cons_list_OneC0(nat,tom_cons_list_OneC0(nat,tom_empty_list_OneC0())),tom_make_Function());
	TwoPath permutation = tom_make_TwoCell("permutation",tom_cons_list_OneC0(nat,tom_cons_list_OneC0(nat,tom_empty_list_OneC0())),tom_cons_list_OneC0(nat,tom_cons_list_OneC0(nat,tom_empty_list_OneC0())),tom_make_Function());
// addition, soustraction et division
	TwoPath plus = tom_make_TwoCell("plus",tom_cons_list_OneC0(nat,tom_cons_list_OneC0(nat,tom_empty_list_OneC0())),nat,tom_make_Function());
	TwoPath minus = tom_make_TwoCell("minus",tom_cons_list_OneC0(nat,tom_cons_list_OneC0(nat,tom_empty_list_OneC0())),nat,tom_make_Function());
	TwoPath division = tom_make_TwoCell("division",tom_cons_list_OneC0(nat,tom_cons_list_OneC0(nat,tom_empty_list_OneC0())),nat,tom_make_Function());
	TwoPath multiplication = tom_make_TwoCell("multiplication",tom_cons_list_OneC0(nat,tom_cons_list_OneC0(nat,tom_empty_list_OneC0())),nat,tom_make_Function());
// 3-cellules de structure
	ThreePath zeroPerm1 = tom_make_ThreeCell("zeroPerm1",tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(permutation,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_make_Function());
	ThreePath zeroPerm2 = tom_make_ThreeCell("zeroPerm2",tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(permutation,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_make_Function());
	ThreePath zeroDup = tom_make_ThreeCell("zeroDup",tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(duplication,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_make_Function());
	ThreePath zeroEraz = tom_make_ThreeCell("zeroEraz",tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(eraser,tom_empty_list_TwoC1())),tom_make_TwoId(tom_make_Id()),tom_make_Function());
	ThreePath succPerm1 = tom_make_ThreeCell("succPerm1",tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(permutation,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(permutation,tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_empty_list_TwoC1())),tom_make_Function());
	ThreePath succPerm2 = tom_make_ThreeCell("succPerm2",tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(permutation,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(permutation,tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_empty_list_TwoC1())),tom_make_Function());
	ThreePath succDup = tom_make_ThreeCell("succDup",tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(duplication,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(duplication,tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_empty_list_TwoC1())),tom_make_Function());
	ThreePath succEraz = tom_make_ThreeCell("succEraz",tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(eraser,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(eraser,tom_empty_list_TwoC1())),tom_make_Function());
// regles
	ThreePath plusZero = tom_make_ThreeCell("plusZero",tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1())),tom_make_TwoId(nat),tom_make_Function());
	ThreePath plusSucc = tom_make_ThreeCell("plusSucc",tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(plus,tom_cons_list_TwoC1(succ,tom_empty_list_TwoC1())),tom_make_Function());
	ThreePath minusZero1 = tom_make_ThreeCell("minusZero1",tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(minus,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(eraser,tom_cons_list_TwoC1(zero,tom_empty_list_TwoC1())),tom_make_Function());
	ThreePath minusZero2 = tom_make_ThreeCell("minusZero2",tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(minus,tom_empty_list_TwoC1())),tom_make_TwoId(nat),tom_make_Function());
	ThreePath minusDoubleSucc = tom_make_ThreeCell("minusDoubleSucc",tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(minus,tom_empty_list_TwoC1())),minus,tom_make_Function());
	ThreePath divZero = tom_make_ThreeCell("divZero",tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(division,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(eraser,tom_cons_list_TwoC1(zero,tom_empty_list_TwoC1())),tom_make_Function());	
	ThreePath divSucc = tom_make_ThreeCell("divSucc",tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(division,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(duplication,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(minus,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(division,tom_cons_list_TwoC1(succ,tom_empty_list_TwoC1())))),tom_make_Function());
	ThreePath multZero = tom_make_ThreeCell("multZero",tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(multiplication,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(eraser,tom_cons_list_TwoC1(zero,tom_empty_list_TwoC1())),tom_make_Function());	
	ThreePath multSucc = tom_make_ThreeCell("multSucc",tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(multiplication,tom_empty_list_TwoC1())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(duplication,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(multiplication,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1()))),tom_make_Function());
//-----------------------------------------------------------------------------
// on regroupe les regles en les ajoutant a une collection
//-> l'ordre peut etre important afin d'aller plus vite (mais ici je n'ai pas fait attention)
//-----------------------------------------------------------------------------
rewritingRules.add(zeroPerm1);
rewritingRules.add(zeroPerm2);
rewritingRules.add(zeroDup);
rewritingRules.add(zeroEraz);
rewritingRules.add(succPerm1);
rewritingRules.add(succPerm2);
rewritingRules.add(succDup);
rewritingRules.add(succEraz);
rewritingRules.add(plusZero);
rewritingRules.add(plusSucc);
rewritingRules.add(minusZero1);
rewritingRules.add(minusZero2);
rewritingRules.add(minusDoubleSucc);
rewritingRules.add(divZero);
rewritingRules.add(divSucc);
rewritingRules.add(multZero);
rewritingRules.add(multSucc);


//-----------------------------------------------------------------------------
// idee de methode pour le compilateur:
// -explorer le xml et extraire tous les chemins comme ci-dessus
// -regrouper tous les 3-cellules au sein d'une collection
// alterner gravity-verticalmerging-applyRules jusuq'� atteindre un point fixe
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
// TESTS
//-----------------------------------------------------------------------------

// tom.library.utils.Viewer.display(testGravity);
TwoPath test=tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(duplication,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_cons_list_TwoC0(plus,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(eraser,tom_empty_list_TwoC0())),tom_empty_list_TwoC1())))))))),tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(eraser,tom_empty_list_TwoC1())))))),tom_cons_list_TwoC0(tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_empty_list_TwoC1()))),tom_cons_list_TwoC0(tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(eraser,tom_empty_list_TwoC1()))),tom_empty_list_TwoC0())),tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(succ,tom_empty_list_TwoC1()))),tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(eraser,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())),tom_empty_list_TwoC1()));
//<--marche
TwoPath test2=tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(plus,tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(division,tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_empty_list_TwoC1())))))),tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(duplication,tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_empty_list_TwoC1())))))),tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_empty_list_TwoC1()))),tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(succ,tom_empty_list_TwoC1()))),tom_cons_list_TwoC1(succ,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())))),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_make_TwoId(nat),tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(eraser,tom_empty_list_TwoC1()))),tom_cons_list_TwoC0(tom_cons_list_TwoC0(tom_cons_list_TwoC1(plus,tom_cons_list_TwoC1(succ,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC0(tom_cons_list_TwoC1(minus,tom_cons_list_TwoC1(eraser,tom_empty_list_TwoC1())),tom_empty_list_TwoC0()))),tom_empty_list_TwoC1()));
//<--ne marche pas encore � cause des chevauchements� l'intersection des deux etages
TwoPath test3 = tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(minus,tom_empty_list_TwoC1())))),tom_cons_list_TwoC0(tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(minus,tom_empty_list_TwoC1()))))),tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1()))))),tom_empty_list_TwoC0())),tom_cons_list_TwoC0(tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1())))),tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(minus,tom_empty_list_TwoC1())))),tom_empty_list_TwoC0())),tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_cons_list_TwoC0(permutation,tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_empty_list_TwoC0())))),tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(tom_make_TwoId(nat),tom_cons_list_TwoC0(eraser,tom_cons_list_TwoC0(eraser,tom_empty_list_TwoC0()))))),tom_empty_list_TwoC1())));
//<--marche bien
TwoPath test4 = tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(succ,tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(division,tom_empty_list_TwoC1()))))))));
//<--resultat faux
TwoPath test5=tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(succ,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_cons_list_TwoC1(zero,tom_cons_list_TwoC1(succ,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1()));
TwoPath test6=tom_cons_list_TwoC1(tom_cons_list_TwoC0(zero,tom_cons_list_TwoC0(zero,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(tom_cons_list_TwoC0(succ,tom_cons_list_TwoC0(succ,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1())));
TwoPath test7=tom_cons_list_TwoC1(tom_cons_list_TwoC0(test6,tom_cons_list_TwoC0(test6,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1()));
TwoPath test8=tom_cons_list_TwoC1(tom_cons_list_TwoC0(test5,tom_cons_list_TwoC0(test5,tom_empty_list_TwoC0())),tom_cons_list_TwoC1(plus,tom_empty_list_TwoC1()));
//<-marche pas
//Compile(test5);
test(test7);
test(test8);


}
//-----------------------------------------------------------------------------
// fin du main
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
// STRATEGIES version 2 
//-----------------------------------------------------------------------------
private static class Normalize extends  polygraphicprogram.PolygraphicProgramBasicStrategy  {public Normalize() { super(tom_make_Identity());}public tom.library.sl.Visitable[] getChildren() {tom.library.sl.Visitable[] stratChilds = new tom.library.sl.Visitable[getChildCount()];stratChilds[0] = super.getChildAt(0);return stratChilds;}public tom.library.sl.Visitable setChildren(tom.library.sl.Visitable[] children) {super.setChildAt(0, children[0]);return this;}public int getChildCount() { return 1; }public tom.library.sl.Visitable getChildAt(int index) {switch (index) {case 0: return super.getChildAt(0);default: throw new IndexOutOfBoundsException();}}public tom.library.sl.Visitable setChildAt(int index, tom.library.sl.Visitable child) {switch (index) {case 0: return super.setChildAt(0, child);default: throw new IndexOutOfBoundsException();}}public  polygraphicprogram.types.TwoPath  visit_TwoPath( polygraphicprogram.types.TwoPath  tom__arg) throws tom.library.sl.VisitFailure {if (tom_is_sort_TwoPath(tom__arg)) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )tom__arg);if (tom_is_fun_sym_TwoC1(tomMatch92NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_0=tomMatch92NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_0) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_0, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_0)):(tomMatch92NameNumber_freshVar_0)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_3=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_0)):(tomMatch92NameNumber_freshVar_0));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_5=tomMatch92NameNumber_freshVar_3;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_6=tomMatch92NameNumber_freshVar_3;do {{{  polygraphicprogram.types.TwoPath  tom_head1=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_5,tomMatch92NameNumber_end_6,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_4=tomMatch92NameNumber_end_6;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_4) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_4, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoC1(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_4))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_4)):(tomMatch92NameNumber_freshVar_4)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_9=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_4))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_4)):(tomMatch92NameNumber_freshVar_4));{  polygraphicprogram.types.TwoPath  tom_top=tomMatch92NameNumber_freshVar_9;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_7=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_4))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_4)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail1=tomMatch92NameNumber_freshVar_7;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_1=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_0))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_0)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_1, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_1)):(tomMatch92NameNumber_freshVar_1)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_11=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_1)):(tomMatch92NameNumber_freshVar_1));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_13=tomMatch92NameNumber_freshVar_11;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_14=tomMatch92NameNumber_freshVar_11;do {{{  polygraphicprogram.types.TwoPath  tom_head2=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_13,tomMatch92NameNumber_end_14,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_12=tomMatch92NameNumber_end_14;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_16=tomMatch92NameNumber_freshVar_12;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_17=tomMatch92NameNumber_freshVar_12;do {{{  polygraphicprogram.types.TwoPath  tom_bottom=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_16,tomMatch92NameNumber_end_17,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_15=tomMatch92NameNumber_end_17;{  polygraphicprogram.types.TwoPath  tom_tail2=tomMatch92NameNumber_freshVar_15;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_2=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_1))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_1)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_2) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_2, tom_empty_list_TwoC1()) ) ) {if ( true ) {

if(tom_head1.target()==tom_head2.source()&&tom_top.target()==tom_bottom.source()){System.out.println("1");return tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_head1,tom_append_list_TwoC1(tom_head2,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_tail1,tom_append_list_TwoC1(tom_tail2,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())));}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_17) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_17, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_17=tomMatch92NameNumber_begin_16;} else {tomMatch92NameNumber_end_17=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_17))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_17)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_17, tomMatch92NameNumber_begin_16)));}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_14) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_14, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_14=tomMatch92NameNumber_begin_13;} else {tomMatch92NameNumber_end_14=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_14))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_14)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_14, tomMatch92NameNumber_begin_13)));}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_6) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_6, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_6=tomMatch92NameNumber_begin_5;} else {tomMatch92NameNumber_end_6=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_6))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_6)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_6, tomMatch92NameNumber_begin_5)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch92NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_25=tomMatch92NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_25) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_25, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_25))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_25)):(tomMatch92NameNumber_freshVar_25)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_28=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_25))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_25)):(tomMatch92NameNumber_freshVar_25));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_30=tomMatch92NameNumber_freshVar_28;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_31=tomMatch92NameNumber_freshVar_28;do {{{  polygraphicprogram.types.TwoPath  tom_head1=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_30,tomMatch92NameNumber_end_31,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_29=tomMatch92NameNumber_end_31;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_29) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_29, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_29)):(tomMatch92NameNumber_freshVar_29)))) {{  String  tomMatch92NameNumber_freshVar_47=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_29)):(tomMatch92NameNumber_freshVar_29)));{  polygraphicprogram.types.OnePath  tomMatch92NameNumber_freshVar_48=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_29)):(tomMatch92NameNumber_freshVar_29)));{  polygraphicprogram.types.OnePath  tomMatch92NameNumber_freshVar_49=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_29)):(tomMatch92NameNumber_freshVar_29)));{  polygraphicprogram.types.CellType  tomMatch92NameNumber_freshVar_50=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_29)):(tomMatch92NameNumber_freshVar_29)));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_29)):(tomMatch92NameNumber_freshVar_29));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_32=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_29))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_29)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail1=tomMatch92NameNumber_freshVar_32;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_26=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_25))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_25)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_26) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_26, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_26))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_26)):(tomMatch92NameNumber_freshVar_26)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_34=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_26))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_26)):(tomMatch92NameNumber_freshVar_26));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_36=tomMatch92NameNumber_freshVar_34;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_37=tomMatch92NameNumber_freshVar_34;do {{{  polygraphicprogram.types.TwoPath  tom_head2=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_36,tomMatch92NameNumber_end_37,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_35=tomMatch92NameNumber_end_37;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_39=tomMatch92NameNumber_freshVar_35;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_40=tomMatch92NameNumber_freshVar_35;do {{{  polygraphicprogram.types.TwoPath  tom_bottom=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_39,tomMatch92NameNumber_end_40,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_38=tomMatch92NameNumber_end_40;{  polygraphicprogram.types.TwoPath  tom_tail2=tomMatch92NameNumber_freshVar_38;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_27=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_26))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_26)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_27) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_27, tom_empty_list_TwoC1()) ) ) {if ( true ) {
if(tom_head1.target()==tom_head2.source()&&tom_top.target()==tom_bottom.source()){System.out.println("2");return tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_head1,tom_append_list_TwoC1(tom_head2,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_tail1,tom_append_list_TwoC1(tom_tail2,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())));}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_40) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_40, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_40=tomMatch92NameNumber_begin_39;} else {tomMatch92NameNumber_end_40=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_40))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_40)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_40, tomMatch92NameNumber_begin_39)));}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_37) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_37, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_37=tomMatch92NameNumber_begin_36;} else {tomMatch92NameNumber_end_37=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_37))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_37)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_37, tomMatch92NameNumber_begin_36)));}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_31) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_31, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_31=tomMatch92NameNumber_begin_30;} else {tomMatch92NameNumber_end_31=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_31))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_31)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_31, tomMatch92NameNumber_begin_30)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch92NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_56=tomMatch92NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_56) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_56, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_56))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_56)):(tomMatch92NameNumber_freshVar_56)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_59=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_56))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_56)):(tomMatch92NameNumber_freshVar_56));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_61=tomMatch92NameNumber_freshVar_59;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_62=tomMatch92NameNumber_freshVar_59;do {{{  polygraphicprogram.types.TwoPath  tom_head1=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_61,tomMatch92NameNumber_end_62,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_60=tomMatch92NameNumber_end_62;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_60) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_60, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_60)):(tomMatch92NameNumber_freshVar_60)))) {{  polygraphicprogram.types.OnePath  tomMatch92NameNumber_freshVar_78=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_60)):(tomMatch92NameNumber_freshVar_60)));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_60)):(tomMatch92NameNumber_freshVar_60));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_63=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_60))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_60)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail1=tomMatch92NameNumber_freshVar_63;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_57=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_56))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_56)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_57) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_57, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_57))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_57)):(tomMatch92NameNumber_freshVar_57)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_65=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_57))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_57)):(tomMatch92NameNumber_freshVar_57));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_67=tomMatch92NameNumber_freshVar_65;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_68=tomMatch92NameNumber_freshVar_65;do {{{  polygraphicprogram.types.TwoPath  tom_head2=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_67,tomMatch92NameNumber_end_68,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_66=tomMatch92NameNumber_end_68;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_70=tomMatch92NameNumber_freshVar_66;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_71=tomMatch92NameNumber_freshVar_66;do {{{  polygraphicprogram.types.TwoPath  tom_bottom=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_70,tomMatch92NameNumber_end_71,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_69=tomMatch92NameNumber_end_71;{  polygraphicprogram.types.TwoPath  tom_tail2=tomMatch92NameNumber_freshVar_69;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_58=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_57))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_57)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_58) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_58, tom_empty_list_TwoC1()) ) ) {if ( true ) {
if(tom_head1.target()==tom_head2.source()&&tom_top.target()==tom_bottom.source()){System.out.println("3");return tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_head1,tom_append_list_TwoC1(tom_head2,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_tail1,tom_append_list_TwoC1(tom_tail2,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())));}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_71) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_71, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_71=tomMatch92NameNumber_begin_70;} else {tomMatch92NameNumber_end_71=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_71))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_71)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_71, tomMatch92NameNumber_begin_70)));}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_68) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_68, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_68=tomMatch92NameNumber_begin_67;} else {tomMatch92NameNumber_end_68=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_68))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_68)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_68, tomMatch92NameNumber_begin_67)));}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_62) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_62, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_62=tomMatch92NameNumber_begin_61;} else {tomMatch92NameNumber_end_62=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_62))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_62)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_62, tomMatch92NameNumber_begin_61)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch92NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_84=tomMatch92NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_84) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_84, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_84))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_84)):(tomMatch92NameNumber_freshVar_84)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_87=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_84))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_84)):(tomMatch92NameNumber_freshVar_84));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_89=tomMatch92NameNumber_freshVar_87;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_90=tomMatch92NameNumber_freshVar_87;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_89,tomMatch92NameNumber_end_90,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_88=tomMatch92NameNumber_end_90;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_88) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_88, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoC1(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_88))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_88)):(tomMatch92NameNumber_freshVar_88)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_93=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_88))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_88)):(tomMatch92NameNumber_freshVar_88));{  polygraphicprogram.types.TwoPath  tom_top=tomMatch92NameNumber_freshVar_93;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_91=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_88))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_88)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch92NameNumber_freshVar_91;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_85=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_84))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_84)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_bottom=tomMatch92NameNumber_freshVar_85;if ( true ) {
if(tom_top.target()==tom_bottom.source()){System.out.println("4");return tom_append_list_TwoC0(tom_head,tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_append_list_TwoC0(tom_tail,tom_empty_list_TwoC0())));}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_90) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_90, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_90=tomMatch92NameNumber_begin_89;} else {tomMatch92NameNumber_end_90=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_90))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_90)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_90, tomMatch92NameNumber_begin_89)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch92NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_99=tomMatch92NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_99) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_99, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_99))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_99)):(tomMatch92NameNumber_freshVar_99)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_102=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_99))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_99)):(tomMatch92NameNumber_freshVar_99));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_104=tomMatch92NameNumber_freshVar_102;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_105=tomMatch92NameNumber_freshVar_102;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_104,tomMatch92NameNumber_end_105,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_103=tomMatch92NameNumber_end_105;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_103) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_103, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_103)):(tomMatch92NameNumber_freshVar_103)))) {{  String  tomMatch92NameNumber_freshVar_111=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_103)):(tomMatch92NameNumber_freshVar_103)));{  polygraphicprogram.types.OnePath  tomMatch92NameNumber_freshVar_112=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_103)):(tomMatch92NameNumber_freshVar_103)));{  polygraphicprogram.types.OnePath  tomMatch92NameNumber_freshVar_113=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_103)):(tomMatch92NameNumber_freshVar_103)));{  polygraphicprogram.types.CellType  tomMatch92NameNumber_freshVar_114=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_103)):(tomMatch92NameNumber_freshVar_103)));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_103)):(tomMatch92NameNumber_freshVar_103));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_106=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_103))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_103)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch92NameNumber_freshVar_106;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_100=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_99))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_99)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_bottom=tomMatch92NameNumber_freshVar_100;if ( true ) {
if(tom_top.target()==tom_bottom.source()){System.out.println("5");return tom_append_list_TwoC0(tom_head,tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_append_list_TwoC0(tom_tail,tom_empty_list_TwoC0())));}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_105) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_105, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_105=tomMatch92NameNumber_begin_104;} else {tomMatch92NameNumber_end_105=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_105))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_105)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_105, tomMatch92NameNumber_begin_104)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch92NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_118=tomMatch92NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_118) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_118, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_118))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_118)):(tomMatch92NameNumber_freshVar_118)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_121=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_118))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_118)):(tomMatch92NameNumber_freshVar_118));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_123=tomMatch92NameNumber_freshVar_121;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_124=tomMatch92NameNumber_freshVar_121;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC0(tomMatch92NameNumber_begin_123,tomMatch92NameNumber_end_124,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_122=tomMatch92NameNumber_end_124;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_122) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_122, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_122))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_122)):(tomMatch92NameNumber_freshVar_122)))) {{  polygraphicprogram.types.OnePath  tomMatch92NameNumber_freshVar_130=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_122))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_122)):(tomMatch92NameNumber_freshVar_122)));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_122))?(tom_get_head_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_122)):(tomMatch92NameNumber_freshVar_122));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_125=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_freshVar_122))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_freshVar_122)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch92NameNumber_freshVar_125;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_119=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_118))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_118)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_bottom=tomMatch92NameNumber_freshVar_119;if ( true ) {
if(tom_top.target()==tom_bottom.source()){System.out.println("6");return tom_append_list_TwoC0(tom_head,tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_append_list_TwoC0(tom_tail,tom_empty_list_TwoC0())));}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch92NameNumber_end_124) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_124, tom_empty_list_TwoC0()) ) ) {tomMatch92NameNumber_end_124=tomMatch92NameNumber_begin_123;} else {tomMatch92NameNumber_end_124=((tom_is_fun_sym_TwoC0(tomMatch92NameNumber_end_124))?(tom_get_tail_TwoC0_TwoPath(tomMatch92NameNumber_end_124)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_124, tomMatch92NameNumber_begin_123)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch92NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_134=tomMatch92NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_begin_136=tomMatch92NameNumber_freshVar_134;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_end_137=tomMatch92NameNumber_freshVar_134;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC1(tomMatch92NameNumber_begin_136,tomMatch92NameNumber_end_137,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_135=tomMatch92NameNumber_end_137;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_135) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_135, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_135))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_135)):(tomMatch92NameNumber_freshVar_135)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_142=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_135))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_135)):(tomMatch92NameNumber_freshVar_135));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_135))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_135)):(tomMatch92NameNumber_freshVar_135));{  polygraphicprogram.types.TwoPath  tom_X=tomMatch92NameNumber_freshVar_142;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_138=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_135))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_135)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_138) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_138, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_138))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_138)):(tomMatch92NameNumber_freshVar_138)))) {{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_144=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_138))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_138)):(tomMatch92NameNumber_freshVar_138));{  polygraphicprogram.types.TwoPath  tom_down=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_138))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_138)):(tomMatch92NameNumber_freshVar_138));{  polygraphicprogram.types.TwoPath  tom_Y=tomMatch92NameNumber_freshVar_144;{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_139=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_138))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_138)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_139) || tom_equal_term_TwoPath(tomMatch92NameNumber_freshVar_139, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_139))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_139)):(tomMatch92NameNumber_freshVar_139)))) {{  String  tomMatch92NameNumber_freshVar_150=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_139))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_139)):(tomMatch92NameNumber_freshVar_139)));{  polygraphicprogram.types.OnePath  tomMatch92NameNumber_freshVar_151=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_139))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_139)):(tomMatch92NameNumber_freshVar_139)));{  polygraphicprogram.types.OnePath  tomMatch92NameNumber_freshVar_152=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_139))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_139)):(tomMatch92NameNumber_freshVar_139)));{  polygraphicprogram.types.CellType  tomMatch92NameNumber_freshVar_153=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_139))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_139)):(tomMatch92NameNumber_freshVar_139)));if (tom_is_fun_sym_Function(tomMatch92NameNumber_freshVar_153)) {{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_139))?(tom_get_head_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_139)):(tomMatch92NameNumber_freshVar_139));{  polygraphicprogram.types.TwoPath  tomMatch92NameNumber_freshVar_140=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_freshVar_139))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_freshVar_139)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch92NameNumber_freshVar_140;if ( true ) {

  	  		int length=tom_top.length();
  	  		TwoPath myNewPath=tom_make_TwoId(tom_make_Id());
  	  		for(int i=0;i<length;i++){
  	  			TwoPath newC1=tom_cons_list_TwoC1((TwoPath)tom_top.getChildAt(i),tom_cons_list_TwoC1((TwoPath)tom_down.getChildAt(i),tom_empty_list_TwoC1()));
  	  			if(i==0){myNewPath=newC1;}
  	  			else if(i==1){myNewPath=tom_cons_list_TwoC0(myNewPath,tom_cons_list_TwoC0(newC1,tom_empty_list_TwoC0()));}
  	  			else{myNewPath.setChildAt(i,newC1);}
  	  		}
  	  		myNewPath=tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(myNewPath,tom_cons_list_TwoC1(tom_f,tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()))));
  	  		return myNewPath;
  	  		}}}}}}}}}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch92NameNumber_end_137) || tom_equal_term_TwoPath(tomMatch92NameNumber_end_137, tom_empty_list_TwoC1()) ) ) {tomMatch92NameNumber_end_137=tomMatch92NameNumber_begin_136;} else {tomMatch92NameNumber_end_137=((tom_is_fun_sym_TwoC1(tomMatch92NameNumber_end_137))?(tom_get_tail_TwoC1_TwoPath(tomMatch92NameNumber_end_137)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch92NameNumber_end_137, tomMatch92NameNumber_begin_136)));}}}}}}return super.visit_TwoPath(tom__arg); }}private static  tom.library.sl.Strategy  tom_make_Normalize() { return new Normalize(); }





private static void test(TwoPath myPath){//fonction pour tester la combinaison de toutes les strategies
try{
System.out.println("BEFORE\n"+myPath);
myPath=(TwoPath) tom_make_RepeatId(tom_make_TopDown(tom_make_Normalize())).visit(myPath);
System.out.println("RESULT\n"+myPath);
//tom.library.utils.Viewer.display(myPath);
}
catch(VisitFailure e) {
      throw new tom.engine.exception.TomRuntimeException("strange term: " + myPath);
    }
}

//-----------------------------------------------------------------------------
// STRATEGIES version 1 
//-----------------------------------------------------------------------------

private static class Print extends  polygraphicprogram.PolygraphicProgramBasicStrategy  {public Print() { super(tom_make_Identity());}public tom.library.sl.Visitable[] getChildren() {tom.library.sl.Visitable[] stratChilds = new tom.library.sl.Visitable[getChildCount()];stratChilds[0] = super.getChildAt(0);return stratChilds;}public tom.library.sl.Visitable setChildren(tom.library.sl.Visitable[] children) {super.setChildAt(0, children[0]);return this;}public int getChildCount() { return 1; }public tom.library.sl.Visitable getChildAt(int index) {switch (index) {case 0: return super.getChildAt(0);default: throw new IndexOutOfBoundsException();}}public tom.library.sl.Visitable setChildAt(int index, tom.library.sl.Visitable child) {switch (index) {case 0: return super.setChildAt(0, child);default: throw new IndexOutOfBoundsException();}}public  polygraphicprogram.types.TwoPath  visit_TwoPath( polygraphicprogram.types.TwoPath  tom__arg) throws tom.library.sl.VisitFailure {if (tom_is_sort_TwoPath(tom__arg)) {{  polygraphicprogram.types.TwoPath  tomMatch93NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )tom__arg);{  polygraphicprogram.types.TwoPath  tom_x=tomMatch93NameNumberfreshSubject_1;if ( true ) {

 System.out.println(tom_x); }}}}return super.visit_TwoPath(tom__arg); }}



// fait tomber les constructeurs
private static class Gravity extends  polygraphicprogram.PolygraphicProgramBasicStrategy  {public Gravity() { super(tom_make_Identity());}public tom.library.sl.Visitable[] getChildren() {tom.library.sl.Visitable[] stratChilds = new tom.library.sl.Visitable[getChildCount()];stratChilds[0] = super.getChildAt(0);return stratChilds;}public tom.library.sl.Visitable setChildren(tom.library.sl.Visitable[] children) {super.setChildAt(0, children[0]);return this;}public int getChildCount() { return 1; }public tom.library.sl.Visitable getChildAt(int index) {switch (index) {case 0: return super.getChildAt(0);default: throw new IndexOutOfBoundsException();}}public tom.library.sl.Visitable setChildAt(int index, tom.library.sl.Visitable child) {switch (index) {case 0: return super.setChildAt(0, child);default: throw new IndexOutOfBoundsException();}}public  polygraphicprogram.types.TwoPath  visit_TwoPath( polygraphicprogram.types.TwoPath  tom__arg) throws tom.library.sl.VisitFailure {if (tom_is_sort_TwoPath(tom__arg)) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )tom__arg);if (tom_is_fun_sym_TwoC1(tomMatch94NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_0=tomMatch94NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_begin_2=tomMatch94NameNumber_freshVar_0;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_end_3=tomMatch94NameNumber_freshVar_0;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC1(tomMatch94NameNumber_begin_2,tomMatch94NameNumber_end_3,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_1=tomMatch94NameNumber_end_3;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_1, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_1)):(tomMatch94NameNumber_freshVar_1)))) {{  String  tomMatch94NameNumber_freshVar_9=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_1)):(tomMatch94NameNumber_freshVar_1)));{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_10=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_1)):(tomMatch94NameNumber_freshVar_1)));{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_11=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_1)):(tomMatch94NameNumber_freshVar_1)));{  polygraphicprogram.types.CellType  tomMatch94NameNumber_freshVar_12=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_1)):(tomMatch94NameNumber_freshVar_1)));if (tom_is_fun_sym_Constructor(tomMatch94NameNumber_freshVar_12)) {{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_1)):(tomMatch94NameNumber_freshVar_1));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_4=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_1))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_1)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_4) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_4, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_4))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_4)):(tomMatch94NameNumber_freshVar_4)))) {{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_13=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_4))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_4)):(tomMatch94NameNumber_freshVar_4)));{  polygraphicprogram.types.TwoPath  tom_g=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_4))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_4)):(tomMatch94NameNumber_freshVar_4));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_5=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_4))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_4)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch94NameNumber_freshVar_5;if ( true ) {


				if(tom_f.target()==tom_g.source()){
				if(tom_head==tom_make_TwoId(tom_make_Id())){
				if(tom_tail==tom_make_TwoId(tom_make_Id())){return tom_cons_list_TwoC1(tom_make_TwoId(tom_f.source()),tom_cons_list_TwoC1(tom_f,tom_empty_list_TwoC1()));}
				return tom_cons_list_TwoC1(tom_make_TwoId(tom_f.source()),tom_cons_list_TwoC1(tom_f,tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));
				}
				if(tom_tail==tom_make_TwoId(tom_make_Id())){return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_make_TwoId(tom_f.source()),tom_cons_list_TwoC1(tom_f,tom_empty_list_TwoC1())));}
				return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_make_TwoId(tom_f.source()),tom_cons_list_TwoC1(tom_f,tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()))));
				}
}}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_end_3) || tom_equal_term_TwoPath(tomMatch94NameNumber_end_3, tom_empty_list_TwoC1()) ) ) {tomMatch94NameNumber_end_3=tomMatch94NameNumber_begin_2;} else {tomMatch94NameNumber_end_3=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_end_3))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_end_3)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch94NameNumber_end_3, tomMatch94NameNumber_begin_2)));}}}}if (tom_is_fun_sym_TwoC1(tomMatch94NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_16=tomMatch94NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_begin_18=tomMatch94NameNumber_freshVar_16;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_end_19=tomMatch94NameNumber_freshVar_16;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC1(tomMatch94NameNumber_begin_18,tomMatch94NameNumber_end_19,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_17=tomMatch94NameNumber_end_19;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_17) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_17, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_17))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_17)):(tomMatch94NameNumber_freshVar_17)))) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_23=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_17))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_17)):(tomMatch94NameNumber_freshVar_17));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_begin_25=tomMatch94NameNumber_freshVar_23;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_end_26=tomMatch94NameNumber_freshVar_23;do {{{  polygraphicprogram.types.TwoPath  tom_head1=tom_get_slice_TwoC0(tomMatch94NameNumber_begin_25,tomMatch94NameNumber_end_26,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_24=tomMatch94NameNumber_end_26;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_24) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_24, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_24))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_24)):(tomMatch94NameNumber_freshVar_24)))) {{  String  tomMatch94NameNumber_freshVar_41=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_24))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_24)):(tomMatch94NameNumber_freshVar_24)));{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_42=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_24))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_24)):(tomMatch94NameNumber_freshVar_24)));{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_43=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_24))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_24)):(tomMatch94NameNumber_freshVar_24)));{  polygraphicprogram.types.CellType  tomMatch94NameNumber_freshVar_44=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_24))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_24)):(tomMatch94NameNumber_freshVar_24)));if (tom_is_fun_sym_Constructor(tomMatch94NameNumber_freshVar_44)) {{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_24))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_24)):(tomMatch94NameNumber_freshVar_24));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_27=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_24))?(tom_get_tail_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_24)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail1=tomMatch94NameNumber_freshVar_27;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_20=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_17))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_17)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_20) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_20, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_20))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_20)):(tomMatch94NameNumber_freshVar_20)))) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_29=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_20))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_20)):(tomMatch94NameNumber_freshVar_20));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_begin_31=tomMatch94NameNumber_freshVar_29;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_end_32=tomMatch94NameNumber_freshVar_29;do {{{  polygraphicprogram.types.TwoPath  tom_head2=tom_get_slice_TwoC0(tomMatch94NameNumber_begin_31,tomMatch94NameNumber_end_32,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_30=tomMatch94NameNumber_end_32;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_30) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_30, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_30))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_30)):(tomMatch94NameNumber_freshVar_30)))) {{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_45=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_30))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_30)):(tomMatch94NameNumber_freshVar_30)));{  polygraphicprogram.types.TwoPath  tom_g=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_30))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_30)):(tomMatch94NameNumber_freshVar_30));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_33=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_30))?(tom_get_tail_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_30)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail2=tomMatch94NameNumber_freshVar_33;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_21=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_20))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_20)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch94NameNumber_freshVar_21;if ( true ) {
 

			if(tom_head1.target()==tom_head2.source()&&tom_tail1.target()==tom_tail2.source()&&tom_f.target()==tom_g.source()){
				//en fait, on n'a pas vraiment besoins de tester les tails si on teste les heads
																											
				if(tom_head==tom_make_TwoId(tom_make_Id())){
					if(tom_tail==tom_make_TwoId(tom_make_Id())){return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head1,tom_cons_list_TwoC0(tom_make_TwoId(tom_f.source()),tom_append_list_TwoC0(tom_tail1,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head2,tom_cons_list_TwoC0(tom_f,tom_append_list_TwoC0(tom_tail2,tom_empty_list_TwoC0()))),tom_empty_list_TwoC1()));}
					return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head1,tom_cons_list_TwoC0(tom_make_TwoId(tom_f.source()),tom_append_list_TwoC0(tom_tail1,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head2,tom_cons_list_TwoC0(tom_f,tom_append_list_TwoC0(tom_tail2,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));
				}
				if(tom_tail==tom_make_TwoId(tom_make_Id())){return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head1,tom_cons_list_TwoC0(tom_make_TwoId(tom_f.source()),tom_append_list_TwoC0(tom_tail1,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head2,tom_cons_list_TwoC0(tom_f,tom_append_list_TwoC0(tom_tail2,tom_empty_list_TwoC0()))),tom_empty_list_TwoC1())));}
				return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head1,tom_cons_list_TwoC0(tom_make_TwoId(tom_f.source()),tom_append_list_TwoC0(tom_tail1,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head2,tom_cons_list_TwoC0(tom_f,tom_append_list_TwoC0(tom_tail2,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()))));
			}
  	  }}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch94NameNumber_end_32) || tom_equal_term_TwoPath(tomMatch94NameNumber_end_32, tom_empty_list_TwoC0()) ) ) {tomMatch94NameNumber_end_32=tomMatch94NameNumber_begin_31;} else {tomMatch94NameNumber_end_32=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_end_32))?(tom_get_tail_TwoC0_TwoPath(tomMatch94NameNumber_end_32)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch94NameNumber_end_32, tomMatch94NameNumber_begin_31)));}}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch94NameNumber_end_26) || tom_equal_term_TwoPath(tomMatch94NameNumber_end_26, tom_empty_list_TwoC0()) ) ) {tomMatch94NameNumber_end_26=tomMatch94NameNumber_begin_25;} else {tomMatch94NameNumber_end_26=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_end_26))?(tom_get_tail_TwoC0_TwoPath(tomMatch94NameNumber_end_26)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch94NameNumber_end_26, tomMatch94NameNumber_begin_25)));}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_end_19) || tom_equal_term_TwoPath(tomMatch94NameNumber_end_19, tom_empty_list_TwoC1()) ) ) {tomMatch94NameNumber_end_19=tomMatch94NameNumber_begin_18;} else {tomMatch94NameNumber_end_19=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_end_19))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_end_19)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch94NameNumber_end_19, tomMatch94NameNumber_begin_18)));}}}}if (tom_is_fun_sym_TwoC1(tomMatch94NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_52=tomMatch94NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_begin_54=tomMatch94NameNumber_freshVar_52;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_end_55=tomMatch94NameNumber_freshVar_52;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC1(tomMatch94NameNumber_begin_54,tomMatch94NameNumber_end_55,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_53=tomMatch94NameNumber_end_55;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_53) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_53, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_53))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_53)):(tomMatch94NameNumber_freshVar_53)))) {{  String  tomMatch94NameNumber_freshVar_69=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_53))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_53)):(tomMatch94NameNumber_freshVar_53)));{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_70=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_53))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_53)):(tomMatch94NameNumber_freshVar_53)));{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_71=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_53))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_53)):(tomMatch94NameNumber_freshVar_53)));{  polygraphicprogram.types.CellType  tomMatch94NameNumber_freshVar_72=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_53))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_53)):(tomMatch94NameNumber_freshVar_53)));if (tom_is_fun_sym_Constructor(tomMatch94NameNumber_freshVar_72)) {{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_53))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_53)):(tomMatch94NameNumber_freshVar_53));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_56=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_53))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_53)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_56) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_56, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_56))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_56)):(tomMatch94NameNumber_freshVar_56)))) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_59=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_56))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_56)):(tomMatch94NameNumber_freshVar_56));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_begin_61=tomMatch94NameNumber_freshVar_59;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_end_62=tomMatch94NameNumber_freshVar_59;do {{{  polygraphicprogram.types.TwoPath  tom_head2=tom_get_slice_TwoC0(tomMatch94NameNumber_begin_61,tomMatch94NameNumber_end_62,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_60=tomMatch94NameNumber_end_62;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_60) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_60, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_60)):(tomMatch94NameNumber_freshVar_60)))) {{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_73=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_60)):(tomMatch94NameNumber_freshVar_60)));{  polygraphicprogram.types.TwoPath  tom_g=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_60)):(tomMatch94NameNumber_freshVar_60));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_63=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_60))?(tom_get_tail_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_60)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail2=tomMatch94NameNumber_freshVar_63;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_57=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_56))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_56)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch94NameNumber_freshVar_57;if ( true ) {
 

			if(tom_f.target()==tom_g.source()){

																											
				if(tom_head==tom_make_TwoId(tom_make_Id())){
					if(tom_tail==tom_make_TwoId(tom_make_Id())){return tom_append_list_TwoC0(tom_head2,tom_cons_list_TwoC0(tom_f,tom_append_list_TwoC0(tom_tail2,tom_empty_list_TwoC0())));}
					return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head2,tom_cons_list_TwoC0(tom_f,tom_append_list_TwoC0(tom_tail2,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()));
				}
				if(tom_tail==tom_make_TwoId(tom_make_Id())){return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head2,tom_cons_list_TwoC0(tom_f,tom_append_list_TwoC0(tom_tail2,tom_empty_list_TwoC0()))),tom_empty_list_TwoC1()));}
				return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head2,tom_cons_list_TwoC0(tom_f,tom_append_list_TwoC0(tom_tail2,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));
			}
  	  }}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch94NameNumber_end_62) || tom_equal_term_TwoPath(tomMatch94NameNumber_end_62, tom_empty_list_TwoC0()) ) ) {tomMatch94NameNumber_end_62=tomMatch94NameNumber_begin_61;} else {tomMatch94NameNumber_end_62=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_end_62))?(tom_get_tail_TwoC0_TwoPath(tomMatch94NameNumber_end_62)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch94NameNumber_end_62, tomMatch94NameNumber_begin_61)));}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_end_55) || tom_equal_term_TwoPath(tomMatch94NameNumber_end_55, tom_empty_list_TwoC1()) ) ) {tomMatch94NameNumber_end_55=tomMatch94NameNumber_begin_54;} else {tomMatch94NameNumber_end_55=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_end_55))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_end_55)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch94NameNumber_end_55, tomMatch94NameNumber_begin_54)));}}}}if (tom_is_fun_sym_TwoC1(tomMatch94NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_78=tomMatch94NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_begin_80=tomMatch94NameNumber_freshVar_78;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_end_81=tomMatch94NameNumber_freshVar_78;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC1(tomMatch94NameNumber_begin_80,tomMatch94NameNumber_end_81,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_79=tomMatch94NameNumber_end_81;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_79) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_79, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_79))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_79)):(tomMatch94NameNumber_freshVar_79)))) {{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_85=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_79))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_79)):(tomMatch94NameNumber_freshVar_79));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_begin_87=tomMatch94NameNumber_freshVar_85;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_end_88=tomMatch94NameNumber_freshVar_85;do {{{  polygraphicprogram.types.TwoPath  tom_head1=tom_get_slice_TwoC0(tomMatch94NameNumber_begin_87,tomMatch94NameNumber_end_88,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_86=tomMatch94NameNumber_end_88;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_86) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_86, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_86))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_86)):(tomMatch94NameNumber_freshVar_86)))) {{  String  tomMatch94NameNumber_freshVar_95=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_86))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_86)):(tomMatch94NameNumber_freshVar_86)));{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_96=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_86))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_86)):(tomMatch94NameNumber_freshVar_86)));{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_97=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_86))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_86)):(tomMatch94NameNumber_freshVar_86)));{  polygraphicprogram.types.CellType  tomMatch94NameNumber_freshVar_98=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_86))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_86)):(tomMatch94NameNumber_freshVar_86)));if (tom_is_fun_sym_Constructor(tomMatch94NameNumber_freshVar_98)) {{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_86))?(tom_get_head_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_86)):(tomMatch94NameNumber_freshVar_86));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_89=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_freshVar_86))?(tom_get_tail_TwoC0_TwoPath(tomMatch94NameNumber_freshVar_86)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail1=tomMatch94NameNumber_freshVar_89;{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_82=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_79))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_79)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_82) || tom_equal_term_TwoPath(tomMatch94NameNumber_freshVar_82, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_82))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_82)):(tomMatch94NameNumber_freshVar_82)))) {{  polygraphicprogram.types.OnePath  tomMatch94NameNumber_freshVar_99=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_82))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_82)):(tomMatch94NameNumber_freshVar_82)));{  polygraphicprogram.types.TwoPath  tom_g=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_82))?(tom_get_head_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_82)):(tomMatch94NameNumber_freshVar_82));{  polygraphicprogram.types.TwoPath  tomMatch94NameNumber_freshVar_83=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_freshVar_82))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_freshVar_82)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch94NameNumber_freshVar_83;if ( true ) {
 

				if(tom_f.target()==tom_g.source()){
				if(tom_head==tom_make_TwoId(tom_make_Id())){
					if(tom_tail==tom_make_TwoId(tom_make_Id())){return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head1,tom_cons_list_TwoC0(tom_make_TwoId(tom_f.source()),tom_append_list_TwoC0(tom_tail1,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_f,tom_empty_list_TwoC1()));}
					return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head1,tom_cons_list_TwoC0(tom_make_TwoId(tom_f.source()),tom_append_list_TwoC0(tom_tail1,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_f,tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));
				}
				if(tom_tail==tom_make_TwoId(tom_make_Id())){return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head1,tom_cons_list_TwoC0(tom_make_TwoId(tom_f.source()),tom_append_list_TwoC0(tom_tail1,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_f,tom_empty_list_TwoC1())));}
				return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head1,tom_cons_list_TwoC0(tom_make_TwoId(tom_f.source()),tom_append_list_TwoC0(tom_tail1,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_f,tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()))));
			}
  	  }}}}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch94NameNumber_end_88) || tom_equal_term_TwoPath(tomMatch94NameNumber_end_88, tom_empty_list_TwoC0()) ) ) {tomMatch94NameNumber_end_88=tomMatch94NameNumber_begin_87;} else {tomMatch94NameNumber_end_88=((tom_is_fun_sym_TwoC0(tomMatch94NameNumber_end_88))?(tom_get_tail_TwoC0_TwoPath(tomMatch94NameNumber_end_88)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch94NameNumber_end_88, tomMatch94NameNumber_begin_87)));}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch94NameNumber_end_81) || tom_equal_term_TwoPath(tomMatch94NameNumber_end_81, tom_empty_list_TwoC1()) ) ) {tomMatch94NameNumber_end_81=tomMatch94NameNumber_begin_80;} else {tomMatch94NameNumber_end_81=((tom_is_fun_sym_TwoC1(tomMatch94NameNumber_end_81))?(tom_get_tail_TwoC1_TwoPath(tomMatch94NameNumber_end_81)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch94NameNumber_end_81, tomMatch94NameNumber_begin_80)));}}}}}}return super.visit_TwoPath(tom__arg); }}private static  tom.library.sl.Strategy  tom_make_Gravity() { return new Gravity(); }private static class VerticalSplitting extends  polygraphicprogram.PolygraphicProgramBasicStrategy  {public VerticalSplitting() { super(tom_make_Identity());}public tom.library.sl.Visitable[] getChildren() {tom.library.sl.Visitable[] stratChilds = new tom.library.sl.Visitable[getChildCount()];stratChilds[0] = super.getChildAt(0);return stratChilds;}public tom.library.sl.Visitable setChildren(tom.library.sl.Visitable[] children) {super.setChildAt(0, children[0]);return this;}public int getChildCount() { return 1; }public tom.library.sl.Visitable getChildAt(int index) {switch (index) {case 0: return super.getChildAt(0);default: throw new IndexOutOfBoundsException();}}public tom.library.sl.Visitable setChildAt(int index, tom.library.sl.Visitable child) {switch (index) {case 0: return super.setChildAt(0, child);default: throw new IndexOutOfBoundsException();}}public  polygraphicprogram.types.TwoPath  visit_TwoPath( polygraphicprogram.types.TwoPath  tom__arg) throws tom.library.sl.VisitFailure {if (tom_is_sort_TwoPath(tom__arg)) {{  polygraphicprogram.types.TwoPath  tomMatch95NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )tom__arg);if (tom_is_fun_sym_TwoC0(tomMatch95NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch95NameNumber_freshVar_0=tomMatch95NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch95NameNumber_begin_2=tomMatch95NameNumber_freshVar_0;{  polygraphicprogram.types.TwoPath  tomMatch95NameNumber_end_3=tomMatch95NameNumber_freshVar_0;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC0(tomMatch95NameNumber_begin_2,tomMatch95NameNumber_end_3,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch95NameNumber_freshVar_1=tomMatch95NameNumber_end_3;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch95NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch95NameNumber_freshVar_1, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoC1(((tom_is_fun_sym_TwoC0(tomMatch95NameNumber_freshVar_1))?(tom_get_head_TwoC0_TwoPath(tomMatch95NameNumber_freshVar_1)):(tomMatch95NameNumber_freshVar_1)))) {{  polygraphicprogram.types.TwoPath  tomMatch95NameNumber_freshVar_6=((tom_is_fun_sym_TwoC0(tomMatch95NameNumber_freshVar_1))?(tom_get_head_TwoC0_TwoPath(tomMatch95NameNumber_freshVar_1)):(tomMatch95NameNumber_freshVar_1));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_6) || tom_equal_term_TwoPath(tomMatch95NameNumber_freshVar_6, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_6))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_6)):(tomMatch95NameNumber_freshVar_6)))) {{  String  tomMatch95NameNumber_freshVar_11=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_6))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_6)):(tomMatch95NameNumber_freshVar_6)));{  polygraphicprogram.types.OnePath  tomMatch95NameNumber_freshVar_12=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_6))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_6)):(tomMatch95NameNumber_freshVar_6)));{  polygraphicprogram.types.OnePath  tomMatch95NameNumber_freshVar_13=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_6))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_6)):(tomMatch95NameNumber_freshVar_6)));{  polygraphicprogram.types.CellType  tomMatch95NameNumber_freshVar_14=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_6))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_6)):(tomMatch95NameNumber_freshVar_6)));{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_6))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_6)):(tomMatch95NameNumber_freshVar_6));{  polygraphicprogram.types.TwoPath  tomMatch95NameNumber_freshVar_7=((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_6))?(tom_get_tail_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_6)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_7) || tom_equal_term_TwoPath(tomMatch95NameNumber_freshVar_7, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_7))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_7)):(tomMatch95NameNumber_freshVar_7)))) {{  String  tomMatch95NameNumber_freshVar_15=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_7))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_7)):(tomMatch95NameNumber_freshVar_7)));{  polygraphicprogram.types.OnePath  tomMatch95NameNumber_freshVar_16=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_7))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_7)):(tomMatch95NameNumber_freshVar_7)));{  polygraphicprogram.types.OnePath  tomMatch95NameNumber_freshVar_17=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_7))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_7)):(tomMatch95NameNumber_freshVar_7)));{  polygraphicprogram.types.CellType  tomMatch95NameNumber_freshVar_18=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_7))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_7)):(tomMatch95NameNumber_freshVar_7)));{  polygraphicprogram.types.TwoPath  tom_g=((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_7))?(tom_get_head_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_7)):(tomMatch95NameNumber_freshVar_7));{  polygraphicprogram.types.TwoPath  tomMatch95NameNumber_freshVar_8=((tom_is_fun_sym_TwoC1(tomMatch95NameNumber_freshVar_7))?(tom_get_tail_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_7)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch95NameNumber_freshVar_8) || tom_equal_term_TwoPath(tomMatch95NameNumber_freshVar_8, tom_empty_list_TwoC1()) ) ) {{  polygraphicprogram.types.TwoPath  tomMatch95NameNumber_freshVar_4=((tom_is_fun_sym_TwoC0(tomMatch95NameNumber_freshVar_1))?(tom_get_tail_TwoC0_TwoPath(tomMatch95NameNumber_freshVar_1)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch95NameNumber_freshVar_4;if ( true ) {





return tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(tom_head.source()),tom_cons_list_TwoC0(tom_f,tom_cons_list_TwoC0(tom_make_TwoId(tom_tail.source()),tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_head,tom_cons_list_TwoC0(tom_g,tom_append_list_TwoC0(tom_tail,tom_empty_list_TwoC0()))),tom_empty_list_TwoC1()));}}}}}}}}}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch95NameNumber_end_3) || tom_equal_term_TwoPath(tomMatch95NameNumber_end_3, tom_empty_list_TwoC0()) ) ) {tomMatch95NameNumber_end_3=tomMatch95NameNumber_begin_2;} else {tomMatch95NameNumber_end_3=((tom_is_fun_sym_TwoC0(tomMatch95NameNumber_end_3))?(tom_get_tail_TwoC0_TwoPath(tomMatch95NameNumber_end_3)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch95NameNumber_end_3, tomMatch95NameNumber_begin_2)));}}}}if (tom_is_fun_sym_TwoId(tomMatch95NameNumberfreshSubject_1)) {{  polygraphicprogram.types.OnePath  tomMatch95NameNumber_freshVar_21=tom_get_slot_TwoId_onePath(tomMatch95NameNumberfreshSubject_1);if (tom_is_fun_sym_OneC0(tomMatch95NameNumber_freshVar_21)) {{  polygraphicprogram.types.OnePath  tomMatch95NameNumber_freshVar_22=tomMatch95NameNumber_freshVar_21;if (!( ( tom_is_empty_OneC0_OnePath(tomMatch95NameNumber_freshVar_22) || tom_equal_term_OnePath(tomMatch95NameNumber_freshVar_22, tom_empty_list_OneC0()) ) )) {{  polygraphicprogram.types.OnePath  tom_head=((tom_is_fun_sym_OneC0(tomMatch95NameNumber_freshVar_22))?(tom_get_head_OneC0_OnePath(tomMatch95NameNumber_freshVar_22)):(tomMatch95NameNumber_freshVar_22));{  polygraphicprogram.types.OnePath  tomMatch95NameNumber_freshVar_23=((tom_is_fun_sym_OneC0(tomMatch95NameNumber_freshVar_22))?(tom_get_tail_OneC0_OnePath(tomMatch95NameNumber_freshVar_22)):(tom_empty_list_OneC0()));{  polygraphicprogram.types.OnePath  tom_tail=tomMatch95NameNumber_freshVar_23;if ( true ) {
 return tom_cons_list_TwoC0(tom_make_TwoId(tom_head),tom_cons_list_TwoC0(tom_make_TwoId(tom_tail),tom_empty_list_TwoC0())); }}}}}}}}}}}return super.visit_TwoPath(tom__arg); }}private static class RefactorSource extends  polygraphicprogram.PolygraphicProgramBasicStrategy  {public RefactorSource() { super(tom_make_Identity());}public tom.library.sl.Visitable[] getChildren() {tom.library.sl.Visitable[] stratChilds = new tom.library.sl.Visitable[getChildCount()];stratChilds[0] = super.getChildAt(0);return stratChilds;}public tom.library.sl.Visitable setChildren(tom.library.sl.Visitable[] children) {super.setChildAt(0, children[0]);return this;}public int getChildCount() { return 1; }public tom.library.sl.Visitable getChildAt(int index) {switch (index) {case 0: return super.getChildAt(0);default: throw new IndexOutOfBoundsException();}}public tom.library.sl.Visitable setChildAt(int index, tom.library.sl.Visitable child) {switch (index) {case 0: return super.setChildAt(0, child);default: throw new IndexOutOfBoundsException();}}public  polygraphicprogram.types.TwoPath  visit_TwoPath( polygraphicprogram.types.TwoPath  tom__arg) throws tom.library.sl.VisitFailure {if (tom_is_sort_TwoPath(tom__arg)) {{  polygraphicprogram.types.TwoPath  tomMatch96NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )tom__arg);if (tom_is_fun_sym_TwoId(tomMatch96NameNumberfreshSubject_1)) {{  polygraphicprogram.types.OnePath  tomMatch96NameNumber_freshVar_0=tom_get_slot_TwoId_onePath(tomMatch96NameNumberfreshSubject_1);if (tom_is_fun_sym_OneC0(tomMatch96NameNumber_freshVar_0)) {{  polygraphicprogram.types.OnePath  tomMatch96NameNumber_freshVar_1=tomMatch96NameNumber_freshVar_0;if (!( ( tom_is_empty_OneC0_OnePath(tomMatch96NameNumber_freshVar_1) || tom_equal_term_OnePath(tomMatch96NameNumber_freshVar_1, tom_empty_list_OneC0()) ) )) {{  polygraphicprogram.types.OnePath  tom_head=((tom_is_fun_sym_OneC0(tomMatch96NameNumber_freshVar_1))?(tom_get_head_OneC0_OnePath(tomMatch96NameNumber_freshVar_1)):(tomMatch96NameNumber_freshVar_1));{  polygraphicprogram.types.OnePath  tomMatch96NameNumber_freshVar_2=((tom_is_fun_sym_OneC0(tomMatch96NameNumber_freshVar_1))?(tom_get_tail_OneC0_OnePath(tomMatch96NameNumber_freshVar_1)):(tom_empty_list_OneC0()));{  polygraphicprogram.types.OnePath  tom_tail=tomMatch96NameNumber_freshVar_2;if ( true ) {





 return tom_cons_list_TwoC0(tom_make_TwoId(tom_head),tom_cons_list_TwoC0(tom_make_TwoId(tom_tail),tom_empty_list_TwoC0())); }}}}}}}}}}}return super.visit_TwoPath(tom__arg); }}private static  tom.library.sl.Strategy  tom_make_RefactorSource() { return new RefactorSource(); }




// sorte de normalisation en stratifiant de fa�on verticale
private static class VerticalMerging extends  polygraphicprogram.PolygraphicProgramBasicStrategy  {public VerticalMerging() { super(tom_make_Identity());}public tom.library.sl.Visitable[] getChildren() {tom.library.sl.Visitable[] stratChilds = new tom.library.sl.Visitable[getChildCount()];stratChilds[0] = super.getChildAt(0);return stratChilds;}public tom.library.sl.Visitable setChildren(tom.library.sl.Visitable[] children) {super.setChildAt(0, children[0]);return this;}public int getChildCount() { return 1; }public tom.library.sl.Visitable getChildAt(int index) {switch (index) {case 0: return super.getChildAt(0);default: throw new IndexOutOfBoundsException();}}public tom.library.sl.Visitable setChildAt(int index, tom.library.sl.Visitable child) {switch (index) {case 0: return super.setChildAt(0, child);default: throw new IndexOutOfBoundsException();}}public  polygraphicprogram.types.TwoPath  visit_TwoPath( polygraphicprogram.types.TwoPath  tom__arg) throws tom.library.sl.VisitFailure {if (tom_is_sort_TwoPath(tom__arg)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )tom__arg);if (tom_is_fun_sym_TwoC1(tomMatch97NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_0=tomMatch97NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_0) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_0, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_0)):(tomMatch97NameNumber_freshVar_0)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_3=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_0)):(tomMatch97NameNumber_freshVar_0));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_5=tomMatch97NameNumber_freshVar_3;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_6=tomMatch97NameNumber_freshVar_3;do {{{  polygraphicprogram.types.TwoPath  tom_head1=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_5,tomMatch97NameNumber_end_6,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_4=tomMatch97NameNumber_end_6;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_4) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_4, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoC1(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_4))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_4)):(tomMatch97NameNumber_freshVar_4)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_9=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_4))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_4)):(tomMatch97NameNumber_freshVar_4));{  polygraphicprogram.types.TwoPath  tom_top=tomMatch97NameNumber_freshVar_9;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_7=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_4))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_4)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail1=tomMatch97NameNumber_freshVar_7;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_1=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_0))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_0)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_1, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_1)):(tomMatch97NameNumber_freshVar_1)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_11=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_1)):(tomMatch97NameNumber_freshVar_1));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_13=tomMatch97NameNumber_freshVar_11;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_14=tomMatch97NameNumber_freshVar_11;do {{{  polygraphicprogram.types.TwoPath  tom_head2=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_13,tomMatch97NameNumber_end_14,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_12=tomMatch97NameNumber_end_14;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_16=tomMatch97NameNumber_freshVar_12;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_17=tomMatch97NameNumber_freshVar_12;do {{{  polygraphicprogram.types.TwoPath  tom_bottom=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_16,tomMatch97NameNumber_end_17,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_15=tomMatch97NameNumber_end_17;{  polygraphicprogram.types.TwoPath  tom_tail2=tomMatch97NameNumber_freshVar_15;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_2=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_1))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_1)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_2) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_2, tom_empty_list_TwoC1()) ) ) {if ( true ) {


if(tom_head1.target()==tom_head2.source()&&tom_top.target()==tom_bottom.source()){System.out.println("1");return tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_head1,tom_append_list_TwoC1(tom_head2,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_tail1,tom_append_list_TwoC1(tom_tail2,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())));}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_17) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_17, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_17=tomMatch97NameNumber_begin_16;} else {tomMatch97NameNumber_end_17=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_17))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_17)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_17, tomMatch97NameNumber_begin_16)));}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_14) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_14, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_14=tomMatch97NameNumber_begin_13;} else {tomMatch97NameNumber_end_14=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_14))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_14)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_14, tomMatch97NameNumber_begin_13)));}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_6) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_6, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_6=tomMatch97NameNumber_begin_5;} else {tomMatch97NameNumber_end_6=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_6))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_6)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_6, tomMatch97NameNumber_begin_5)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch97NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_25=tomMatch97NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_25) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_25, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_25))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_25)):(tomMatch97NameNumber_freshVar_25)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_28=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_25))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_25)):(tomMatch97NameNumber_freshVar_25));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_30=tomMatch97NameNumber_freshVar_28;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_31=tomMatch97NameNumber_freshVar_28;do {{{  polygraphicprogram.types.TwoPath  tom_head1=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_30,tomMatch97NameNumber_end_31,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_29=tomMatch97NameNumber_end_31;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_29) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_29, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_29)):(tomMatch97NameNumber_freshVar_29)))) {{  String  tomMatch97NameNumber_freshVar_47=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_29)):(tomMatch97NameNumber_freshVar_29)));{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_48=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_29)):(tomMatch97NameNumber_freshVar_29)));{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_49=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_29)):(tomMatch97NameNumber_freshVar_29)));{  polygraphicprogram.types.CellType  tomMatch97NameNumber_freshVar_50=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_29)):(tomMatch97NameNumber_freshVar_29)));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_29))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_29)):(tomMatch97NameNumber_freshVar_29));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_32=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_29))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_29)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail1=tomMatch97NameNumber_freshVar_32;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_26=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_25))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_25)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_26) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_26, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_26))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_26)):(tomMatch97NameNumber_freshVar_26)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_34=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_26))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_26)):(tomMatch97NameNumber_freshVar_26));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_36=tomMatch97NameNumber_freshVar_34;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_37=tomMatch97NameNumber_freshVar_34;do {{{  polygraphicprogram.types.TwoPath  tom_head2=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_36,tomMatch97NameNumber_end_37,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_35=tomMatch97NameNumber_end_37;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_39=tomMatch97NameNumber_freshVar_35;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_40=tomMatch97NameNumber_freshVar_35;do {{{  polygraphicprogram.types.TwoPath  tom_bottom=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_39,tomMatch97NameNumber_end_40,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_38=tomMatch97NameNumber_end_40;{  polygraphicprogram.types.TwoPath  tom_tail2=tomMatch97NameNumber_freshVar_38;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_27=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_26))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_26)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_27) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_27, tom_empty_list_TwoC1()) ) ) {if ( true ) {
if(tom_head1.target()==tom_head2.source()&&tom_top.target()==tom_bottom.source()){System.out.println("2");return tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_head1,tom_append_list_TwoC1(tom_head2,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_tail1,tom_append_list_TwoC1(tom_tail2,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())));}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_40) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_40, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_40=tomMatch97NameNumber_begin_39;} else {tomMatch97NameNumber_end_40=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_40))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_40)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_40, tomMatch97NameNumber_begin_39)));}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_37) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_37, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_37=tomMatch97NameNumber_begin_36;} else {tomMatch97NameNumber_end_37=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_37))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_37)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_37, tomMatch97NameNumber_begin_36)));}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_31) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_31, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_31=tomMatch97NameNumber_begin_30;} else {tomMatch97NameNumber_end_31=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_31))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_31)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_31, tomMatch97NameNumber_begin_30)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch97NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_56=tomMatch97NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_56) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_56, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_56))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_56)):(tomMatch97NameNumber_freshVar_56)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_59=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_56))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_56)):(tomMatch97NameNumber_freshVar_56));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_61=tomMatch97NameNumber_freshVar_59;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_62=tomMatch97NameNumber_freshVar_59;do {{{  polygraphicprogram.types.TwoPath  tom_head1=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_61,tomMatch97NameNumber_end_62,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_60=tomMatch97NameNumber_end_62;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_60) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_60, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_60)):(tomMatch97NameNumber_freshVar_60)))) {{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_78=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_60)):(tomMatch97NameNumber_freshVar_60)));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_60))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_60)):(tomMatch97NameNumber_freshVar_60));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_63=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_60))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_60)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail1=tomMatch97NameNumber_freshVar_63;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_57=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_56))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_56)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_57) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_57, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_57))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_57)):(tomMatch97NameNumber_freshVar_57)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_65=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_57))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_57)):(tomMatch97NameNumber_freshVar_57));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_67=tomMatch97NameNumber_freshVar_65;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_68=tomMatch97NameNumber_freshVar_65;do {{{  polygraphicprogram.types.TwoPath  tom_head2=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_67,tomMatch97NameNumber_end_68,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_66=tomMatch97NameNumber_end_68;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_70=tomMatch97NameNumber_freshVar_66;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_71=tomMatch97NameNumber_freshVar_66;do {{{  polygraphicprogram.types.TwoPath  tom_bottom=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_70,tomMatch97NameNumber_end_71,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_69=tomMatch97NameNumber_end_71;{  polygraphicprogram.types.TwoPath  tom_tail2=tomMatch97NameNumber_freshVar_69;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_58=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_57))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_57)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_58) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_58, tom_empty_list_TwoC1()) ) ) {if ( true ) {
if(tom_head1.target()==tom_head2.source()&&tom_top.target()==tom_bottom.source()){System.out.println("3");return tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_head1,tom_append_list_TwoC1(tom_head2,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_tail1,tom_append_list_TwoC1(tom_tail2,tom_empty_list_TwoC1())),tom_empty_list_TwoC0())));}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_71) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_71, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_71=tomMatch97NameNumber_begin_70;} else {tomMatch97NameNumber_end_71=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_71))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_71)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_71, tomMatch97NameNumber_begin_70)));}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_68) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_68, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_68=tomMatch97NameNumber_begin_67;} else {tomMatch97NameNumber_end_68=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_68))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_68)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_68, tomMatch97NameNumber_begin_67)));}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_62) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_62, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_62=tomMatch97NameNumber_begin_61;} else {tomMatch97NameNumber_end_62=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_62))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_62)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_62, tomMatch97NameNumber_begin_61)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch97NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_84=tomMatch97NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_84) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_84, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_84))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_84)):(tomMatch97NameNumber_freshVar_84)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_87=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_84))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_84)):(tomMatch97NameNumber_freshVar_84));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_89=tomMatch97NameNumber_freshVar_87;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_90=tomMatch97NameNumber_freshVar_87;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_89,tomMatch97NameNumber_end_90,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_88=tomMatch97NameNumber_end_90;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_88) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_88, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoC1(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_88))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_88)):(tomMatch97NameNumber_freshVar_88)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_93=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_88))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_88)):(tomMatch97NameNumber_freshVar_88));{  polygraphicprogram.types.TwoPath  tom_top=tomMatch97NameNumber_freshVar_93;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_91=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_88))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_88)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch97NameNumber_freshVar_91;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_85=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_84))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_84)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_bottom=tomMatch97NameNumber_freshVar_85;if ( true ) {
if(tom_top.target()==tom_bottom.source()){System.out.println("4");return tom_append_list_TwoC0(tom_head,tom_cons_list_TwoC0(tom_append_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_append_list_TwoC0(tom_tail,tom_empty_list_TwoC0())));}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_90) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_90, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_90=tomMatch97NameNumber_begin_89;} else {tomMatch97NameNumber_end_90=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_90))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_90)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_90, tomMatch97NameNumber_begin_89)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch97NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_99=tomMatch97NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_99) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_99, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_99))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_99)):(tomMatch97NameNumber_freshVar_99)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_102=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_99))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_99)):(tomMatch97NameNumber_freshVar_99));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_104=tomMatch97NameNumber_freshVar_102;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_105=tomMatch97NameNumber_freshVar_102;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_104,tomMatch97NameNumber_end_105,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_103=tomMatch97NameNumber_end_105;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_103) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_103, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_103)):(tomMatch97NameNumber_freshVar_103)))) {{  String  tomMatch97NameNumber_freshVar_111=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_103)):(tomMatch97NameNumber_freshVar_103)));{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_112=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_103)):(tomMatch97NameNumber_freshVar_103)));{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_113=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_103)):(tomMatch97NameNumber_freshVar_103)));{  polygraphicprogram.types.CellType  tomMatch97NameNumber_freshVar_114=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_103)):(tomMatch97NameNumber_freshVar_103)));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_103))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_103)):(tomMatch97NameNumber_freshVar_103));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_106=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_103))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_103)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch97NameNumber_freshVar_106;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_100=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_99))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_99)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_bottom=tomMatch97NameNumber_freshVar_100;if ( true ) {
if(tom_top.target()==tom_bottom.source()){System.out.println("5");return tom_append_list_TwoC0(tom_head,tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_append_list_TwoC0(tom_tail,tom_empty_list_TwoC0())));}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_105) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_105, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_105=tomMatch97NameNumber_begin_104;} else {tomMatch97NameNumber_end_105=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_105))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_105)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_105, tomMatch97NameNumber_begin_104)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch97NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_118=tomMatch97NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_118) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_118, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_118))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_118)):(tomMatch97NameNumber_freshVar_118)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_121=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_118))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_118)):(tomMatch97NameNumber_freshVar_118));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_123=tomMatch97NameNumber_freshVar_121;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_124=tomMatch97NameNumber_freshVar_121;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_123,tomMatch97NameNumber_end_124,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_122=tomMatch97NameNumber_end_124;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_122) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_122, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_122))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_122)):(tomMatch97NameNumber_freshVar_122)))) {{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_130=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_122))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_122)):(tomMatch97NameNumber_freshVar_122)));{  polygraphicprogram.types.TwoPath  tom_top=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_122))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_122)):(tomMatch97NameNumber_freshVar_122));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_125=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_122))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_122)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch97NameNumber_freshVar_125;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_119=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_118))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_118)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_bottom=tomMatch97NameNumber_freshVar_119;if ( true ) {
if(tom_top.target()==tom_bottom.source()){System.out.println("6");return tom_append_list_TwoC0(tom_head,tom_cons_list_TwoC0(tom_cons_list_TwoC1(tom_top,tom_append_list_TwoC1(tom_bottom,tom_empty_list_TwoC1())),tom_append_list_TwoC0(tom_tail,tom_empty_list_TwoC0())));}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_124) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_124, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_124=tomMatch97NameNumber_begin_123;} else {tomMatch97NameNumber_end_124=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_124))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_124)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_124, tomMatch97NameNumber_begin_123)));}}}}}}}if (tom_is_fun_sym_TwoC1(tomMatch97NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_135=tomMatch97NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_137=tomMatch97NameNumber_freshVar_135;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_138=tomMatch97NameNumber_freshVar_135;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC1(tomMatch97NameNumber_begin_137,tomMatch97NameNumber_end_138,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_136=tomMatch97NameNumber_end_138;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_140=tomMatch97NameNumber_freshVar_136;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_141=tomMatch97NameNumber_freshVar_136;do {{{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_134=tom_get_slice_TwoC1(tomMatch97NameNumber_begin_140,tomMatch97NameNumber_end_141,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_139=tomMatch97NameNumber_end_141;{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch97NameNumber_freshVar_139;if (tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_134)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_143=tomMatch97NameNumber_freshVar_134;{  polygraphicprogram.types.TwoPath  tom_X=tomMatch97NameNumber_freshVar_143;if ( true ) {


if(tom_head!=tom_make_TwoId(tom_make_Id())) return tom_append_list_TwoC1(tom_head,tom_append_list_TwoC1(tom_X,tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_end_141) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_141, tom_empty_list_TwoC1()) ) ) {tomMatch97NameNumber_end_141=tomMatch97NameNumber_begin_140;} else {tomMatch97NameNumber_end_141=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_end_141))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_end_141)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_141, tomMatch97NameNumber_begin_140)));}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_end_138) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_138, tom_empty_list_TwoC1()) ) ) {tomMatch97NameNumber_end_138=tomMatch97NameNumber_begin_137;} else {tomMatch97NameNumber_end_138=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_end_138))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_end_138)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_138, tomMatch97NameNumber_begin_137)));}}}}if (tom_is_fun_sym_TwoC0(tomMatch97NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_148=tomMatch97NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_150=tomMatch97NameNumber_freshVar_148;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_151=tomMatch97NameNumber_freshVar_148;do {{{  polygraphicprogram.types.TwoPath  tom_left=tom_get_slice_TwoC0(tomMatch97NameNumber_begin_150,tomMatch97NameNumber_end_151,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_149=tomMatch97NameNumber_end_151;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_149) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_149, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoC1(((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_149))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_149)):(tomMatch97NameNumber_freshVar_149)))) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_154=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_149))?(tom_get_head_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_149)):(tomMatch97NameNumber_freshVar_149));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_begin_156=tomMatch97NameNumber_freshVar_154;{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_end_157=tomMatch97NameNumber_freshVar_154;do {{{  polygraphicprogram.types.TwoPath  tom_s=tom_get_slice_TwoC1(tomMatch97NameNumber_begin_156,tomMatch97NameNumber_end_157,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_155=tomMatch97NameNumber_end_157;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_155) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_155, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_155))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_155)):(tomMatch97NameNumber_freshVar_155)))) {{  String  tomMatch97NameNumber_freshVar_163=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_155))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_155)):(tomMatch97NameNumber_freshVar_155)));{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_164=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_155))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_155)):(tomMatch97NameNumber_freshVar_155)));{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_165=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_155))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_155)):(tomMatch97NameNumber_freshVar_155)));{  polygraphicprogram.types.CellType  tomMatch97NameNumber_freshVar_166=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_155))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_155)):(tomMatch97NameNumber_freshVar_155)));if (tom_is_fun_sym_Id(tomMatch97NameNumber_freshVar_165)) {{  polygraphicprogram.types.TwoPath  tom_e=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_155))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_155)):(tomMatch97NameNumber_freshVar_155));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_158=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_155))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_155)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_158) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_158, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_158))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_158)):(tomMatch97NameNumber_freshVar_158)))) {{  String  tomMatch97NameNumber_freshVar_167=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_158))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_158)):(tomMatch97NameNumber_freshVar_158)));{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_168=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_158))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_158)):(tomMatch97NameNumber_freshVar_158)));{  polygraphicprogram.types.OnePath  tomMatch97NameNumber_freshVar_169=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_158))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_158)):(tomMatch97NameNumber_freshVar_158)));{  polygraphicprogram.types.CellType  tomMatch97NameNumber_freshVar_170=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_158))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_158)):(tomMatch97NameNumber_freshVar_158)));if (tom_is_fun_sym_Id(tomMatch97NameNumber_freshVar_168)) {{  polygraphicprogram.types.TwoPath  tom_z=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_158))?(tom_get_head_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_158)):(tomMatch97NameNumber_freshVar_158));{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_159=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_freshVar_158))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_158)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_freshVar_159) || tom_equal_term_TwoPath(tomMatch97NameNumber_freshVar_159, tom_empty_list_TwoC1()) ) ) {{  polygraphicprogram.types.TwoPath  tomMatch97NameNumber_freshVar_152=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_freshVar_149))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_freshVar_149)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_right=tomMatch97NameNumber_freshVar_152;if ( true ) {

if(tom_s.isTwoId()){return tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(tom_left.source()),tom_cons_list_TwoC0(tom_e,tom_cons_list_TwoC0(tom_make_TwoId(tom_right.source()),tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_left,tom_cons_list_TwoC0(tom_z,tom_append_list_TwoC0(tom_right,tom_empty_list_TwoC0()))),tom_empty_list_TwoC1()));}}}}}}}}}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch97NameNumber_end_157) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_157, tom_empty_list_TwoC1()) ) ) {tomMatch97NameNumber_end_157=tomMatch97NameNumber_begin_156;} else {tomMatch97NameNumber_end_157=((tom_is_fun_sym_TwoC1(tomMatch97NameNumber_end_157))?(tom_get_tail_TwoC1_TwoPath(tomMatch97NameNumber_end_157)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_157, tomMatch97NameNumber_begin_156)));}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch97NameNumber_end_151) || tom_equal_term_TwoPath(tomMatch97NameNumber_end_151, tom_empty_list_TwoC0()) ) ) {tomMatch97NameNumber_end_151=tomMatch97NameNumber_begin_150;} else {tomMatch97NameNumber_end_151=((tom_is_fun_sym_TwoC0(tomMatch97NameNumber_end_151))?(tom_get_tail_TwoC0_TwoPath(tomMatch97NameNumber_end_151)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch97NameNumber_end_151, tomMatch97NameNumber_begin_150)));}}}}}}return super.visit_TwoPath(tom__arg); }}private static  tom.library.sl.Strategy  tom_make_VerticalMerging() { return new VerticalMerging(); }



// strategie pour detecter les sources des 3-cellules
//attention : limite aux arguments de hauteur egale a un
private static class ApplyRules extends  polygraphicprogram.PolygraphicProgramBasicStrategy  {public ApplyRules() { super(tom_make_Identity());}public tom.library.sl.Visitable[] getChildren() {tom.library.sl.Visitable[] stratChilds = new tom.library.sl.Visitable[getChildCount()];stratChilds[0] = super.getChildAt(0);return stratChilds;}public tom.library.sl.Visitable setChildren(tom.library.sl.Visitable[] children) {super.setChildAt(0, children[0]);return this;}public int getChildCount() { return 1; }public tom.library.sl.Visitable getChildAt(int index) {switch (index) {case 0: return super.getChildAt(0);default: throw new IndexOutOfBoundsException();}}public tom.library.sl.Visitable setChildAt(int index, tom.library.sl.Visitable child) {switch (index) {case 0: return super.setChildAt(0, child);default: throw new IndexOutOfBoundsException();}}public  polygraphicprogram.types.TwoPath  visit_TwoPath( polygraphicprogram.types.TwoPath  tom__arg) throws tom.library.sl.VisitFailure {if (tom_is_sort_TwoPath(tom__arg)) {{  polygraphicprogram.types.TwoPath  tomMatch98NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )tom__arg);if (tom_is_fun_sym_TwoC1(tomMatch98NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_0=tomMatch98NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_begin_2=tomMatch98NameNumber_freshVar_0;{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_end_3=tomMatch98NameNumber_freshVar_0;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC1(tomMatch98NameNumber_begin_2,tomMatch98NameNumber_end_3,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_1=tomMatch98NameNumber_end_3;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch98NameNumber_freshVar_1, tom_empty_list_TwoC1()) ) )) {{  polygraphicprogram.types.TwoPath  tom_args=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_1)):(tomMatch98NameNumber_freshVar_1));{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_4=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_1))?(tom_get_tail_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_1)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_4) || tom_equal_term_TwoPath(tomMatch98NameNumber_freshVar_4, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_4))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_4)):(tomMatch98NameNumber_freshVar_4)))) {{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_7=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_4))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_4)):(tomMatch98NameNumber_freshVar_4));{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_begin_9=tomMatch98NameNumber_freshVar_7;{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_end_10=tomMatch98NameNumber_freshVar_7;do {{{  polygraphicprogram.types.TwoPath  tom_X=tom_get_slice_TwoC0(tomMatch98NameNumber_begin_9,tomMatch98NameNumber_end_10,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_8=tomMatch98NameNumber_end_10;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch98NameNumber_freshVar_8) || tom_equal_term_TwoPath(tomMatch98NameNumber_freshVar_8, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC0(tomMatch98NameNumber_freshVar_8))?(tom_get_head_TwoC0_TwoPath(tomMatch98NameNumber_freshVar_8)):(tomMatch98NameNumber_freshVar_8)))) {{  String  tomMatch98NameNumber_freshVar_17=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC0(tomMatch98NameNumber_freshVar_8))?(tom_get_head_TwoC0_TwoPath(tomMatch98NameNumber_freshVar_8)):(tomMatch98NameNumber_freshVar_8)));{  polygraphicprogram.types.OnePath  tomMatch98NameNumber_freshVar_18=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC0(tomMatch98NameNumber_freshVar_8))?(tom_get_head_TwoC0_TwoPath(tomMatch98NameNumber_freshVar_8)):(tomMatch98NameNumber_freshVar_8)));{  polygraphicprogram.types.OnePath  tomMatch98NameNumber_freshVar_19=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC0(tomMatch98NameNumber_freshVar_8))?(tom_get_head_TwoC0_TwoPath(tomMatch98NameNumber_freshVar_8)):(tomMatch98NameNumber_freshVar_8)));{  polygraphicprogram.types.CellType  tomMatch98NameNumber_freshVar_20=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC0(tomMatch98NameNumber_freshVar_8))?(tom_get_head_TwoC0_TwoPath(tomMatch98NameNumber_freshVar_8)):(tomMatch98NameNumber_freshVar_8)));{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC0(tomMatch98NameNumber_freshVar_8))?(tom_get_head_TwoC0_TwoPath(tomMatch98NameNumber_freshVar_8)):(tomMatch98NameNumber_freshVar_8));{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_11=((tom_is_fun_sym_TwoC0(tomMatch98NameNumber_freshVar_8))?(tom_get_tail_TwoC0_TwoPath(tomMatch98NameNumber_freshVar_8)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_Y=tomMatch98NameNumber_freshVar_11;{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_5=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_4))?(tom_get_tail_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_4)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch98NameNumber_freshVar_5;if ( true ) {

//necessaire pour les cas similaires a la duplication
  		if(tom_args.target()==tom_f.source()){//peut etre inutile a present avec le match suivant
  		TwoPath target=checkRules(tom_cons_list_TwoC1(tom_args,tom_cons_list_TwoC1(tom_f,tom_empty_list_TwoC1())));if(target!=null){
  		  if (tom_is_sort_TwoPath(target)) {{  polygraphicprogram.types.TwoPath  tomMatch99NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )target);if (tom_is_fun_sym_TwoC1(tomMatch99NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch99NameNumber_freshVar_0=tomMatch99NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch99NameNumber_freshVar_0) || tom_equal_term_TwoPath(tomMatch99NameNumber_freshVar_0, tom_empty_list_TwoC1()) ) )) {{  polygraphicprogram.types.TwoPath  tom_A=((tom_is_fun_sym_TwoC1(tomMatch99NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch99NameNumber_freshVar_0)):(tomMatch99NameNumber_freshVar_0));{  polygraphicprogram.types.TwoPath  tomMatch99NameNumber_freshVar_1=((tom_is_fun_sym_TwoC1(tomMatch99NameNumber_freshVar_0))?(tom_get_tail_TwoC1_TwoPath(tomMatch99NameNumber_freshVar_0)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch99NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch99NameNumber_freshVar_1, tom_empty_list_TwoC1()) ) )) {{  polygraphicprogram.types.TwoPath  tom_B=((tom_is_fun_sym_TwoC1(tomMatch99NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch99NameNumber_freshVar_1)):(tomMatch99NameNumber_freshVar_1));{  polygraphicprogram.types.TwoPath  tomMatch99NameNumber_freshVar_2=((tom_is_fun_sym_TwoC1(tomMatch99NameNumber_freshVar_1))?(tom_get_tail_TwoC1_TwoPath(tomMatch99NameNumber_freshVar_1)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch99NameNumber_freshVar_2) || tom_equal_term_TwoPath(tomMatch99NameNumber_freshVar_2, tom_empty_list_TwoC1()) ) ) {if ( true ) {

  		    		  if(tom_head==tom_make_TwoId(tom_make_Id())){
  		  return tom_cons_list_TwoC1(tom_A,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_B,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));}
  		  	return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_A,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_B,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()))));
  		  	}}}}}}}}}}if (tom_is_fun_sym_TwoC0(tomMatch99NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch99NameNumber_freshVar_3=tomMatch99NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tom_A=tomMatch99NameNumber_freshVar_3;if ( true ) {

  			  if(tom_head==tom_make_TwoId(tom_make_Id())){
  		  return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_append_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()));}
  		  	return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_append_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));
  		  	}}}}}}

  		  }
  		}//pas suffisant, d'ou la suite
  		if (tom_is_sort_TwoPath(tom_args)) {{  polygraphicprogram.types.TwoPath  tomMatch100NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )tom_args);if (tom_is_fun_sym_TwoC0(tomMatch100NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch100NameNumber_freshVar_0=tomMatch100NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch100NameNumber_begin_2=tomMatch100NameNumber_freshVar_0;{  polygraphicprogram.types.TwoPath  tomMatch100NameNumber_end_3=tomMatch100NameNumber_freshVar_0;do {{{  polygraphicprogram.types.TwoPath  tom_H=tom_get_slice_TwoC0(tomMatch100NameNumber_begin_2,tomMatch100NameNumber_end_3,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch100NameNumber_freshVar_1=tomMatch100NameNumber_end_3;{  polygraphicprogram.types.TwoPath  tomMatch100NameNumber_begin_5=tomMatch100NameNumber_freshVar_1;{  polygraphicprogram.types.TwoPath  tomMatch100NameNumber_end_6=tomMatch100NameNumber_freshVar_1;do {{{  polygraphicprogram.types.TwoPath  tom_args2=tom_get_slice_TwoC0(tomMatch100NameNumber_begin_5,tomMatch100NameNumber_end_6,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch100NameNumber_freshVar_4=tomMatch100NameNumber_end_6;{  polygraphicprogram.types.TwoPath  tom_T=tomMatch100NameNumber_freshVar_4;if ( true ) {
 if(tom_args2.target()==tom_f.source()){
				TwoPath target=checkRules(tom_append_list_TwoC1(tom_args2,tom_cons_list_TwoC1(tom_f,tom_empty_list_TwoC1())));if(target!=null){
				TwoPath targetSource=tom_make_TwoId(target.source());
				targetSource =(TwoPath) tom_make_RepeatId(tom_make_RefactorSource()).visit(targetSource);		
  		  if (tom_is_sort_TwoPath(target)) {{  polygraphicprogram.types.TwoPath  tomMatch101NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )target);if (tom_is_fun_sym_TwoC1(tomMatch101NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch101NameNumber_freshVar_0=tomMatch101NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch101NameNumber_freshVar_0) || tom_equal_term_TwoPath(tomMatch101NameNumber_freshVar_0, tom_empty_list_TwoC1()) ) )) {{  polygraphicprogram.types.TwoPath  tom_A=((tom_is_fun_sym_TwoC1(tomMatch101NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch101NameNumber_freshVar_0)):(tomMatch101NameNumber_freshVar_0));{  polygraphicprogram.types.TwoPath  tomMatch101NameNumber_freshVar_1=((tom_is_fun_sym_TwoC1(tomMatch101NameNumber_freshVar_0))?(tom_get_tail_TwoC1_TwoPath(tomMatch101NameNumber_freshVar_0)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch101NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch101NameNumber_freshVar_1, tom_empty_list_TwoC1()) ) )) {{  polygraphicprogram.types.TwoPath  tom_B=((tom_is_fun_sym_TwoC1(tomMatch101NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch101NameNumber_freshVar_1)):(tomMatch101NameNumber_freshVar_1));{  polygraphicprogram.types.TwoPath  tomMatch101NameNumber_freshVar_2=((tom_is_fun_sym_TwoC1(tomMatch101NameNumber_freshVar_1))?(tom_get_tail_TwoC1_TwoPath(tomMatch101NameNumber_freshVar_1)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch101NameNumber_freshVar_2) || tom_equal_term_TwoPath(tomMatch101NameNumber_freshVar_2, tom_empty_list_TwoC1()) ) ) {if ( true ) {

  		    		  if(tom_head==tom_make_TwoId(tom_make_Id())){
  		  return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_H,tom_cons_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_T,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_B,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));}
  		  System.out.println("***"+tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_H,tom_cons_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_T,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_B,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())))));
  		  	return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_H,tom_cons_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_T,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_B,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()))));
  		  	}}}}}}}}}}if (tom_is_fun_sym_TwoC0(tomMatch101NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch101NameNumber_freshVar_3=tomMatch101NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tom_A=tomMatch101NameNumber_freshVar_3;if ( true ) {

  			  if(tom_head==tom_make_TwoId(tom_make_Id())){
  		  return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_H,tom_cons_list_TwoC0(targetSource,tom_append_list_TwoC0(tom_T,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_append_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));}
  		  	return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_H,tom_cons_list_TwoC0(targetSource,tom_append_list_TwoC0(tom_T,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_append_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()))));
  		  	}}}}{  polygraphicprogram.types.TwoPath  tom_A=tomMatch101NameNumberfreshSubject_1;if ( true ) {

  			  if(tom_head==tom_make_TwoId(tom_make_Id())){
  		  return tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_H,tom_cons_list_TwoC0(targetSource,tom_append_list_TwoC0(tom_T,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));}
  		  	return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_H,tom_cons_list_TwoC0(targetSource,tom_append_list_TwoC0(tom_T,tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_append_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_A,tom_append_list_TwoC0(tom_Y,tom_empty_list_TwoC0()))),tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()))));
  		  	}}}}

  		  }
			}
			}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch100NameNumber_end_6) || tom_equal_term_TwoPath(tomMatch100NameNumber_end_6, tom_empty_list_TwoC0()) ) ) {tomMatch100NameNumber_end_6=tomMatch100NameNumber_begin_5;} else {tomMatch100NameNumber_end_6=((tom_is_fun_sym_TwoC0(tomMatch100NameNumber_end_6))?(tom_get_tail_TwoC0_TwoPath(tomMatch100NameNumber_end_6)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch100NameNumber_end_6, tomMatch100NameNumber_begin_5)));}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch100NameNumber_end_3) || tom_equal_term_TwoPath(tomMatch100NameNumber_end_3, tom_empty_list_TwoC0()) ) ) {tomMatch100NameNumber_end_3=tomMatch100NameNumber_begin_2;} else {tomMatch100NameNumber_end_3=((tom_is_fun_sym_TwoC0(tomMatch100NameNumber_end_3))?(tom_get_tail_TwoC0_TwoPath(tomMatch100NameNumber_end_3)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch100NameNumber_end_3, tomMatch100NameNumber_begin_2)));}}}}}}

  		}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch98NameNumber_end_10) || tom_equal_term_TwoPath(tomMatch98NameNumber_end_10, tom_empty_list_TwoC0()) ) ) {tomMatch98NameNumber_end_10=tomMatch98NameNumber_begin_9;} else {tomMatch98NameNumber_end_10=((tom_is_fun_sym_TwoC0(tomMatch98NameNumber_end_10))?(tom_get_tail_TwoC0_TwoPath(tomMatch98NameNumber_end_10)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch98NameNumber_end_10, tomMatch98NameNumber_begin_9)));}}}}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch98NameNumber_end_3) || tom_equal_term_TwoPath(tomMatch98NameNumber_end_3, tom_empty_list_TwoC1()) ) ) {tomMatch98NameNumber_end_3=tomMatch98NameNumber_begin_2;} else {tomMatch98NameNumber_end_3=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_end_3))?(tom_get_tail_TwoC1_TwoPath(tomMatch98NameNumber_end_3)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch98NameNumber_end_3, tomMatch98NameNumber_begin_2)));}}}}if (tom_is_fun_sym_TwoC1(tomMatch98NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_25=tomMatch98NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_begin_27=tomMatch98NameNumber_freshVar_25;{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_end_28=tomMatch98NameNumber_freshVar_25;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC1(tomMatch98NameNumber_begin_27,tomMatch98NameNumber_end_28,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_26=tomMatch98NameNumber_end_28;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_26) || tom_equal_term_TwoPath(tomMatch98NameNumber_freshVar_26, tom_empty_list_TwoC1()) ) )) {{  polygraphicprogram.types.TwoPath  tom_args=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_26))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_26)):(tomMatch98NameNumber_freshVar_26));{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_29=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_26))?(tom_get_tail_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_26)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_29) || tom_equal_term_TwoPath(tomMatch98NameNumber_freshVar_29, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_29))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_29)):(tomMatch98NameNumber_freshVar_29)))) {{  String  tomMatch98NameNumber_freshVar_34=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_29))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_29)):(tomMatch98NameNumber_freshVar_29)));{  polygraphicprogram.types.OnePath  tomMatch98NameNumber_freshVar_35=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_29))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_29)):(tomMatch98NameNumber_freshVar_29)));{  polygraphicprogram.types.OnePath  tomMatch98NameNumber_freshVar_36=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_29))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_29)):(tomMatch98NameNumber_freshVar_29)));{  polygraphicprogram.types.CellType  tomMatch98NameNumber_freshVar_37=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_29))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_29)):(tomMatch98NameNumber_freshVar_29)));{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_29))?(tom_get_head_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_29)):(tomMatch98NameNumber_freshVar_29));{  polygraphicprogram.types.TwoPath  tomMatch98NameNumber_freshVar_30=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_freshVar_29))?(tom_get_tail_TwoC1_TwoPath(tomMatch98NameNumber_freshVar_29)):(tom_empty_list_TwoC1()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch98NameNumber_freshVar_30;if ( true ) {

  	  TwoPath target=checkRules(tom_cons_list_TwoC1(tom_args,tom_cons_list_TwoC1(tom_f,tom_empty_list_TwoC1())));if(target!=null){
  		  if(tom_head==tom_make_TwoId(tom_make_Id())){
  		  return tom_cons_list_TwoC1(target,tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1()));}
  		  	return tom_append_list_TwoC1(tom_head,tom_cons_list_TwoC1(target,tom_append_list_TwoC1(tom_tail,tom_empty_list_TwoC1())));}
  	  		}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch98NameNumber_end_28) || tom_equal_term_TwoPath(tomMatch98NameNumber_end_28, tom_empty_list_TwoC1()) ) ) {tomMatch98NameNumber_end_28=tomMatch98NameNumber_begin_27;} else {tomMatch98NameNumber_end_28=((tom_is_fun_sym_TwoC1(tomMatch98NameNumber_end_28))?(tom_get_tail_TwoC1_TwoPath(tomMatch98NameNumber_end_28)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch98NameNumber_end_28, tomMatch98NameNumber_begin_27)));}}}}}}return super.visit_TwoPath(tom__arg); }}private static  tom.library.sl.Strategy  tom_make_ApplyRules() { return new ApplyRules(); }




// fonction pour explorer les regles de reecriture
private static TwoPath checkRules(TwoPath source){
for (Iterator<ThreePath> iterator = rewritingRules.iterator(); iterator.hasNext();) {
	ThreePath rewritingRule = (ThreePath) iterator.next();

	TwoPath ruleSource=rewritingRule.getSource();
		if (tom_is_sort_TwoPath(source)) {{  polygraphicprogram.types.TwoPath  tomMatch102NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )source);if (tom_is_sort_TwoPath(ruleSource)) {{  polygraphicprogram.types.TwoPath  tomMatch102NameNumberfreshSubject_2=(( polygraphicprogram.types.TwoPath )ruleSource);if (tom_is_fun_sym_TwoC1(tomMatch102NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_0=tomMatch102NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_0) || tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_0, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_0)):(tomMatch102NameNumber_freshVar_0)))) {{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_3=((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_0)):(tomMatch102NameNumber_freshVar_0));{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_begin_5=tomMatch102NameNumber_freshVar_3;{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_end_6=tomMatch102NameNumber_freshVar_3;do {{{  polygraphicprogram.types.TwoPath  tom_head=tom_get_slice_TwoC0(tomMatch102NameNumber_begin_5,tomMatch102NameNumber_end_6,tom_empty_list_TwoC0());{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_4=tomMatch102NameNumber_end_6;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch102NameNumber_freshVar_4) || tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_4, tom_empty_list_TwoC0()) ) )) {{  polygraphicprogram.types.TwoPath  tom_X=((tom_is_fun_sym_TwoC0(tomMatch102NameNumber_freshVar_4))?(tom_get_head_TwoC0_TwoPath(tomMatch102NameNumber_freshVar_4)):(tomMatch102NameNumber_freshVar_4));{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_7=((tom_is_fun_sym_TwoC0(tomMatch102NameNumber_freshVar_4))?(tom_get_tail_TwoC0_TwoPath(tomMatch102NameNumber_freshVar_4)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tom_tail=tomMatch102NameNumber_freshVar_7;{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_1=((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_0))?(tom_get_tail_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_0)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_1, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_1)):(tomMatch102NameNumber_freshVar_1)))) {{  String  tomMatch102NameNumber_freshVar_20=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_1)):(tomMatch102NameNumber_freshVar_1)));{  polygraphicprogram.types.OnePath  tomMatch102NameNumber_freshVar_21=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_1)):(tomMatch102NameNumber_freshVar_1)));{  polygraphicprogram.types.OnePath  tomMatch102NameNumber_freshVar_22=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_1)):(tomMatch102NameNumber_freshVar_1)));{  polygraphicprogram.types.CellType  tomMatch102NameNumber_freshVar_23=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_1)):(tomMatch102NameNumber_freshVar_1)));{  polygraphicprogram.types.TwoPath  tom_f=((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_1)):(tomMatch102NameNumber_freshVar_1));{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_2=((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_1))?(tom_get_tail_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_1)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_2) || tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_2, tom_empty_list_TwoC1()) ) ) {if (tom_is_fun_sym_TwoC1(tomMatch102NameNumberfreshSubject_2)) {{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_9=tomMatch102NameNumberfreshSubject_2;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_9) || tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_9, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoC0(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_9))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_9)):(tomMatch102NameNumber_freshVar_9)))) {{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_12=((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_9))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_9)):(tomMatch102NameNumber_freshVar_9));{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_begin_14=tomMatch102NameNumber_freshVar_12;{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_end_15=tomMatch102NameNumber_freshVar_12;do {{{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_18=tom_get_slice_TwoC0(tomMatch102NameNumber_begin_14,tomMatch102NameNumber_end_15,tom_empty_list_TwoC0());if (tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_18, tom_head)) {{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_13=tomMatch102NameNumber_end_15;if (!( ( tom_is_empty_TwoC0_TwoPath(tomMatch102NameNumber_freshVar_13) || tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_13, tom_empty_list_TwoC0()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC0(tomMatch102NameNumber_freshVar_13))?(tom_get_head_TwoC0_TwoPath(tomMatch102NameNumber_freshVar_13)):(tomMatch102NameNumber_freshVar_13)))) {{  polygraphicprogram.types.OnePath  tomMatch102NameNumber_freshVar_24=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC0(tomMatch102NameNumber_freshVar_13))?(tom_get_head_TwoC0_TwoPath(tomMatch102NameNumber_freshVar_13)):(tomMatch102NameNumber_freshVar_13)));{  polygraphicprogram.types.OnePath  tom_Y=tomMatch102NameNumber_freshVar_24;{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_16=((tom_is_fun_sym_TwoC0(tomMatch102NameNumber_freshVar_13))?(tom_get_tail_TwoC0_TwoPath(tomMatch102NameNumber_freshVar_13)):(tom_empty_list_TwoC0()));{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_19=tomMatch102NameNumber_freshVar_16;if (tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_19, tom_tail)) {{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_10=((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_9))?(tom_get_tail_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_9)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_10) || tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_10, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoCell(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_10))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_10)):(tomMatch102NameNumber_freshVar_10)))) {{  String  tomMatch102NameNumber_freshVar_25=tom_get_slot_TwoCell_Name(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_10))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_10)):(tomMatch102NameNumber_freshVar_10)));{  polygraphicprogram.types.OnePath  tomMatch102NameNumber_freshVar_26=tom_get_slot_TwoCell_Source(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_10))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_10)):(tomMatch102NameNumber_freshVar_10)));{  polygraphicprogram.types.OnePath  tomMatch102NameNumber_freshVar_27=tom_get_slot_TwoCell_Target(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_10))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_10)):(tomMatch102NameNumber_freshVar_10)));{  polygraphicprogram.types.CellType  tomMatch102NameNumber_freshVar_28=tom_get_slot_TwoCell_Type(((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_10))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_10)):(tomMatch102NameNumber_freshVar_10)));{  polygraphicprogram.types.TwoPath  tom_g=((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_10))?(tom_get_head_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_10)):(tomMatch102NameNumber_freshVar_10));{  polygraphicprogram.types.TwoPath  tomMatch102NameNumber_freshVar_11=((tom_is_fun_sym_TwoC1(tomMatch102NameNumber_freshVar_10))?(tom_get_tail_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_10)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch102NameNumber_freshVar_11) || tom_equal_term_TwoPath(tomMatch102NameNumber_freshVar_11, tom_empty_list_TwoC1()) ) ) {if ( true ) {

				if(tom_X.target()==tom_Y&&tom_f==tom_g){
				System.out.println(rewritingRule.getName());
				/*System.out.println(`head*);
				System.out.println(`X);
				System.out.println(`tail*);
				System.out.println(`TwoC0(TwoId(head*.source()),X,TwoC0(TwoId(tail*.source()))));
				System.out.println(rewritingRule.getTarget());*/
				TwoPath ruleTarget=rewritingRule.getTarget();
				if (tom_is_sort_TwoPath(ruleTarget)) {{  polygraphicprogram.types.TwoPath  tomMatch103NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )ruleTarget);if (tom_is_fun_sym_TwoId(tomMatch103NameNumberfreshSubject_1)) {{  polygraphicprogram.types.OnePath  tomMatch103NameNumber_freshVar_0=tom_get_slot_TwoId_onePath(tomMatch103NameNumberfreshSubject_1);if ( true ) {
return tom_cons_list_TwoC0(tom_make_TwoId(tom_head.source()),tom_cons_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_cons_list_TwoC0(tom_make_TwoId(tom_tail.source()),tom_empty_list_TwoC0()),tom_empty_list_TwoC0())));}}}if (tom_is_fun_sym_TwoC1(tomMatch103NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch103NameNumber_freshVar_1=tomMatch103NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch103NameNumber_begin_3=tomMatch103NameNumber_freshVar_1;{  polygraphicprogram.types.TwoPath  tomMatch103NameNumber_end_4=tomMatch103NameNumber_freshVar_1;do {{{  polygraphicprogram.types.TwoPath  tomMatch103NameNumber_freshVar_6=tom_get_slice_TwoC1(tomMatch103NameNumber_begin_3,tomMatch103NameNumber_end_4,tom_empty_list_TwoC1());{  polygraphicprogram.types.TwoPath  tom_A=tomMatch103NameNumber_freshVar_6;{  polygraphicprogram.types.TwoPath  tomMatch103NameNumber_freshVar_2=tomMatch103NameNumber_end_4;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch103NameNumber_freshVar_2) || tom_equal_term_TwoPath(tomMatch103NameNumber_freshVar_2, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC1(tomMatch103NameNumber_freshVar_2))?(tom_get_head_TwoC1_TwoPath(tomMatch103NameNumber_freshVar_2)):(tomMatch103NameNumber_freshVar_2)))) {{  polygraphicprogram.types.OnePath  tomMatch103NameNumber_freshVar_7=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC1(tomMatch103NameNumber_freshVar_2))?(tom_get_head_TwoC1_TwoPath(tomMatch103NameNumber_freshVar_2)):(tomMatch103NameNumber_freshVar_2)));{  polygraphicprogram.types.TwoPath  tomMatch103NameNumber_freshVar_5=((tom_is_fun_sym_TwoC1(tomMatch103NameNumber_freshVar_2))?(tom_get_tail_TwoC1_TwoPath(tomMatch103NameNumber_freshVar_2)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch103NameNumber_freshVar_5) || tom_equal_term_TwoPath(tomMatch103NameNumber_freshVar_5, tom_empty_list_TwoC1()) ) ) {if ( true ) {
return tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(tom_head.source()),tom_cons_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_cons_list_TwoC0(tom_make_TwoId(tom_tail.source()),tom_empty_list_TwoC0()),tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_A,tom_empty_list_TwoC1()));}}}}}}}}}if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch103NameNumber_end_4) || tom_equal_term_TwoPath(tomMatch103NameNumber_end_4, tom_empty_list_TwoC1()) ) ) {tomMatch103NameNumber_end_4=tomMatch103NameNumber_begin_3;} else {tomMatch103NameNumber_end_4=((tom_is_fun_sym_TwoC1(tomMatch103NameNumber_end_4))?(tom_get_tail_TwoC1_TwoPath(tomMatch103NameNumber_end_4)):(tom_empty_list_TwoC1()));}}} while(!(tom_equal_term_TwoPath(tomMatch103NameNumber_end_4, tomMatch103NameNumber_begin_3)));}}}}if (tom_is_fun_sym_TwoC1(tomMatch103NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch103NameNumber_freshVar_8=tomMatch103NameNumberfreshSubject_1;{  polygraphicprogram.types.TwoPath  tomMatch103NameNumber_freshVar_10=tomMatch103NameNumber_freshVar_8;{  polygraphicprogram.types.TwoPath  tom_A=tomMatch103NameNumber_freshVar_10;if ( true ) {
return tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(tom_head.source()),tom_cons_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_cons_list_TwoC0(tom_make_TwoId(tom_tail.source()),tom_empty_list_TwoC0()),tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(tom_A,tom_empty_list_TwoC1()));}}}}}}}

				return tom_cons_list_TwoC1(tom_cons_list_TwoC0(tom_make_TwoId(tom_head.source()),tom_cons_list_TwoC0(tom_X,tom_cons_list_TwoC0(tom_cons_list_TwoC0(tom_make_TwoId(tom_tail.source()),tom_empty_list_TwoC0()),tom_empty_list_TwoC0()))),tom_cons_list_TwoC1(ruleTarget,tom_empty_list_TwoC1()));			
				}
			}}}}}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch102NameNumber_end_15) || tom_equal_term_TwoPath(tomMatch102NameNumber_end_15, tom_empty_list_TwoC0()) ) ) {tomMatch102NameNumber_end_15=tomMatch102NameNumber_begin_14;} else {tomMatch102NameNumber_end_15=((tom_is_fun_sym_TwoC0(tomMatch102NameNumber_end_15))?(tom_get_tail_TwoC0_TwoPath(tomMatch102NameNumber_end_15)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch102NameNumber_end_15, tomMatch102NameNumber_begin_14)));}}}}}}}}}}}}}}}}}}}}}}}if ( ( tom_is_empty_TwoC0_TwoPath(tomMatch102NameNumber_end_6) || tom_equal_term_TwoPath(tomMatch102NameNumber_end_6, tom_empty_list_TwoC0()) ) ) {tomMatch102NameNumber_end_6=tomMatch102NameNumber_begin_5;} else {tomMatch102NameNumber_end_6=((tom_is_fun_sym_TwoC0(tomMatch102NameNumber_end_6))?(tom_get_tail_TwoC0_TwoPath(tomMatch102NameNumber_end_6)):(tom_empty_list_TwoC0()));}}} while(!(tom_equal_term_TwoPath(tomMatch102NameNumber_end_6, tomMatch102NameNumber_begin_5)));}}}}}}}}}}}


	if(rewritingRule.getSource()==source){//cas triviaux, cellules de structures
		System.out.println(rewritingRule.getName());
		TwoPath ruleTarget=rewritingRule.getTarget();
		if (tom_is_sort_TwoPath(ruleTarget)) {{  polygraphicprogram.types.TwoPath  tomMatch104NameNumberfreshSubject_1=(( polygraphicprogram.types.TwoPath )ruleTarget);if (tom_is_fun_sym_TwoC1(tomMatch104NameNumberfreshSubject_1)) {{  polygraphicprogram.types.TwoPath  tomMatch104NameNumber_freshVar_0=tomMatch104NameNumberfreshSubject_1;if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch104NameNumber_freshVar_0) || tom_equal_term_TwoPath(tomMatch104NameNumber_freshVar_0, tom_empty_list_TwoC1()) ) )) {if (tom_is_fun_sym_TwoId(((tom_is_fun_sym_TwoC1(tomMatch104NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch104NameNumber_freshVar_0)):(tomMatch104NameNumber_freshVar_0)))) {{  polygraphicprogram.types.OnePath  tomMatch104NameNumber_freshVar_3=tom_get_slot_TwoId_onePath(((tom_is_fun_sym_TwoC1(tomMatch104NameNumber_freshVar_0))?(tom_get_head_TwoC1_TwoPath(tomMatch104NameNumber_freshVar_0)):(tomMatch104NameNumber_freshVar_0)));{  polygraphicprogram.types.TwoPath  tomMatch104NameNumber_freshVar_1=((tom_is_fun_sym_TwoC1(tomMatch104NameNumber_freshVar_0))?(tom_get_tail_TwoC1_TwoPath(tomMatch104NameNumber_freshVar_0)):(tom_empty_list_TwoC1()));if (!( ( tom_is_empty_TwoC1_TwoPath(tomMatch104NameNumber_freshVar_1) || tom_equal_term_TwoPath(tomMatch104NameNumber_freshVar_1, tom_empty_list_TwoC1()) ) )) {{  polygraphicprogram.types.TwoPath  tom_E=((tom_is_fun_sym_TwoC1(tomMatch104NameNumber_freshVar_1))?(tom_get_head_TwoC1_TwoPath(tomMatch104NameNumber_freshVar_1)):(tomMatch104NameNumber_freshVar_1));{  polygraphicprogram.types.TwoPath  tomMatch104NameNumber_freshVar_2=((tom_is_fun_sym_TwoC1(tomMatch104NameNumber_freshVar_1))?(tom_get_tail_TwoC1_TwoPath(tomMatch104NameNumber_freshVar_1)):(tom_empty_list_TwoC1()));if ( ( tom_is_empty_TwoC1_TwoPath(tomMatch104NameNumber_freshVar_2) || tom_equal_term_TwoPath(tomMatch104NameNumber_freshVar_2, tom_empty_list_TwoC1()) ) ) {if ( true ) {
return tom_E;}}}}}}}}}}}}}

		return ruleTarget;
	}
}
return null;
} 



//-----------------------------------------------------------------------------
private static void Compile(TwoPath myPath){//fonction pour tester la combinaison de toutes les strategies
try{
System.out.println("BEFORE\n"+myPath);
myPath=(TwoPath) tom_make_RepeatId(tom_cons_list_Sequence(tom_make_RepeatId(tom_make_TopDown(tom_make_ApplyRules())),tom_cons_list_Sequence(tom_make_RepeatId(tom_make_TopDown(tom_make_VerticalMerging())),tom_cons_list_Sequence(tom_make_RepeatId(tom_make_TopDown(tom_make_Gravity())),tom_empty_list_Sequence())))).visit(myPath);
//myPath=(TwoPath) `RepeatId(Sequence(RepeatId(TopDown(ApplyRules())),RepeatId(TopDown(VerticalSplitting())),RepeatId(TopDown(VerticalMerging())),RepeatId(TopDown(Gravity())))).visit(myPath);
System.out.println("RESULT\n"+myPath);
//tom.library.utils.Viewer.display(myPath);
}
catch(VisitFailure e) {
      throw new tom.engine.exception.TomRuntimeException("strange term: " + myPath);
    }
}


}
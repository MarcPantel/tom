import test1.test1.types.*;
public class Test1 {
  %gom {
    module Test1
      abstract syntax
      B = b()
  }

  public static void main(String[] args) {
    B tt = `b();
    %match{
      b() << tt -> { System.out.println(`tt); }
    }
  }
}


------------------------------------------------
=> SORTIE NEWTYPER:
Tom(concCode(TargetLanguageToCode(TL("import test1.test1.types.*;\npublic class Test1 {\n  ",TextPosition(1,1),TextPosition(3,3))),TomInclude(concCode(DeclarationToCode(TypeTermDecl(Name("B"),concDeclaration(EqualTermDecl(BQVariable(concOption(OriginTracking(Name("t1"),6,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom")),Name("t1"),Type("B",TLType(" test1.test1.types.B "))),BQVariable(concOption(OriginTracking(Name("t2"),6,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom")),Name("t2"),Type("B",TLType(" test1.test1.types.B "))),Code(" ({0}=={1}) "),OriginTracking(Name("equals"),6,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom")),IsSortDecl(BQVariable(concOption(OriginTracking(Name("t"),4,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom")),Name("t"),Type("B",TLType(" test1.test1.types.B "))),Code(" ({0} instanceof test1.test1.types.B) "),OriginTracking(Name("is_sort"),4,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom"))),OriginTracking(Name("B"),2,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom"))),DeclarationToCode(SymbolDecl(Name("b"))),TargetLanguageToCode(TL("\n\n",TextPosition(12,1),TextPosition(14,1))))),TargetLanguageToCode(TL("\n\n  public static void main(String[] args) {\n    B tt = ",TextPosition(7,4),TextPosition(10,12))),BQTermToCode(Composite(CompositeBQTerm(BuildTerm(Name("b"),concBQTerm(),"default")))),TargetLanguageToCode(TL(";\n    ",TextPosition(10,16),TextPosition(11,5))),InstructionToCode(Match(concConstraintInstruction(ConstraintInstruction(MatchConstraint(RecordAppl(concOption(OriginTracking(Name("b"),12,"Test1.t")),concTomName(Name("b")),concSlot(),concConstraint()),BQVariable(concOption(OriginTracking(Name("tt"),12,"Test1.t")),Name("tt"),Type("B",TLType(" test1.test1.types.B ")))),RawAction(AbstractBlock(concInstruction(CodeToInstruction(TargetLanguageToCode(TL(" System.out.println(",TextPosition(12,20),TextPosition(12,41)))),BQTermToInstruction(BQVariable(concOption(OriginTracking(Name("tt"),12,"Test1.t"),ModuleName("default")),Name("tt"),Type("B",TLType(" test1.test1.types.B ")))),CodeToInstruction(TargetLanguageToCode(TL("); ",TextPosition(12,45),TextPosition(12,47))))))),concOption(OriginTracking(Name("Pattern"),12,"Test1.t"),OriginalText(Name(""))))),concOption(OriginTracking(Name("Match"),11,"Test1.t"),ModuleName("default")))),TargetLanguageToCode(TL("\n  }\n}\n",TextPosition(13,5),TextPosition(16,1)))))

------------------------------------------------
=> SORTIE OLDTYPER:
Tom(concCode(TargetLanguageToCode(TL("import test1.test1.types.*;\npublic class Test1 {\n  ",TextPosition(1,1),TextPosition(3,3))),TomInclude(concCode(DeclarationToCode(TypeTermDecl(Name("B"),concDeclaration(EqualTermDecl(BQVariable(concOption(OriginTracking(Name("t1"),6,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom")),Name("t1"),Type("B",TLType(" test1.test1.types.B "))),BQVariable(concOption(OriginTracking(Name("t2"),6,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom")),Name("t2"),Type("B",TLType(" test1.test1.types.B "))),Code(" ({0}=={1}) "),OriginTracking(Name("equals"),6,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom")),IsSortDecl(BQVariable(concOption(OriginTracking(Name("t"),4,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom")),Name("t"),Type("B",TLType(" test1.test1.types.B "))),Code(" ({0} instanceof test1.test1.types.B) "),OriginTracking(Name("is_sort"),4,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom"))),OriginTracking(Name("B"),2,"/Users/claudia/Doctorat/tom/workspace/git-jtom/tmp/test1/test1/Test1.tom"))),DeclarationToCode(SymbolDecl(Name("b"))),TargetLanguageToCode(TL("\n\n",TextPosition(12,1),TextPosition(14,1))))),TargetLanguageToCode(TL("\n\n  public static void main(String[] args) {\n    B tt = ",TextPosition(7,4),TextPosition(10,12))),BQTermToCode(Composite(CompositeBQTerm(BuildTerm(Name("b"),concBQTerm(),"default")))),TargetLanguageToCode(TL(";\n    ",TextPosition(10,16),TextPosition(11,5))),InstructionToCode(Match(concConstraintInstruction(ConstraintInstruction(MatchConstraint(RecordAppl(concOption(OriginTracking(Name("b"),12,"Test1.t")),concTomName(Name("b")),concSlot(),concConstraint()),BQVariable(concOption(OriginTracking(Name("tt"),12,"Test1.t")),Name("tt"),Type("B",TLType(" test1.test1.types.B ")))),RawAction(AbstractBlock(concInstruction(CodeToInstruction(TargetLanguageToCode(TL(" System.out.println(",TextPosition(12,20),TextPosition(12,41)))),BQTermToInstruction(BQVariable(concOption(OriginTracking(Name("tt"),12,"Test1.t"),ModuleName("default")),Name("tt"),Type("unknown type",EmptyType()))),CodeToInstruction(TargetLanguageToCode(TL("); ",TextPosition(12,45),TextPosition(12,47))))))),concOption(OriginTracking(Name("Pattern"),12,"Test1.t"),OriginalText(Name(""))))),concOption(OriginTracking(Name("Match"),11,"Test1.t"),ModuleName("default")))),TargetLanguageToCode(TL("\n  }\n}\n",TextPosition(13,5),TextPosition(16,1)))))

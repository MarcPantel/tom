<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE server [
  <!ELEMENT server (plugins,options)>

  <!ELEMENT plugins (plugin*)>

  <!ELEMENT plugin EMPTY>
  <!ATTLIST plugin
    name CDATA #IMPLIED
    version CDATA #IMPLIED
    description CDATA #IMPLIED
    classpath CDATA #REQUIRED>

  <!ELEMENT options (OptionBoolean*,OptionInteger*,OptionString*)>

  <!ELEMENT OptionBoolean EMPTY>
  <!ATTLIST OptionBoolean
    name CDATA #REQUIRED
    altName CDATA ""
    description CDATA ""
    valueB (true|false) #REQUIRED>

  <!ELEMENT OptionInteger EMPTY>
  <!ATTLIST OptionInteger
    name CDATA #REQUIRED
    altName CDATA ""
    description CDATA ""
    valueI CDATA #REQUIRED
    attrName CDATA #REQUIRED>

  <!ELEMENT OptionString EMPTY>
  <!ATTLIST OptionString
    name CDATA #REQUIRED
    altName CDATA ""
    description CDATA ""
    valueS CDATA #REQUIRED
    attrName CDATA #REQUIRED>
]>

<server>

<plugins>

  <plugin
    name="Starter"
    version="Only here to initialize the environment"
    description=""
    classpath="jtom.starter.TomStarter" />

  <plugin
    name="Parser"
    version=""
    description=""
    classpath="jtom.parser.TomParserPlugin" />

  <plugin
    name="Syntax checker"
    version=""
    description=""
    classpath="jtom.checker.TomSyntaxChecker" />

  <plugin
    name="Expander"
    version=""
    description=""
    classpath="jtom.compiler.TomExpander" />

  <plugin
    name="Type checker"
    version=""
    description=""
    classpath="jtom.checker.TomTypeChecker" />

  <plugin
    name="Compiler"
    version=""
    description=""
    classpath="jtom.compiler.TomCompiler" />

  <plugin
    name="Optimizer"
    version=""
    description=""
    classpath="jtom.optimizer.TomOptimizer" />

  <plugin
    name="Backend"
    version=""
    description=""
    classpath="jtom.backend.TomBackend" />

</plugins>

<options>

  <OptionBoolean
    name="help"
    altName="h"
    description="Print this help"
    valueB="false" />

  <OptionBoolean
    name="version"
    altName="V"
    description="Print version"
    valueB="false" />

  <OptionBoolean
    name="verbose"
    altName="v"
    description="Set verbose mode on"
    valueB="false" />

  <OptionBoolean
    name="intermediate"
    altName="i"
    description="Generate intermediate files"
    valueB="false" />

  <OptionBoolean
    name="noDeclaration"
    altName="D"
    description="Do not generate code for declarations"
    valueB="false" />

<!-- doCompile will be replaced by an alternate XML -->

  <OptionBoolean
    name="noCheck"
    altName="f"
    description="Do not check correctness"
    valueB="false" />

  <OptionBoolean
    name="noWarning"
    altName=""
    description="Do not print warning"
    valueB="false" />

  <OptionBoolean
    name="lazyType"
    altName="l"
    description="Use universal type"
    valueB="false" />

  <OptionBoolean
    name="pretty"
    altName="p"
    description="Generate readable code"
    valueB="false" />

  <OptionBoolean
    name="static"
    altName=""
    description="Generate static functions"
    valueB="false" />

  <OptionBoolean
    name="debug"
    altName=""
    description="Generate debug primitives"
    valueB="false" />

  <OptionBoolean
    name="memory"
    altName=""
    description="Add memory management while debugging (not correct with list matching)"
    valueB="false" />

  <OptionBoolean
    name="eclipse"
    altName=""
    description="Sets Eclipse mode"
    valueB="false" />

  <OptionString
    name="import"
    altName="I"
    description="Path for %include"
    valueS=""
    attrName="path" />

  <OptionString
    name="output"
    altName="o"
    description="Set output file name"
    valueS=""
    attrName="file" />

  <OptionString
    name="destdir"
    altName="d"
    description="Specify where to place generated files"
    valueS="."
    attrName="dir" />

</options>

</server>

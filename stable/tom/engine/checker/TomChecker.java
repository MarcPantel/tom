/* Generated by TOM (version 2.6rc2): Do not edit this file *//*
 *   
 * TOM - To One Matching Compiler
 * 
 * Copyright (c) 2000-2008, INRIA
 * Nancy, France.
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
 * 
 * Pierre-Etienne Moreau  e-mail: Pierre-Etienne.Moreau@loria.fr
 * Julien Guyon
 *
 **/

package tom.engine.checker;

import java.text.MessageFormat;
import java.util.logging.Level;
import java.util.logging.Logger;

import tom.engine.TomBase;
import tom.engine.TomMessage;
import tom.engine.exception.TomRuntimeException;

import tom.engine.adt.tomsignature.*;
import tom.engine.adt.tomconstraint.types.*;
import tom.engine.adt.tomdeclaration.types.*;
import tom.engine.adt.tomexpression.types.*;
import tom.engine.adt.tominstruction.types.*;
import tom.engine.adt.tomname.types.*;
import tom.engine.adt.tomoption.types.*;
import tom.engine.adt.tomsignature.types.*;
import tom.engine.adt.tomterm.types.*;
import tom.engine.adt.tomslot.types.*;
import tom.engine.adt.tomtype.types.*;

import tom.engine.tools.TomGenericPlugin;
import tom.platform.PlatformLogRecord;


abstract public class TomChecker extends TomGenericPlugin {
  
    // ------------------------------------------------------------
  /* Generated by TOM (version 2.6rc2): Do not edit this file *//* Generated by TOM (version 2.6rc2): Do not edit this file *//* Generated by TOM (version 2.6rc2): Do not edit this file */  /* Generated by TOM (version 2.6rc2): Do not edit this file */    private static   tom.engine.adt.tomname.types.TomNameList  tom_append_list_concTomName( tom.engine.adt.tomname.types.TomNameList l1,  tom.engine.adt.tomname.types.TomNameList  l2) {     if( l1.isEmptyconcTomName() ) {       return l2;     } else if( l2.isEmptyconcTomName() ) {       return l1;     } else if(  l1.getTailconcTomName() .isEmptyconcTomName() ) {       return  tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName.make( l1.getHeadconcTomName() ,l2) ;     } else {       return  tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName.make( l1.getHeadconcTomName() ,tom_append_list_concTomName( l1.getTailconcTomName() ,l2)) ;     }   }   private static   tom.engine.adt.tomname.types.TomNameList  tom_get_slice_concTomName( tom.engine.adt.tomname.types.TomNameList  begin,  tom.engine.adt.tomname.types.TomNameList  end, tom.engine.adt.tomname.types.TomNameList  tail) {     if( (begin==end) ) {       return tail;     } else if( (end==tail)  && ( end.isEmptyconcTomName()  ||  (end== tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName.make() ) )) {       /* code to avoid a call to make, and thus to avoid looping during list-matching */       return begin;     }     return  tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName.make( begin.getHeadconcTomName() ,( tom.engine.adt.tomname.types.TomNameList )tom_get_slice_concTomName( begin.getTailconcTomName() ,end,tail)) ;   }      private static   tom.engine.adt.tomoption.types.OptionList  tom_append_list_concOption( tom.engine.adt.tomoption.types.OptionList l1,  tom.engine.adt.tomoption.types.OptionList  l2) {     if( l1.isEmptyconcOption() ) {       return l2;     } else if( l2.isEmptyconcOption() ) {       return l1;     } else if(  l1.getTailconcOption() .isEmptyconcOption() ) {       return  tom.engine.adt.tomoption.types.optionlist.ConsconcOption.make( l1.getHeadconcOption() ,l2) ;     } else {       return  tom.engine.adt.tomoption.types.optionlist.ConsconcOption.make( l1.getHeadconcOption() ,tom_append_list_concOption( l1.getTailconcOption() ,l2)) ;     }   }   private static   tom.engine.adt.tomoption.types.OptionList  tom_get_slice_concOption( tom.engine.adt.tomoption.types.OptionList  begin,  tom.engine.adt.tomoption.types.OptionList  end, tom.engine.adt.tomoption.types.OptionList  tail) {     if( (begin==end) ) {       return tail;     } else if( (end==tail)  && ( end.isEmptyconcOption()  ||  (end== tom.engine.adt.tomoption.types.optionlist.EmptyconcOption.make() ) )) {       /* code to avoid a call to make, and thus to avoid looping during list-matching */       return begin;     }     return  tom.engine.adt.tomoption.types.optionlist.ConsconcOption.make( begin.getHeadconcOption() ,( tom.engine.adt.tomoption.types.OptionList )tom_get_slice_concOption( begin.getTailconcOption() ,end,tail)) ;   }    
    // ------------------------------------------------------------
  
    // Different kind of structures
  protected final static int TERM_APPL               = 0;
  protected final static int UNAMED_APPL             = 1;
  protected final static int APPL_DISJUNCTION        = 2;
  protected final static int RECORD_APPL             = 3;
  protected final static int RECORD_APPL_DISJUNCTION = 4;
  protected final static int XML_APPL                = 5;
  protected final static int VARIABLE_STAR           = 6;
  protected final static int UNAMED_VARIABLE_STAR    = 7;
  protected final static int UNAMED_VARIABLE         = 8;
  protected final static int VARIABLE                = 9;
  
  protected boolean strictType = false;
  protected static Option currentTomStructureOrgTrack;
    
  public TomChecker(String name) {
    super(name);
  }

  protected void reinit() {
    currentTomStructureOrgTrack = null;
  }
 
  public int getClass(TomTerm term) {
    {{ Object tomMatch75NameNumber_freshVar_0=term;if ( (tomMatch75NameNumber_freshVar_0 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_0);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_2=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_2 instanceof tom.engine.adt.tomterm.types.tomterm.TermAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_1= tomMatch75NameNumber_freshVar_2.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_3=tomMatch75NameNumber_freshVar_1;if ( ((tomMatch75NameNumber_freshVar_3 instanceof tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName) || (tomMatch75NameNumber_freshVar_3 instanceof tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName)) ) {if (!( tomMatch75NameNumber_freshVar_3.isEmptyconcTomName() )) {{  tom.engine.adt.tomname.types.TomName  tomMatch75NameNumber_freshVar_6= tomMatch75NameNumber_freshVar_3.getHeadconcTomName() ;if ( (tomMatch75NameNumber_freshVar_6 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch75NameNumber_freshVar_5= tomMatch75NameNumber_freshVar_6.getString() ;{  String  tomMatch75NameNumber_freshVar_7=tomMatch75NameNumber_freshVar_5;if ( "".equals(tomMatch75NameNumber_freshVar_7) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_4= tomMatch75NameNumber_freshVar_3.getTailconcTomName() ;if ( tomMatch75NameNumber_freshVar_4.isEmptyconcTomName() ) {if ( true ) {
 return UNAMED_APPL;}}}}}}}}}}}}}}}}}{ Object tomMatch75NameNumber_freshVar_8=term;if ( (tomMatch75NameNumber_freshVar_8 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_8);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_10=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_10 instanceof tom.engine.adt.tomterm.types.tomterm.TermAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_9= tomMatch75NameNumber_freshVar_10.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_11=tomMatch75NameNumber_freshVar_9;if ( ((tomMatch75NameNumber_freshVar_11 instanceof tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName) || (tomMatch75NameNumber_freshVar_11 instanceof tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName)) ) {if (!( tomMatch75NameNumber_freshVar_11.isEmptyconcTomName() )) {{  tom.engine.adt.tomname.types.TomName  tomMatch75NameNumber_freshVar_14= tomMatch75NameNumber_freshVar_11.getHeadconcTomName() ;if ( (tomMatch75NameNumber_freshVar_14 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch75NameNumber_freshVar_13= tomMatch75NameNumber_freshVar_14.getString() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_12= tomMatch75NameNumber_freshVar_11.getTailconcTomName() ;if ( tomMatch75NameNumber_freshVar_12.isEmptyconcTomName() ) {if ( true ) {
 return TERM_APPL;}}}}}}}}}}}}}}}{ Object tomMatch75NameNumber_freshVar_15=term;if ( (tomMatch75NameNumber_freshVar_15 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_15);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_17=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_17 instanceof tom.engine.adt.tomterm.types.tomterm.TermAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_16= tomMatch75NameNumber_freshVar_17.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_18=tomMatch75NameNumber_freshVar_16;if ( ((tomMatch75NameNumber_freshVar_18 instanceof tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName) || (tomMatch75NameNumber_freshVar_18 instanceof tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName)) ) {if (!( tomMatch75NameNumber_freshVar_18.isEmptyconcTomName() )) {{  tom.engine.adt.tomname.types.TomName  tomMatch75NameNumber_freshVar_22= tomMatch75NameNumber_freshVar_18.getHeadconcTomName() ;if ( (tomMatch75NameNumber_freshVar_22 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch75NameNumber_freshVar_21= tomMatch75NameNumber_freshVar_22.getString() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_19= tomMatch75NameNumber_freshVar_18.getTailconcTomName() ;if ( true ) {
 return APPL_DISJUNCTION;}}}}}}}}}}}}}}{ Object tomMatch75NameNumber_freshVar_23=term;if ( (tomMatch75NameNumber_freshVar_23 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_23);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_25=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_25 instanceof tom.engine.adt.tomterm.types.tomterm.RecordAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_24= tomMatch75NameNumber_freshVar_25.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_26=tomMatch75NameNumber_freshVar_24;if ( ((tomMatch75NameNumber_freshVar_26 instanceof tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName) || (tomMatch75NameNumber_freshVar_26 instanceof tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName)) ) {if (!( tomMatch75NameNumber_freshVar_26.isEmptyconcTomName() )) {{  tom.engine.adt.tomname.types.TomName  tomMatch75NameNumber_freshVar_29= tomMatch75NameNumber_freshVar_26.getHeadconcTomName() ;if ( (tomMatch75NameNumber_freshVar_29 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch75NameNumber_freshVar_28= tomMatch75NameNumber_freshVar_29.getString() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_27= tomMatch75NameNumber_freshVar_26.getTailconcTomName() ;if ( tomMatch75NameNumber_freshVar_27.isEmptyconcTomName() ) {if ( true ) {
 return RECORD_APPL;}}}}}}}}}}}}}}}{ Object tomMatch75NameNumber_freshVar_30=term;if ( (tomMatch75NameNumber_freshVar_30 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_30);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_32=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_32 instanceof tom.engine.adt.tomterm.types.tomterm.RecordAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_31= tomMatch75NameNumber_freshVar_32.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_33=tomMatch75NameNumber_freshVar_31;if ( ((tomMatch75NameNumber_freshVar_33 instanceof tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName) || (tomMatch75NameNumber_freshVar_33 instanceof tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName)) ) {if (!( tomMatch75NameNumber_freshVar_33.isEmptyconcTomName() )) {{  tom.engine.adt.tomname.types.TomName  tomMatch75NameNumber_freshVar_37= tomMatch75NameNumber_freshVar_33.getHeadconcTomName() ;if ( (tomMatch75NameNumber_freshVar_37 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch75NameNumber_freshVar_36= tomMatch75NameNumber_freshVar_37.getString() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch75NameNumber_freshVar_34= tomMatch75NameNumber_freshVar_33.getTailconcTomName() ;if ( true ) {
 return RECORD_APPL_DISJUNCTION;}}}}}}}}}}}}}}{ Object tomMatch75NameNumber_freshVar_38=term;if ( (tomMatch75NameNumber_freshVar_38 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_38);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_39=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_39 instanceof tom.engine.adt.tomterm.types.tomterm.XMLAppl) ) {if ( true ) {
 return XML_APPL;}}}}}}{ Object tomMatch75NameNumber_freshVar_40=term;if ( (tomMatch75NameNumber_freshVar_40 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_40);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_41=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_41 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariable) ) {if ( true ) {
 return UNAMED_VARIABLE;}}}}}}{ Object tomMatch75NameNumber_freshVar_42=term;if ( (tomMatch75NameNumber_freshVar_42 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_42);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_43=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_43 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {if ( true ) {
 return VARIABLE_STAR;}}}}}}{ Object tomMatch75NameNumber_freshVar_44=term;if ( (tomMatch75NameNumber_freshVar_44 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_44);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_45=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_45 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {if ( true ) {
 return VARIABLE;}}}}}}{ Object tomMatch75NameNumber_freshVar_46=term;if ( (tomMatch75NameNumber_freshVar_46 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch75NameNumber_freshVar_46);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch75NameNumber_freshVar_47=tomMatch75NameNumberfreshSubject_1;if ( (tomMatch75NameNumber_freshVar_47 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariableStar) ) {if ( true ) {
 return UNAMED_VARIABLE_STAR;}}}}}}}

    throw new TomRuntimeException("Invalid Term");
  }
  
  public static String getName(TomTerm term) {
    String dijunctionName = "";
    {{ Object tomMatch76NameNumber_freshVar_0=term;if ( (tomMatch76NameNumber_freshVar_0 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_0);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_2=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_2 instanceof tom.engine.adt.tomterm.types.tomterm.TermAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_1= tomMatch76NameNumber_freshVar_2.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_3=tomMatch76NameNumber_freshVar_1;if ( ((tomMatch76NameNumber_freshVar_3 instanceof tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName) || (tomMatch76NameNumber_freshVar_3 instanceof tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName)) ) {if (!( tomMatch76NameNumber_freshVar_3.isEmptyconcTomName() )) {{  tom.engine.adt.tomname.types.TomName  tomMatch76NameNumber_freshVar_6= tomMatch76NameNumber_freshVar_3.getHeadconcTomName() ;if ( (tomMatch76NameNumber_freshVar_6 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch76NameNumber_freshVar_5= tomMatch76NameNumber_freshVar_6.getString() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_4= tomMatch76NameNumber_freshVar_3.getTailconcTomName() ;if ( tomMatch76NameNumber_freshVar_4.isEmptyconcTomName() ) {if ( true ) {
 return tomMatch76NameNumber_freshVar_5;}}}}}}}}}}}}}}}{ Object tomMatch76NameNumber_freshVar_7=term;if ( (tomMatch76NameNumber_freshVar_7 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_7);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_9=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_9 instanceof tom.engine.adt.tomterm.types.tomterm.TermAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_8= tomMatch76NameNumber_freshVar_9.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tom_nameList=tomMatch76NameNumber_freshVar_8;if ( true ) {

        String head;
        dijunctionName = tom_nameList.getHeadconcTomName().getString();
        while(!tom_nameList.isEmptyconcTomName()) {
          head = tom_nameList.getHeadconcTomName().getString();
          dijunctionName = ( dijunctionName.compareTo(head) > 0)?dijunctionName:head;
          tom_nameList= tom_nameList.getTailconcTomName();
        }
        return dijunctionName;
      }}}}}}}}{ Object tomMatch76NameNumber_freshVar_10=term;if ( (tomMatch76NameNumber_freshVar_10 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_10);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_12=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_12 instanceof tom.engine.adt.tomterm.types.tomterm.RecordAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_11= tomMatch76NameNumber_freshVar_12.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_13=tomMatch76NameNumber_freshVar_11;if ( ((tomMatch76NameNumber_freshVar_13 instanceof tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName) || (tomMatch76NameNumber_freshVar_13 instanceof tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName)) ) {if (!( tomMatch76NameNumber_freshVar_13.isEmptyconcTomName() )) {{  tom.engine.adt.tomname.types.TomName  tomMatch76NameNumber_freshVar_16= tomMatch76NameNumber_freshVar_13.getHeadconcTomName() ;if ( (tomMatch76NameNumber_freshVar_16 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch76NameNumber_freshVar_15= tomMatch76NameNumber_freshVar_16.getString() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_14= tomMatch76NameNumber_freshVar_13.getTailconcTomName() ;if ( tomMatch76NameNumber_freshVar_14.isEmptyconcTomName() ) {if ( true ) {
 return tomMatch76NameNumber_freshVar_15;}}}}}}}}}}}}}}}{ Object tomMatch76NameNumber_freshVar_17=term;if ( (tomMatch76NameNumber_freshVar_17 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_17);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_19=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_19 instanceof tom.engine.adt.tomterm.types.tomterm.RecordAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_18= tomMatch76NameNumber_freshVar_19.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tom_nameList=tomMatch76NameNumber_freshVar_18;if ( true ) {

        String head;
        dijunctionName = tom_nameList.getHeadconcTomName().getString();
        while(!tom_nameList.isEmptyconcTomName()) {
          head = tom_nameList.getHeadconcTomName().getString();
          dijunctionName = ( dijunctionName.compareTo(head) > 0)?dijunctionName:head;
          tom_nameList= tom_nameList.getTailconcTomName();
        }
        return dijunctionName;
      }}}}}}}}{ Object tomMatch76NameNumber_freshVar_20=term;if ( (tomMatch76NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_20);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_22=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_22 instanceof tom.engine.adt.tomterm.types.tomterm.XMLAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_21= tomMatch76NameNumber_freshVar_22.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_23=tomMatch76NameNumber_freshVar_21;if ( ((tomMatch76NameNumber_freshVar_23 instanceof tom.engine.adt.tomname.types.tomnamelist.ConsconcTomName) || (tomMatch76NameNumber_freshVar_23 instanceof tom.engine.adt.tomname.types.tomnamelist.EmptyconcTomName)) ) {if (!( tomMatch76NameNumber_freshVar_23.isEmptyconcTomName() )) {{  tom.engine.adt.tomname.types.TomName  tomMatch76NameNumber_freshVar_27= tomMatch76NameNumber_freshVar_23.getHeadconcTomName() ;if ( (tomMatch76NameNumber_freshVar_27 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch76NameNumber_freshVar_26= tomMatch76NameNumber_freshVar_27.getString() ;{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_24= tomMatch76NameNumber_freshVar_23.getTailconcTomName() ;if ( true ) {
 return tomMatch76NameNumber_freshVar_26;}}}}}}}}}}}}}}{ Object tomMatch76NameNumber_freshVar_28=term;if ( (tomMatch76NameNumber_freshVar_28 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_28);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_30=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_30 instanceof tom.engine.adt.tomterm.types.tomterm.XMLAppl) ) {{  tom.engine.adt.tomname.types.TomNameList  tomMatch76NameNumber_freshVar_29= tomMatch76NameNumber_freshVar_30.getNameList() ;{  tom.engine.adt.tomname.types.TomNameList  tom_nameList=tomMatch76NameNumber_freshVar_29;if ( true ) {

        String head;
        dijunctionName = tom_nameList.getHeadconcTomName().getString();
        while(!tom_nameList.isEmptyconcTomName()) {
          head = tom_nameList.getHeadconcTomName().getString();
          dijunctionName = ( dijunctionName.compareTo(head) > 0)?dijunctionName:head;
          tom_nameList= tom_nameList.getTailconcTomName();
        }
        return dijunctionName;
      }}}}}}}}{ Object tomMatch76NameNumber_freshVar_31=term;if ( (tomMatch76NameNumber_freshVar_31 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_31);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_33=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_33 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch76NameNumber_freshVar_32= tomMatch76NameNumber_freshVar_33.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch76NameNumber_freshVar_35=tomMatch76NameNumber_freshVar_32;if ( (tomMatch76NameNumber_freshVar_35 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch76NameNumber_freshVar_34= tomMatch76NameNumber_freshVar_35.getString() ;if ( true ) {
 return tomMatch76NameNumber_freshVar_34;}}}}}}}}}}{ Object tomMatch76NameNumber_freshVar_36=term;if ( (tomMatch76NameNumber_freshVar_36 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_36);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_38=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_38 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch76NameNumber_freshVar_37= tomMatch76NameNumber_freshVar_38.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch76NameNumber_freshVar_40=tomMatch76NameNumber_freshVar_37;if ( (tomMatch76NameNumber_freshVar_40 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch76NameNumber_freshVar_39= tomMatch76NameNumber_freshVar_40.getString() ;if ( true ) {
 return tomMatch76NameNumber_freshVar_39+"*";}}}}}}}}}}{ Object tomMatch76NameNumber_freshVar_41=term;if ( (tomMatch76NameNumber_freshVar_41 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_41);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_42=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_42 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariable) ) {if ( true ) {
 return "_";}}}}}}{ Object tomMatch76NameNumber_freshVar_43=term;if ( (tomMatch76NameNumber_freshVar_43 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_43);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_44=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_44 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariableStar) ) {if ( true ) {
 return "_*";}}}}}}{ Object tomMatch76NameNumber_freshVar_45=term;if ( (tomMatch76NameNumber_freshVar_45 instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )tomMatch76NameNumber_freshVar_45);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_47=tomMatch76NameNumberfreshSubject_1;if ( (tomMatch76NameNumber_freshVar_47 instanceof tom.engine.adt.tomterm.types.tomterm.AntiTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch76NameNumber_freshVar_46= tomMatch76NameNumber_freshVar_47.getTomTerm() ;if ( true ) {
 return getName(tomMatch76NameNumber_freshVar_46); }}}}}}}}

    throw new TomRuntimeException("Invalid Term:" + term);
  }
  
  /**
   * Shared Functions 
   */
  protected String extractType(TomSymbol symbol) {
    TomType type = TomBase.getSymbolCodomain(symbol);
    return TomBase.getTomType(type);
  }
  
  protected static String findOriginTrackingFileName(OptionList optionList) {
    {{ Object tomMatch77NameNumber_freshVar_0=optionList;if ( (tomMatch77NameNumber_freshVar_0 instanceof tom.engine.adt.tomoption.types.OptionList) ) {{  tom.engine.adt.tomoption.types.OptionList  tomMatch77NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.OptionList )tomMatch77NameNumber_freshVar_0);{  tom.engine.adt.tomoption.types.OptionList  tomMatch77NameNumber_freshVar_1=tomMatch77NameNumberfreshSubject_1;if ( ((tomMatch77NameNumber_freshVar_1 instanceof tom.engine.adt.tomoption.types.optionlist.ConsconcOption) || (tomMatch77NameNumber_freshVar_1 instanceof tom.engine.adt.tomoption.types.optionlist.EmptyconcOption)) ) {{  tom.engine.adt.tomoption.types.OptionList  tomMatch77NameNumber_begin_3=tomMatch77NameNumber_freshVar_1;{  tom.engine.adt.tomoption.types.OptionList  tomMatch77NameNumber_end_4=tomMatch77NameNumber_freshVar_1;do {{{  tom.engine.adt.tomoption.types.OptionList  tomMatch77NameNumber_freshVar_2=tomMatch77NameNumber_end_4;if (!( tomMatch77NameNumber_freshVar_2.isEmptyconcOption() )) {{  tom.engine.adt.tomoption.types.Option  tomMatch77NameNumber_freshVar_8= tomMatch77NameNumber_freshVar_2.getHeadconcOption() ;if ( (tomMatch77NameNumber_freshVar_8 instanceof tom.engine.adt.tomoption.types.option.OriginTracking) ) {{  String  tomMatch77NameNumber_freshVar_7= tomMatch77NameNumber_freshVar_8.getFileName() ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch77NameNumber_freshVar_5= tomMatch77NameNumber_freshVar_2.getTailconcOption() ;if ( true ) {
 return tomMatch77NameNumber_freshVar_7; }}}}}}}if ( tomMatch77NameNumber_end_4.isEmptyconcOption() ) {tomMatch77NameNumber_end_4=tomMatch77NameNumber_begin_3;} else {tomMatch77NameNumber_end_4= tomMatch77NameNumber_end_4.getTailconcOption() ;}}} while(!( (tomMatch77NameNumber_end_4==tomMatch77NameNumber_begin_3) ));}}}}}}}}

    return "unknown filename";
  }

  protected static int findOriginTrackingLine(OptionList optionList) {
    {{ Object tomMatch78NameNumber_freshVar_0=optionList;if ( (tomMatch78NameNumber_freshVar_0 instanceof tom.engine.adt.tomoption.types.OptionList) ) {{  tom.engine.adt.tomoption.types.OptionList  tomMatch78NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.OptionList )tomMatch78NameNumber_freshVar_0);{  tom.engine.adt.tomoption.types.OptionList  tomMatch78NameNumber_freshVar_1=tomMatch78NameNumberfreshSubject_1;if ( ((tomMatch78NameNumber_freshVar_1 instanceof tom.engine.adt.tomoption.types.optionlist.ConsconcOption) || (tomMatch78NameNumber_freshVar_1 instanceof tom.engine.adt.tomoption.types.optionlist.EmptyconcOption)) ) {{  tom.engine.adt.tomoption.types.OptionList  tomMatch78NameNumber_begin_3=tomMatch78NameNumber_freshVar_1;{  tom.engine.adt.tomoption.types.OptionList  tomMatch78NameNumber_end_4=tomMatch78NameNumber_freshVar_1;do {{{  tom.engine.adt.tomoption.types.OptionList  tomMatch78NameNumber_freshVar_2=tomMatch78NameNumber_end_4;if (!( tomMatch78NameNumber_freshVar_2.isEmptyconcOption() )) {{  tom.engine.adt.tomoption.types.Option  tomMatch78NameNumber_freshVar_8= tomMatch78NameNumber_freshVar_2.getHeadconcOption() ;if ( (tomMatch78NameNumber_freshVar_8 instanceof tom.engine.adt.tomoption.types.option.OriginTracking) ) {{  int  tomMatch78NameNumber_freshVar_7= tomMatch78NameNumber_freshVar_8.getLine() ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch78NameNumber_freshVar_5= tomMatch78NameNumber_freshVar_2.getTailconcOption() ;if ( true ) {
 return tomMatch78NameNumber_freshVar_7; }}}}}}}if ( tomMatch78NameNumber_end_4.isEmptyconcOption() ) {tomMatch78NameNumber_end_4=tomMatch78NameNumber_begin_3;} else {tomMatch78NameNumber_end_4= tomMatch78NameNumber_end_4.getTailconcOption() ;}}} while(!( (tomMatch78NameNumber_end_4==tomMatch78NameNumber_begin_3) ));}}}}}}}}

    return -1;
  }

  protected void ensureOriginTrackingLine(int line) {
    if(line < 0) {
      getLogger().log(Level.SEVERE,
                      TomMessage.findOTL.getMessage(),
                      getStreamManager().getInputFileName());
      //System.out.println("findOriginTrackingLine: not found ");
    }
  }

  /**
   * Message Functions
   */
  protected void messageError(String fileName, int errorLine, TomMessage msg, Object[] msgArgs) {
    getLogger().log(new PlatformLogRecord(Level.SEVERE, msg, msgArgs,fileName, errorLine));
  }
  
  protected void messageWarning(String fileName, int errorLine, TomMessage msg, Object[] msgArgs) {
    getLogger().log(new PlatformLogRecord(Level.WARNING,msg,msgArgs,fileName, errorLine));
  }
  
  public static void messageError(String className,String fileName, int errorLine, TomMessage msg, Object[] msgArgs) {
    Logger.getLogger(className).log(new PlatformLogRecord(Level.SEVERE, msg, msgArgs,fileName, errorLine));
  }
  
  public static void messageWarning(String className,String fileName, int errorLine, TomMessage msg, Object[] msgArgs) {
    Logger.getLogger(className).log(new PlatformLogRecord(Level.WARNING, msg, msgArgs,fileName, errorLine));
  }
  
}  //Class TomChecker

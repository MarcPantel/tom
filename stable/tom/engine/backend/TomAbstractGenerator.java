/* Generated by TOM (version 2.6alpha): Do not edit this file *//*
 *
 * TOM - To One Matching Compiler
 * 
 * Copyright (c) 2000-2008, INRIA
 * Nancy, France.
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
 * 
 * Pierre-Etienne Moreau  e-mail: Pierre-Etienne.Moreau@loria.fr
 *
 **/

package tom.engine.backend;

import java.io.IOException;

import tom.engine.TomBase;
import tom.engine.exception.TomRuntimeException;

import tom.engine.adt.tomsignature.*;
import tom.engine.adt.tomconstraint.types.*;
import tom.engine.adt.tomdeclaration.types.*;
import tom.engine.adt.tomexpression.types.*;
import tom.engine.adt.tominstruction.types.*;
import tom.engine.adt.tomname.types.*;
import tom.engine.adt.tomoption.types.*;
import tom.engine.adt.tomsignature.types.*;
import tom.engine.adt.tomterm.types.*;
import tom.engine.adt.tomslot.types.*;
import tom.engine.adt.tomtype.types.*;

import tom.engine.tools.OutputCode;
import tom.engine.tools.SymbolTable;
import tom.platform.OptionManager;

import aterm.*;

public abstract class TomAbstractGenerator {

  protected OutputCode output;
  protected OptionManager optionManager;
  protected SymbolTable symbolTable;
  protected boolean prettyMode;

  public TomAbstractGenerator(OutputCode output, OptionManager optionManager,
                              SymbolTable symbolTable) {
    this.symbolTable = symbolTable;
    this.optionManager = optionManager;
    this.output = output;
    this.prettyMode = ((Boolean)optionManager.getOptionValue("pretty")).booleanValue();
  }

  protected SymbolTable getSymbolTable(String moduleName) {
    //TODO//
    //Using of the moduleName
    ////////
    return symbolTable;
  }

  protected TomSymbol getSymbolFromName(String tomName) {
    return TomBase.getSymbolFromName(tomName, symbolTable);
  }

  protected TomSymbol getSymbolFromType(TomType tomType) {
    return TomBase.getSymbolFromType(tomType, symbolTable);
  }

  protected TomType getTermType(TomTerm t) {
    return TomBase.getTermType(t, symbolTable);
  }

  protected TomType getUniversalType() {
    return symbolTable.getUniversalType();
  }
// ------------------------------------------------------------
  /* Generated by TOM (version 2.6alpha): Do not edit this file *//* Generated by TOM (version 2.6alpha): Do not edit this file *//* Generated by TOM (version 2.6alpha): Do not edit this file */  /* Generated by TOM (version 2.6alpha): Do not edit this file */    private static   tom.engine.adt.tomterm.types.TomList  tom_append_list_concTomTerm( tom.engine.adt.tomterm.types.TomList l1,  tom.engine.adt.tomterm.types.TomList  l2) {     if( l1.isEmptyconcTomTerm() ) {       return l2;     } else if( l2.isEmptyconcTomTerm() ) {       return l1;     } else if(  l1.getTailconcTomTerm() .isEmptyconcTomTerm() ) {       return  tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make( l1.getHeadconcTomTerm() ,l2) ;     } else {       return  tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make( l1.getHeadconcTomTerm() ,tom_append_list_concTomTerm( l1.getTailconcTomTerm() ,l2)) ;     }   }   private static   tom.engine.adt.tomterm.types.TomList  tom_get_slice_concTomTerm( tom.engine.adt.tomterm.types.TomList  begin,  tom.engine.adt.tomterm.types.TomList  end, tom.engine.adt.tomterm.types.TomList  tail) {     if( (begin==end) ) {       return tail;     } else if( (end==tail)  && ( end.isEmptyconcTomTerm()  ||  (end== tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ) )) {       /* code to avoid a call to make, and thus to avoid looping during list-matching */       return begin;     }     return  tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make( begin.getHeadconcTomTerm() ,( tom.engine.adt.tomterm.types.TomList )tom_get_slice_concTomTerm( begin.getTailconcTomTerm() ,end,tail)) ;   }    
// ------------------------------------------------------------

  protected TomTerm operatorsTogenerate(TomTerm subject)throws IOException {
    //System.out.println("Subject "+subject);
    //collectMake(subject);
    return subject;
  }

  /**
   * Generate the goal language
   * 
   * @param deep 
   * 		The distance from the right side (allows the computation of the column number)
   */
  protected void generate(int deep, TomTerm subject, String moduleName)throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.Tom) ) {{  tom.engine.adt.tomterm.types.TomList  tomMatch38NameNumber_freshVar_0= tomMatch38NameNumberfreshSubject_1.getTomList() ;if ( true ) {


        generateList(deep,tomMatch38NameNumber_freshVar_0, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.TomInclude) ) {{  tom.engine.adt.tomterm.types.TomList  tomMatch38NameNumber_freshVar_1= tomMatch38NameNumberfreshSubject_1.getTomList() ;if ( true ) {


        generateListInclude(deep,tomMatch38NameNumber_freshVar_1, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.Ref) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumber_freshVar_2= tomMatch38NameNumberfreshSubject_1.getTomTerm() ;{ boolean tomMatch38NameNumber_freshVar_3= false ;if ( (tomMatch38NameNumber_freshVar_2 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {tomMatch38NameNumber_freshVar_3= true ;} else {if ( (tomMatch38NameNumber_freshVar_2 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {tomMatch38NameNumber_freshVar_3= true ;}}if ((tomMatch38NameNumber_freshVar_3 ==  true )) {if ( true ) {


        buildRef(deep, tomMatch38NameNumber_freshVar_2, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.Ref) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumber_freshVar_4= tomMatch38NameNumberfreshSubject_1.getTomTerm() ;if ( true ) {


        generate(deep, tomMatch38NameNumber_freshVar_4, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.BuildConstant) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch38NameNumber_freshVar_5= tomMatch38NameNumberfreshSubject_1.getAstName() ;if ( (tomMatch38NameNumber_freshVar_5 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch38NameNumber_freshVar_6= tomMatch38NameNumber_freshVar_5.getString() ;if ( true ) {


        output.write(tomMatch38NameNumber_freshVar_6);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.BuildTerm) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch38NameNumber_freshVar_7= tomMatch38NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch38NameNumber_freshVar_8= tomMatch38NameNumberfreshSubject_1.getArgs() ;{  String  tomMatch38NameNumber_freshVar_9= tomMatch38NameNumberfreshSubject_1.getModuleName() ;if ( (tomMatch38NameNumber_freshVar_7 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch38NameNumber_freshVar_10= tomMatch38NameNumber_freshVar_7.getString() ;if ( true ) {buildTerm(deep,tomMatch38NameNumber_freshVar_10,tomMatch38NameNumber_freshVar_8,tomMatch38NameNumber_freshVar_9)


;
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{ boolean tomMatch38NameNumber_freshVar_11= false ;if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.BuildEmptyList) ) {tomMatch38NameNumber_freshVar_11= true ;} else {if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.BuildEmptyArray) ) {tomMatch38NameNumber_freshVar_11= true ;} else {if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.BuildConsList) ) {tomMatch38NameNumber_freshVar_11= true ;} else {if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.BuildAppendList) ) {tomMatch38NameNumber_freshVar_11= true ;} else {if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.BuildConsArray) ) {tomMatch38NameNumber_freshVar_11= true ;} else {if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.BuildAppendArray) ) {tomMatch38NameNumber_freshVar_11= true ;}}}}}}if ((tomMatch38NameNumber_freshVar_11 ==  true )) {if ( true ) {


        buildListOrArray(deep, tomMatch38NameNumberfreshSubject_1, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.FunctionCall) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch38NameNumber_freshVar_12= tomMatch38NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch38NameNumber_freshVar_13= tomMatch38NameNumberfreshSubject_1.getArgs() ;if ( (tomMatch38NameNumber_freshVar_12 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch38NameNumber_freshVar_14= tomMatch38NameNumber_freshVar_12.getString() ;if ( true ) {


        buildFunctionCall(deep,tomMatch38NameNumber_freshVar_14, tomMatch38NameNumber_freshVar_13, moduleName);
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.Composite) ) {{  tom.engine.adt.tomterm.types.TomList  tomMatch38NameNumber_freshVar_15= tomMatch38NameNumberfreshSubject_1.getArgs() ;if ( true ) {


        generateList(deep,tomMatch38NameNumber_freshVar_15, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch38NameNumber_freshVar_16= tomMatch38NameNumberfreshSubject_1.getAstName() ;if ( (tomMatch38NameNumber_freshVar_16 instanceof tom.engine.adt.tomname.types.tomname.PositionName) ) {{  tom.engine.adt.tomname.types.TomNumberList  tomMatch38NameNumber_freshVar_17= tomMatch38NameNumber_freshVar_16.getNumberList() ;if ( true ) {


          /*
           * sans type: re-definition lorsque %variable est utilise
           * avec type: probleme en cas de filtrage dynamique
           */
        output.write("tom" + TomBase.tomNumberListToString(tomMatch38NameNumber_freshVar_17));
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch38NameNumber_freshVar_18= tomMatch38NameNumberfreshSubject_1.getAstName() ;if ( (tomMatch38NameNumber_freshVar_18 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch38NameNumber_freshVar_19= tomMatch38NameNumber_freshVar_18.getString() ;if ( true ) {


        output.write(tomMatch38NameNumber_freshVar_19);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch38NameNumber_freshVar_20= tomMatch38NameNumberfreshSubject_1.getAstName() ;if ( (tomMatch38NameNumber_freshVar_20 instanceof tom.engine.adt.tomname.types.tomname.PositionName) ) {{  tom.engine.adt.tomname.types.TomNumberList  tomMatch38NameNumber_freshVar_21= tomMatch38NameNumber_freshVar_20.getNumberList() ;if ( true ) {


        output.write("tom" + TomBase.tomNumberListToString(tomMatch38NameNumber_freshVar_21));
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch38NameNumber_freshVar_22= tomMatch38NameNumberfreshSubject_1.getAstName() ;if ( (tomMatch38NameNumber_freshVar_22 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch38NameNumber_freshVar_23= tomMatch38NameNumber_freshVar_22.getString() ;if ( true ) {


        output.write(tomMatch38NameNumber_freshVar_23);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.TargetLanguageToTomTerm) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch38NameNumber_freshVar_24= tomMatch38NameNumberfreshSubject_1.getTl() ;if ( true ) {


        generateTargetLanguage(deep,tomMatch38NameNumber_freshVar_24, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.ExpressionToTomTerm) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch38NameNumber_freshVar_25= tomMatch38NameNumberfreshSubject_1.getAstExpression() ;if ( true ) {


        generateExpression(deep,tomMatch38NameNumber_freshVar_25, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.InstructionToTomTerm) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch38NameNumber_freshVar_26= tomMatch38NameNumberfreshSubject_1.getAstInstruction() ;if ( true ) {


        generateInstruction(deep,tomMatch38NameNumber_freshVar_26, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);if ( (tomMatch38NameNumberfreshSubject_1 instanceof tom.engine.adt.tomterm.types.tomterm.DeclarationToTomTerm) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch38NameNumber_freshVar_27= tomMatch38NameNumberfreshSubject_1.getAstDeclaration() ;if ( true ) {


        generateDeclaration(deep,tomMatch38NameNumber_freshVar_27, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch38NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tom_t=tomMatch38NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for: " + tom_t);
      }}}}}

  }

  public void generateExpression(int deep, Expression subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.Code) ) {{  String  tomMatch39NameNumber_freshVar_0= tomMatch39NameNumberfreshSubject_1.getCode() ;if ( true ) {

        output.write(tomMatch39NameNumber_freshVar_0);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.Integer) ) {{  int  tomMatch39NameNumber_freshVar_1= tomMatch39NameNumberfreshSubject_1.getvalue() ;if ( true ) {


        output.write(tomMatch39NameNumber_freshVar_1);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.Negation) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_2= tomMatch39NameNumberfreshSubject_1.getArg() ;if ( true ) {


        buildExpNegation(deep, tomMatch39NameNumber_freshVar_2, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.Conditional) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_3= tomMatch39NameNumberfreshSubject_1.getCond() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_4= tomMatch39NameNumberfreshSubject_1.getThen() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_5= tomMatch39NameNumberfreshSubject_1.getElse() ;if ( true ) {


        buildExpConditional(deep, tomMatch39NameNumber_freshVar_3, tomMatch39NameNumber_freshVar_4, tomMatch39NameNumber_freshVar_5, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.And) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_6= tomMatch39NameNumberfreshSubject_1.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_7= tomMatch39NameNumberfreshSubject_1.getArg2() ;if ( true ) {


        buildExpAnd(deep, tomMatch39NameNumber_freshVar_6, tomMatch39NameNumber_freshVar_7, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.Or) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_8= tomMatch39NameNumberfreshSubject_1.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_9= tomMatch39NameNumberfreshSubject_1.getArg2() ;if ( true ) {


        buildExpOr(deep, tomMatch39NameNumber_freshVar_8, tomMatch39NameNumber_freshVar_9, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GreaterThan) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_10= tomMatch39NameNumberfreshSubject_1.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_11= tomMatch39NameNumberfreshSubject_1.getArg2() ;if ( true ) {


        buildExpGreaterThan(deep, tomMatch39NameNumber_freshVar_10, tomMatch39NameNumber_freshVar_11, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GreaterOrEqualThan) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_12= tomMatch39NameNumberfreshSubject_1.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_13= tomMatch39NameNumberfreshSubject_1.getArg2() ;if ( true ) {


        buildExpGreaterOrEqualThan(deep, tomMatch39NameNumber_freshVar_12, tomMatch39NameNumber_freshVar_13, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.LessThan) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_14= tomMatch39NameNumberfreshSubject_1.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_15= tomMatch39NameNumberfreshSubject_1.getArg2() ;if ( true ) {


        buildExpLessThan(deep, tomMatch39NameNumber_freshVar_14, tomMatch39NameNumber_freshVar_15, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.LessOrEqualThan) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_16= tomMatch39NameNumberfreshSubject_1.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_17= tomMatch39NameNumberfreshSubject_1.getArg2() ;if ( true ) {


        buildExpLessOrEqualThan(deep, tomMatch39NameNumber_freshVar_16, tomMatch39NameNumber_freshVar_17, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.Bottom) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_18= tomMatch39NameNumberfreshSubject_1.getTomType() ;if ( true ) {



        buildExpBottom(deep,tomMatch39NameNumber_freshVar_18, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.TrueTL) ) {if ( true ) {


        buildExpTrue(deep);
        return;
      }}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.FalseTL) ) {if ( true ) {


        buildExpFalse(deep);
        return;
      }}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.IsEmptyList) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_19= tomMatch39NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_20= tomMatch39NameNumberfreshSubject_1.getVariable() ;if ( (tomMatch39NameNumber_freshVar_19 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_21= tomMatch39NameNumber_freshVar_19.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_expList=tomMatch39NameNumber_freshVar_20;if ( true ) {buildExpIsEmptyList(deep,tomMatch39NameNumber_freshVar_21,getTermType(tom_expList),tom_expList,moduleName)


;
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.IsEmptyArray) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_22= tomMatch39NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_23= tomMatch39NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_24= tomMatch39NameNumberfreshSubject_1.getIndex() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_expArray=tomMatch39NameNumber_freshVar_23;if ( true ) {


        buildExpIsEmptyArray(deep, tomMatch39NameNumber_freshVar_22, getTermType(tom_expArray), tomMatch39NameNumber_freshVar_24, tom_expArray, moduleName);
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.EqualTerm) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_25= tomMatch39NameNumberfreshSubject_1.getTomType() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_26= tomMatch39NameNumberfreshSubject_1.getKid1() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_27= tomMatch39NameNumberfreshSubject_1.getKid2() ;if ( true ) {buildExpEqualTerm(deep,tomMatch39NameNumber_freshVar_25,tomMatch39NameNumber_freshVar_26,tomMatch39NameNumber_freshVar_27,moduleName)


;
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.IsSort) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_28= tomMatch39NameNumberfreshSubject_1.getAstType() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_29= tomMatch39NameNumberfreshSubject_1.getVariable() ;{ boolean tomMatch39NameNumber_freshVar_31= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_30= null ;if ( (tomMatch39NameNumber_freshVar_28 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{tomMatch39NameNumber_freshVar_31= true ;tomMatch39NameNumber_freshVar_30= tomMatch39NameNumber_freshVar_28.getTomType() ;}} else {if ( (tomMatch39NameNumber_freshVar_28 instanceof tom.engine.adt.tomtype.types.tomtype.TypeWithSymbol) ) {{tomMatch39NameNumber_freshVar_31= true ;tomMatch39NameNumber_freshVar_30= tomMatch39NameNumber_freshVar_28.getTomType() ;}}}if ((tomMatch39NameNumber_freshVar_31 ==  true )) {if ( (tomMatch39NameNumber_freshVar_30 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {if ( true ) {buildExpIsSort(deep,TomBase.getTomType(tomMatch39NameNumber_freshVar_30),tomMatch39NameNumber_freshVar_29,moduleName)


;
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.IsFsym) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_32= tomMatch39NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_33= tomMatch39NameNumberfreshSubject_1.getVariable() ;if ( (tomMatch39NameNumber_freshVar_32 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_34= tomMatch39NameNumber_freshVar_32.getString() ;if ( true ) {


        buildExpIsFsym(deep, tomMatch39NameNumber_freshVar_34, tomMatch39NameNumber_freshVar_33, moduleName);
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.Cast) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_35= tomMatch39NameNumberfreshSubject_1.getAstType() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_36= tomMatch39NameNumberfreshSubject_1.getSource() ;{ boolean tomMatch39NameNumber_freshVar_38= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_37= null ;if ( (tomMatch39NameNumber_freshVar_35 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{tomMatch39NameNumber_freshVar_38= true ;tomMatch39NameNumber_freshVar_37= tomMatch39NameNumber_freshVar_35.getTlType() ;}} else {if ( (tomMatch39NameNumber_freshVar_35 instanceof tom.engine.adt.tomtype.types.tomtype.TypeWithSymbol) ) {{tomMatch39NameNumber_freshVar_38= true ;tomMatch39NameNumber_freshVar_37= tomMatch39NameNumber_freshVar_35.getTlType() ;}}}if ((tomMatch39NameNumber_freshVar_38 ==  true )) {if ( (tomMatch39NameNumber_freshVar_37 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {


        buildExpCast(deep, tomMatch39NameNumber_freshVar_37, tomMatch39NameNumber_freshVar_36, moduleName);
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GetSlot) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_39= tomMatch39NameNumberfreshSubject_1.getCodomain() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_40= tomMatch39NameNumberfreshSubject_1.getAstName() ;{  String  tomMatch39NameNumber_freshVar_41= tomMatch39NameNumberfreshSubject_1.getSlotNameString() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_42= tomMatch39NameNumberfreshSubject_1.getVariable() ;if ( (tomMatch39NameNumber_freshVar_40 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_43= tomMatch39NameNumber_freshVar_40.getString() ;{ boolean tomMatch39NameNumber_freshVar_44= false ;if ( (tomMatch39NameNumber_freshVar_42 instanceof tom.engine.adt.tomterm.types.tomterm.Ref) ) {tomMatch39NameNumber_freshVar_44= true ;} else {if ( (tomMatch39NameNumber_freshVar_42 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {tomMatch39NameNumber_freshVar_44= true ;} else {if ( (tomMatch39NameNumber_freshVar_42 instanceof tom.engine.adt.tomterm.types.tomterm.BuildTerm) ) {tomMatch39NameNumber_freshVar_44= true ;} else {if ( (tomMatch39NameNumber_freshVar_42 instanceof tom.engine.adt.tomterm.types.tomterm.ExpressionToTomTerm) ) {tomMatch39NameNumber_freshVar_44= true ;}}}}if ((tomMatch39NameNumber_freshVar_44 ==  true )) {if ( true ) {buildExpGetSlot(deep,tomMatch39NameNumber_freshVar_43,tomMatch39NameNumber_freshVar_41,tomMatch39NameNumber_freshVar_42,moduleName)


;
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GetSlot) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_45= tomMatch39NameNumberfreshSubject_1.getCodomain() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_46= tomMatch39NameNumberfreshSubject_1.getAstName() ;{  String  tomMatch39NameNumber_freshVar_47= tomMatch39NameNumberfreshSubject_1.getSlotNameString() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_48= tomMatch39NameNumberfreshSubject_1.getVariable() ;if ( (tomMatch39NameNumber_freshVar_46 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_49= tomMatch39NameNumber_freshVar_46.getString() ;if ( (tomMatch39NameNumber_freshVar_48 instanceof tom.engine.adt.tomterm.types.tomterm.ExpressionToTomTerm) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_50= tomMatch39NameNumber_freshVar_48.getAstExpression() ;if ( (tomMatch39NameNumber_freshVar_50 instanceof tom.engine.adt.tomexpression.types.expression.GetSlot) ) {if ( true ) {buildExpGetSlot(deep,tomMatch39NameNumber_freshVar_49,tomMatch39NameNumber_freshVar_47,tomMatch39NameNumber_freshVar_48,moduleName)

;
        return;
      }}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GetHead) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_51= tomMatch39NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_52= tomMatch39NameNumberfreshSubject_1.getCodomain() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_53= tomMatch39NameNumberfreshSubject_1.getVariable() ;if ( (tomMatch39NameNumber_freshVar_51 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_54= tomMatch39NameNumber_freshVar_51.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_exp=tomMatch39NameNumber_freshVar_53;if ( true ) {buildExpGetHead(deep,tomMatch39NameNumber_freshVar_54,getTermType(tom_exp),tomMatch39NameNumber_freshVar_52,tom_exp,moduleName)


;
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GetTail) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_55= tomMatch39NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_56= tomMatch39NameNumberfreshSubject_1.getVariable() ;if ( (tomMatch39NameNumber_freshVar_55 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_57= tomMatch39NameNumber_freshVar_55.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_exp=tomMatch39NameNumber_freshVar_56;if ( true ) {buildExpGetTail(deep,tomMatch39NameNumber_freshVar_57,getTermType(tom_exp),tom_exp,moduleName)


;
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.AddOne) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_58= tomMatch39NameNumberfreshSubject_1.getVariable() ;if ( true ) {


        buildAddOne(deep, tomMatch39NameNumber_freshVar_58, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GetSize) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_59= tomMatch39NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_60= tomMatch39NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_exp=tomMatch39NameNumber_freshVar_60;if ( true ) {


        buildExpGetSize(deep,tomMatch39NameNumber_freshVar_59,getTermType(tom_exp), tom_exp, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GetElement) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_61= tomMatch39NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch39NameNumber_freshVar_62= tomMatch39NameNumberfreshSubject_1.getCodomain() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_63= tomMatch39NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_64= tomMatch39NameNumberfreshSubject_1.getIndex() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_varName=tomMatch39NameNumber_freshVar_63;if ( true ) {


        buildExpGetElement(deep,tomMatch39NameNumber_freshVar_61,getTermType(tom_varName),tomMatch39NameNumber_freshVar_62, tom_varName, tomMatch39NameNumber_freshVar_64, moduleName);
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GetSliceList) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_65= tomMatch39NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_66= tomMatch39NameNumberfreshSubject_1.getVariableBeginAST() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_67= tomMatch39NameNumberfreshSubject_1.getVariableEndAST() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_68= tomMatch39NameNumberfreshSubject_1.getTail() ;if ( (tomMatch39NameNumber_freshVar_65 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_69= tomMatch39NameNumber_freshVar_65.getString() ;if ( true ) {


        buildExpGetSliceList(deep, tomMatch39NameNumber_freshVar_69, tomMatch39NameNumber_freshVar_66, tomMatch39NameNumber_freshVar_67, tomMatch39NameNumber_freshVar_68,moduleName);
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.GetSliceArray) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_70= tomMatch39NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_71= tomMatch39NameNumberfreshSubject_1.getSubjectListName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_72= tomMatch39NameNumberfreshSubject_1.getVariableBeginAST() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_73= tomMatch39NameNumberfreshSubject_1.getVariableEndAST() ;if ( (tomMatch39NameNumber_freshVar_70 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_74= tomMatch39NameNumber_freshVar_70.getString() ;if ( true ) {


        buildExpGetSliceArray(deep, tomMatch39NameNumber_freshVar_74, tomMatch39NameNumber_freshVar_71, tomMatch39NameNumber_freshVar_72, tomMatch39NameNumber_freshVar_73, moduleName);
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.TomTermToExpression) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_75= tomMatch39NameNumberfreshSubject_1.getAstTerm() ;if ( true ) {


        generate(deep,tomMatch39NameNumber_freshVar_75, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);if ( (tomMatch39NameNumberfreshSubject_1 instanceof tom.engine.adt.tomexpression.types.expression.TomInstructionToExpression) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch39NameNumber_freshVar_76= tomMatch39NameNumberfreshSubject_1.getInstruction() ;if ( true ) {


        generateInstruction(deep, tomMatch39NameNumber_freshVar_76, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tom_t=tomMatch39NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for expression: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for expression: " + tom_t);
      }}}}}

  }

  public void generateInstruction(int deep, Instruction subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.TargetLanguageToInstruction) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch40NameNumber_freshVar_0= tomMatch40NameNumberfreshSubject_1.getTl() ;if ( true ) {generateTargetLanguage(deep,tomMatch40NameNumber_freshVar_0,moduleName)


;
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.TomTermToInstruction) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_1= tomMatch40NameNumberfreshSubject_1.getTom() ;if ( true ) {generate(deep,tomMatch40NameNumber_freshVar_1,moduleName)


;
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.ExpressionToInstruction) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_2= tomMatch40NameNumberfreshSubject_1.getExpr() ;if ( true ) {generateExpression(deep,tomMatch40NameNumber_freshVar_2,moduleName)


;
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.Nop) ) {if ( true ) {


        return;
      }}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.Assign) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_3= tomMatch40NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_4= tomMatch40NameNumberfreshSubject_1.getSource() ;{ boolean tomMatch40NameNumber_freshVar_5= false ;if ( (tomMatch40NameNumber_freshVar_3 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariable) ) {tomMatch40NameNumber_freshVar_5= true ;} else {if ( (tomMatch40NameNumber_freshVar_3 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariableStar) ) {tomMatch40NameNumber_freshVar_5= true ;}}if ((tomMatch40NameNumber_freshVar_5 ==  true )) {if ( true ) {


        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.Assign) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_6= tomMatch40NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_7= tomMatch40NameNumberfreshSubject_1.getSource() ;{ boolean tomMatch40NameNumber_freshVar_9= false ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch40NameNumber_freshVar_8= null ;if ( (tomMatch40NameNumber_freshVar_6 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{tomMatch40NameNumber_freshVar_9= true ;tomMatch40NameNumber_freshVar_8= tomMatch40NameNumber_freshVar_6.getOption() ;}} else {if ( (tomMatch40NameNumber_freshVar_6 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{tomMatch40NameNumber_freshVar_9= true ;tomMatch40NameNumber_freshVar_8= tomMatch40NameNumber_freshVar_6.getOption() ;}}}if ((tomMatch40NameNumber_freshVar_9 ==  true )) {if ( true ) {buildAssignVar(deep,tomMatch40NameNumber_freshVar_6,tomMatch40NameNumber_freshVar_8,tomMatch40NameNumber_freshVar_7,moduleName)


;
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.LetAssign) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_10= tomMatch40NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_11= tomMatch40NameNumberfreshSubject_1.getSource() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_12= tomMatch40NameNumberfreshSubject_1.getAstInstruction() ;{ boolean tomMatch40NameNumber_freshVar_14= false ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch40NameNumber_freshVar_13= null ;if ( (tomMatch40NameNumber_freshVar_10 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{tomMatch40NameNumber_freshVar_14= true ;tomMatch40NameNumber_freshVar_13= tomMatch40NameNumber_freshVar_10.getOption() ;}} else {if ( (tomMatch40NameNumber_freshVar_10 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{tomMatch40NameNumber_freshVar_14= true ;tomMatch40NameNumber_freshVar_13= tomMatch40NameNumber_freshVar_10.getOption() ;}}}if ((tomMatch40NameNumber_freshVar_14 ==  true )) {if ( true ) {buildLetAssign(deep,tomMatch40NameNumber_freshVar_10,tomMatch40NameNumber_freshVar_13,tomMatch40NameNumber_freshVar_11,tomMatch40NameNumber_freshVar_12,moduleName)


;
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{ boolean tomMatch40NameNumber_freshVar_19= false ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_17= null ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_16= null ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_15= null ;if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.Let) ) {{tomMatch40NameNumber_freshVar_19= true ;tomMatch40NameNumber_freshVar_15= tomMatch40NameNumberfreshSubject_1.getVariable() ;tomMatch40NameNumber_freshVar_16= tomMatch40NameNumberfreshSubject_1.getSource() ;tomMatch40NameNumber_freshVar_17= tomMatch40NameNumberfreshSubject_1.getAstInstruction() ;}} else {if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.LetRef) ) {{tomMatch40NameNumber_freshVar_19= true ;tomMatch40NameNumber_freshVar_15= tomMatch40NameNumberfreshSubject_1.getVariable() ;tomMatch40NameNumber_freshVar_16= tomMatch40NameNumberfreshSubject_1.getSource() ;tomMatch40NameNumber_freshVar_17= tomMatch40NameNumberfreshSubject_1.getAstInstruction() ;}} else {if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.LetAssign) ) {{tomMatch40NameNumber_freshVar_19= true ;tomMatch40NameNumber_freshVar_15= tomMatch40NameNumberfreshSubject_1.getVariable() ;tomMatch40NameNumber_freshVar_16= tomMatch40NameNumberfreshSubject_1.getSource() ;tomMatch40NameNumber_freshVar_17= tomMatch40NameNumberfreshSubject_1.getAstInstruction() ;}}}}if ((tomMatch40NameNumber_freshVar_19 ==  true )) {{ boolean tomMatch40NameNumber_freshVar_18= false ;if ( (tomMatch40NameNumber_freshVar_15 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariable) ) {tomMatch40NameNumber_freshVar_18= true ;} else {if ( (tomMatch40NameNumber_freshVar_15 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariableStar) ) {tomMatch40NameNumber_freshVar_18= true ;}}if ((tomMatch40NameNumber_freshVar_18 ==  true )) {if ( true ) {generateInstruction(deep,tomMatch40NameNumber_freshVar_17,moduleName)


;
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.Let) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_20= tomMatch40NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_21= tomMatch40NameNumberfreshSubject_1.getSource() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_22= tomMatch40NameNumberfreshSubject_1.getAstInstruction() ;{ boolean tomMatch40NameNumber_freshVar_27= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_24= null ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch40NameNumber_freshVar_23= null ;if ( (tomMatch40NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{tomMatch40NameNumber_freshVar_27= true ;tomMatch40NameNumber_freshVar_23= tomMatch40NameNumber_freshVar_20.getOption() ;tomMatch40NameNumber_freshVar_24= tomMatch40NameNumber_freshVar_20.getAstType() ;}} else {if ( (tomMatch40NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{tomMatch40NameNumber_freshVar_27= true ;tomMatch40NameNumber_freshVar_23= tomMatch40NameNumber_freshVar_20.getOption() ;tomMatch40NameNumber_freshVar_24= tomMatch40NameNumber_freshVar_20.getAstType() ;}}}if ((tomMatch40NameNumber_freshVar_27 ==  true )) {{ boolean tomMatch40NameNumber_freshVar_26= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_25= null ;if ( (tomMatch40NameNumber_freshVar_24 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{tomMatch40NameNumber_freshVar_26= true ;tomMatch40NameNumber_freshVar_25= tomMatch40NameNumber_freshVar_24.getTlType() ;}} else {if ( (tomMatch40NameNumber_freshVar_24 instanceof tom.engine.adt.tomtype.types.tomtype.TypeWithSymbol) ) {{tomMatch40NameNumber_freshVar_26= true ;tomMatch40NameNumber_freshVar_25= tomMatch40NameNumber_freshVar_24.getTlType() ;}}}if ((tomMatch40NameNumber_freshVar_26 ==  true )) {if ( true ) {buildLet(deep,tomMatch40NameNumber_freshVar_20,tomMatch40NameNumber_freshVar_23,tomMatch40NameNumber_freshVar_25,tomMatch40NameNumber_freshVar_21,tomMatch40NameNumber_freshVar_22,moduleName)


;
        return;
      }}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.LetRef) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_28= tomMatch40NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_29= tomMatch40NameNumberfreshSubject_1.getSource() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_30= tomMatch40NameNumberfreshSubject_1.getAstInstruction() ;{ boolean tomMatch40NameNumber_freshVar_35= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_32= null ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch40NameNumber_freshVar_31= null ;if ( (tomMatch40NameNumber_freshVar_28 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{tomMatch40NameNumber_freshVar_35= true ;tomMatch40NameNumber_freshVar_31= tomMatch40NameNumber_freshVar_28.getOption() ;tomMatch40NameNumber_freshVar_32= tomMatch40NameNumber_freshVar_28.getAstType() ;}} else {if ( (tomMatch40NameNumber_freshVar_28 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{tomMatch40NameNumber_freshVar_35= true ;tomMatch40NameNumber_freshVar_31= tomMatch40NameNumber_freshVar_28.getOption() ;tomMatch40NameNumber_freshVar_32= tomMatch40NameNumber_freshVar_28.getAstType() ;}}}if ((tomMatch40NameNumber_freshVar_35 ==  true )) {{ boolean tomMatch40NameNumber_freshVar_34= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_33= null ;if ( (tomMatch40NameNumber_freshVar_32 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{tomMatch40NameNumber_freshVar_34= true ;tomMatch40NameNumber_freshVar_33= tomMatch40NameNumber_freshVar_32.getTlType() ;}} else {if ( (tomMatch40NameNumber_freshVar_32 instanceof tom.engine.adt.tomtype.types.tomtype.TypeWithSymbol) ) {{tomMatch40NameNumber_freshVar_34= true ;tomMatch40NameNumber_freshVar_33= tomMatch40NameNumber_freshVar_32.getTlType() ;}}}if ((tomMatch40NameNumber_freshVar_34 ==  true )) {if ( true ) {buildLetRef(deep,tomMatch40NameNumber_freshVar_28,tomMatch40NameNumber_freshVar_31,tomMatch40NameNumber_freshVar_33,tomMatch40NameNumber_freshVar_29,tomMatch40NameNumber_freshVar_30,moduleName)


;
        return;
      }}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.AbstractBlock) ) {{  tom.engine.adt.tominstruction.types.InstructionList  tomMatch40NameNumber_freshVar_36= tomMatch40NameNumberfreshSubject_1.getInstList() ;if ( true ) {


        //`generateInstructionList(deep, instList);
        buildInstructionSequence(deep,tomMatch40NameNumber_freshVar_36,moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.UnamedBlock) ) {{  tom.engine.adt.tominstruction.types.InstructionList  tomMatch40NameNumber_freshVar_37= tomMatch40NameNumberfreshSubject_1.getInstList() ;if ( true ) {buildUnamedBlock(deep,tomMatch40NameNumber_freshVar_37,moduleName)


;
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.NamedBlock) ) {{  String  tomMatch40NameNumber_freshVar_38= tomMatch40NameNumberfreshSubject_1.getBlockName() ;{  tom.engine.adt.tominstruction.types.InstructionList  tomMatch40NameNumber_freshVar_39= tomMatch40NameNumberfreshSubject_1.getInstList() ;if ( true ) {buildNamedBlock(deep,tomMatch40NameNumber_freshVar_38,tomMatch40NameNumber_freshVar_39,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.If) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_40= tomMatch40NameNumberfreshSubject_1.getCondition() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_41= tomMatch40NameNumberfreshSubject_1.getSuccesInst() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_42= tomMatch40NameNumberfreshSubject_1.getFailureInst() ;if ( (tomMatch40NameNumber_freshVar_42 instanceof tom.engine.adt.tominstruction.types.instruction.Nop) ) {if ( true ) {buildIf(deep,tomMatch40NameNumber_freshVar_40,tomMatch40NameNumber_freshVar_41,moduleName)


;
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.If) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_43= tomMatch40NameNumberfreshSubject_1.getCondition() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_44= tomMatch40NameNumberfreshSubject_1.getSuccesInst() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_45= tomMatch40NameNumberfreshSubject_1.getFailureInst() ;if ( (tomMatch40NameNumber_freshVar_44 instanceof tom.engine.adt.tominstruction.types.instruction.Nop) ) {if ( true ) {buildIf(deep, tom.engine.adt.tomexpression.types.expression.Negation.make(tomMatch40NameNumber_freshVar_43) ,tomMatch40NameNumber_freshVar_45,moduleName)


;
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.If) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_46= tomMatch40NameNumberfreshSubject_1.getCondition() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_47= tomMatch40NameNumberfreshSubject_1.getSuccesInst() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_48= tomMatch40NameNumberfreshSubject_1.getFailureInst() ;if ( true ) {buildIfWithFailure(deep,tomMatch40NameNumber_freshVar_46,tomMatch40NameNumber_freshVar_47,tomMatch40NameNumber_freshVar_48,moduleName)


;
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.DoWhile) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_49= tomMatch40NameNumberfreshSubject_1.getDoInst() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_50= tomMatch40NameNumberfreshSubject_1.getCondition() ;if ( true ) {buildDoWhile(deep,tomMatch40NameNumber_freshVar_49,tomMatch40NameNumber_freshVar_50,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.WhileDo) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_51= tomMatch40NameNumberfreshSubject_1.getCondition() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_52= tomMatch40NameNumberfreshSubject_1.getDoInst() ;if ( true ) {buildWhileDo(deep,tomMatch40NameNumber_freshVar_51,tomMatch40NameNumber_freshVar_52,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.TypedAction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_53= tomMatch40NameNumberfreshSubject_1.getAstInstruction() ;if ( (tomMatch40NameNumber_freshVar_53 instanceof tom.engine.adt.tominstruction.types.instruction.AbstractBlock) ) {{  tom.engine.adt.tominstruction.types.InstructionList  tomMatch40NameNumber_freshVar_54= tomMatch40NameNumber_freshVar_53.getInstList() ;if ( true ) {generateInstructionList(deep,tomMatch40NameNumber_freshVar_54,moduleName)


;
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.TypedAction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_55= tomMatch40NameNumberfreshSubject_1.getAstInstruction() ;if ( true ) {generateInstruction(deep,tomMatch40NameNumber_freshVar_55,moduleName)


;
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.Return) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_56= tomMatch40NameNumberfreshSubject_1.getKid1() ;if ( true ) {buildReturn(deep,tomMatch40NameNumber_freshVar_56,moduleName)


;
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.CompiledMatch) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_57= tomMatch40NameNumberfreshSubject_1.getAutomataInst() ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch40NameNumber_freshVar_58= tomMatch40NameNumberfreshSubject_1.getOption() ;if ( true ) {


        //TODO moduleName
        generateInstruction(deep,tomMatch40NameNumber_freshVar_57,moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);if ( (tomMatch40NameNumberfreshSubject_1 instanceof tom.engine.adt.tominstruction.types.instruction.CompiledPattern) ) {{  tom.engine.adt.tomconstraint.types.Constraint  tomMatch40NameNumber_freshVar_59= tomMatch40NameNumberfreshSubject_1.getContraint() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_60= tomMatch40NameNumberfreshSubject_1.getAutomataInst() ;if ( true ) {generateInstruction(deep,tomMatch40NameNumber_freshVar_60,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tom_t=tomMatch40NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for instruction: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for instruction: " + tom_t);
      }}}}}

  }

  public void generateTargetLanguage(int deep, TargetLanguage subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomsignature.types.TargetLanguage) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tomsignature.types.TargetLanguage )subject);if ( (tomMatch41NameNumberfreshSubject_1 instanceof tom.engine.adt.tomsignature.types.targetlanguage.TL) ) {{  String  tomMatch41NameNumber_freshVar_0= tomMatch41NameNumberfreshSubject_1.getCode() ;{  tom.engine.adt.tomsignature.types.Position  tomMatch41NameNumber_freshVar_1= tomMatch41NameNumberfreshSubject_1.getStart() ;{  tom.engine.adt.tomsignature.types.Position  tomMatch41NameNumber_freshVar_2= tomMatch41NameNumberfreshSubject_1.getEnd() ;if ( (tomMatch41NameNumber_freshVar_1 instanceof tom.engine.adt.tomsignature.types.position.TextPosition) ) {{  int  tomMatch41NameNumber_freshVar_3= tomMatch41NameNumber_freshVar_1.getLine() ;{  int  tom_startLine=tomMatch41NameNumber_freshVar_3;if ( (tomMatch41NameNumber_freshVar_2 instanceof tom.engine.adt.tomsignature.types.position.TextPosition) ) {{  int  tomMatch41NameNumber_freshVar_4= tomMatch41NameNumber_freshVar_2.getLine() ;if ( true ) {

        output.write(deep, tomMatch41NameNumber_freshVar_0, tom_startLine, tomMatch41NameNumber_freshVar_4- tom_startLine);
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomsignature.types.TargetLanguage) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tomsignature.types.TargetLanguage )subject);if ( (tomMatch41NameNumberfreshSubject_1 instanceof tom.engine.adt.tomsignature.types.targetlanguage.ITL) ) {{  String  tomMatch41NameNumber_freshVar_5= tomMatch41NameNumberfreshSubject_1.getCode() ;if ( true ) {


        output.write(tomMatch41NameNumber_freshVar_5);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomsignature.types.TargetLanguage) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tomsignature.types.TargetLanguage )subject);if ( (tomMatch41NameNumberfreshSubject_1 instanceof tom.engine.adt.tomsignature.types.targetlanguage.Comment) ) {{  String  tomMatch41NameNumber_freshVar_6= tomMatch41NameNumberfreshSubject_1.getCode() ;if ( true ) {buildComment(deep,tomMatch41NameNumber_freshVar_6)


;
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomsignature.types.TargetLanguage) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tomsignature.types.TargetLanguage )subject);{  tom.engine.adt.tomsignature.types.TargetLanguage  tom_t=tomMatch41NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for TL: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for TL: " + tom_t);
      }}}}}

  }

  public void generateOption(int deep, Option subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomoption.types.Option) ) {{  tom.engine.adt.tomoption.types.Option  tomMatch42NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.Option )subject);if ( (tomMatch42NameNumberfreshSubject_1 instanceof tom.engine.adt.tomoption.types.option.DeclarationToOption) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch42NameNumber_freshVar_0= tomMatch42NameNumberfreshSubject_1.getAstDeclaration() ;if ( true ) {generateDeclaration(deep,tomMatch42NameNumber_freshVar_0,moduleName)

;
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomoption.types.Option) ) {{  tom.engine.adt.tomoption.types.Option  tomMatch42NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.Option )subject);if ( (tomMatch42NameNumberfreshSubject_1 instanceof tom.engine.adt.tomoption.types.option.OriginTracking) ) {if ( true ) {
 return; }}}}if ( (subject instanceof tom.engine.adt.tomoption.types.Option) ) {{  tom.engine.adt.tomoption.types.Option  tomMatch42NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.Option )subject);if ( (tomMatch42NameNumberfreshSubject_1 instanceof tom.engine.adt.tomoption.types.option.DefinedSymbol) ) {if ( true ) {
 return; }}}}if ( (subject instanceof tom.engine.adt.tomoption.types.Option) ) {{  tom.engine.adt.tomoption.types.Option  tomMatch42NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.Option )subject);{  tom.engine.adt.tomoption.types.Option  tom_t=tomMatch42NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for option: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for option: " + tom_t);
      }}}}}

  }

  public void generateDeclaration(int deep, Declaration subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.EmptyDeclaration) ) {if ( true ) {

        return;
      }}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.AbstractDecl) ) {{  tom.engine.adt.tomdeclaration.types.DeclarationList  tomMatch43NameNumber_freshVar_0= tomMatch43NameNumberfreshSubject_1.getDeclList() ;if ( true ) {


        //`generateInstructionList(deep, instList);
        generateDeclarationList(deep,tomMatch43NameNumber_freshVar_0,moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.FunctionDef) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_1= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch43NameNumber_freshVar_2= tomMatch43NameNumberfreshSubject_1.getArgumentList() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_3= tomMatch43NameNumberfreshSubject_1.getCodomain() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_4= tomMatch43NameNumberfreshSubject_1.getThrowsType() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch43NameNumber_freshVar_5= tomMatch43NameNumberfreshSubject_1.getInstruction() ;if ( (tomMatch43NameNumber_freshVar_1 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_6= tomMatch43NameNumber_freshVar_1.getString() ;if ( true ) {buildFunctionDef(deep,tomMatch43NameNumber_freshVar_6,tomMatch43NameNumber_freshVar_2,tomMatch43NameNumber_freshVar_3,tomMatch43NameNumber_freshVar_4,tomMatch43NameNumber_freshVar_5,moduleName)


;
        return;
      }}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.MethodDef) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_7= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch43NameNumber_freshVar_8= tomMatch43NameNumberfreshSubject_1.getArgumentList() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_9= tomMatch43NameNumberfreshSubject_1.getCodomain() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_10= tomMatch43NameNumberfreshSubject_1.getThrowsType() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch43NameNumber_freshVar_11= tomMatch43NameNumberfreshSubject_1.getInstruction() ;if ( (tomMatch43NameNumber_freshVar_7 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_12= tomMatch43NameNumber_freshVar_7.getString() ;if ( true ) {buildMethodDef(deep,tomMatch43NameNumber_freshVar_12,tomMatch43NameNumber_freshVar_8,tomMatch43NameNumber_freshVar_9,tomMatch43NameNumber_freshVar_10,tomMatch43NameNumber_freshVar_11,moduleName)


;
        return;
      }}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.Class) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_13= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomtype.types.TomForwardType  tomMatch43NameNumber_freshVar_14= tomMatch43NameNumberfreshSubject_1.getExtendsType() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_15= tomMatch43NameNumberfreshSubject_1.getSuperTerm() ;{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumber_freshVar_16= tomMatch43NameNumberfreshSubject_1.getDeclaration() ;if ( (tomMatch43NameNumber_freshVar_13 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_17= tomMatch43NameNumber_freshVar_13.getString() ;if ( true ) {buildClass(deep,tomMatch43NameNumber_freshVar_17,tomMatch43NameNumber_freshVar_14,tomMatch43NameNumber_freshVar_15,tomMatch43NameNumber_freshVar_16,moduleName)


;
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.IntrospectorClass) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_18= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumber_freshVar_19= tomMatch43NameNumberfreshSubject_1.getDeclaration() ;if ( (tomMatch43NameNumber_freshVar_18 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_20= tomMatch43NameNumber_freshVar_18.getString() ;if ( true ) {buildIntrospectorClass(deep,tomMatch43NameNumber_freshVar_20,tomMatch43NameNumber_freshVar_19,moduleName)



;
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.SymbolDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_21= tomMatch43NameNumberfreshSubject_1.getAstName() ;if ( (tomMatch43NameNumber_freshVar_21 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_22= tomMatch43NameNumber_freshVar_21.getString() ;if ( true ) {buildSymbolDecl(deep,tomMatch43NameNumber_freshVar_22,moduleName)


;
        return ;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.ArraySymbolDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_23= tomMatch43NameNumberfreshSubject_1.getAstName() ;if ( (tomMatch43NameNumber_freshVar_23 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_24= tomMatch43NameNumber_freshVar_23.getString() ;{  String  tom_tomName=tomMatch43NameNumber_freshVar_24;if ( true ) {


        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_tomName) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_tomName)) {
          buildSymbolDecl(deep,tom_tomName,moduleName);
          genDeclArray(tom_tomName,moduleName);
        }
        return ;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.ListSymbolDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_25= tomMatch43NameNumberfreshSubject_1.getAstName() ;if ( (tomMatch43NameNumber_freshVar_25 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_26= tomMatch43NameNumber_freshVar_25.getString() ;{  String  tom_tomName=tomMatch43NameNumber_freshVar_26;if ( true ) {


        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_tomName) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_tomName)) {
          buildSymbolDecl(deep,tom_tomName,moduleName);
          genDeclList(tom_tomName,moduleName);
        }
        return ;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetImplementationDecl) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_27= tomMatch43NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch43NameNumber_freshVar_28= tomMatch43NameNumberfreshSubject_1.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_29= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_27 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_30= tomMatch43NameNumber_freshVar_27.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_31= tomMatch43NameNumber_freshVar_27.getAstType() ;if ( (tomMatch43NameNumber_freshVar_30 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_32= tomMatch43NameNumber_freshVar_30.getString() ;{  String  tom_name=tomMatch43NameNumber_freshVar_32;if ( (tomMatch43NameNumber_freshVar_31 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_33= tomMatch43NameNumber_freshVar_31.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_34= tomMatch43NameNumber_freshVar_31.getTlType() ;if ( (tomMatch43NameNumber_freshVar_33 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_35= tomMatch43NameNumber_freshVar_33.getString() ;if ( (tomMatch43NameNumber_freshVar_34 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {




        if(getSymbolTable(moduleName).isUsedSymbolDestructor(tom_name)) {
          buildGetImplementationDecl(deep,tomMatch43NameNumber_freshVar_35,tom_name,tomMatch43NameNumber_freshVar_34,tomMatch43NameNumber_freshVar_28,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.IsFsymDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_36= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_37= tomMatch43NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_38= tomMatch43NameNumberfreshSubject_1.getExpr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_39= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_36 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_40= tomMatch43NameNumber_freshVar_36.getString() ;{  String  tom_tomName=tomMatch43NameNumber_freshVar_40;if ( (tomMatch43NameNumber_freshVar_37 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_41= tomMatch43NameNumber_freshVar_37.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_42= tomMatch43NameNumber_freshVar_37.getAstType() ;if ( (tomMatch43NameNumber_freshVar_41 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_43= tomMatch43NameNumber_freshVar_41.getString() ;if ( (tomMatch43NameNumber_freshVar_42 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_44= tomMatch43NameNumber_freshVar_42.getTlType() ;if ( (tomMatch43NameNumber_freshVar_44 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {



        if(getSymbolTable(moduleName).isUsedSymbolDestructor(tom_tomName)) {
          buildIsFsymDecl(deep,tom_tomName,tomMatch43NameNumber_freshVar_43,tomMatch43NameNumber_freshVar_44,tomMatch43NameNumber_freshVar_38,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetSlotDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_45= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_46= tomMatch43NameNumberfreshSubject_1.getSlotName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_47= tomMatch43NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_48= tomMatch43NameNumberfreshSubject_1.getExpr() ;if ( (tomMatch43NameNumber_freshVar_45 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_49= tomMatch43NameNumber_freshVar_45.getString() ;{  String  tom_tomName=tomMatch43NameNumber_freshVar_49;if ( (tomMatch43NameNumber_freshVar_47 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_50= tomMatch43NameNumber_freshVar_47.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_51= tomMatch43NameNumber_freshVar_47.getAstType() ;if ( (tomMatch43NameNumber_freshVar_50 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_52= tomMatch43NameNumber_freshVar_50.getString() ;if ( (tomMatch43NameNumber_freshVar_51 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_53= tomMatch43NameNumber_freshVar_51.getTlType() ;if ( (tomMatch43NameNumber_freshVar_53 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





        if(getSymbolTable(moduleName).isUsedSymbolDestructor(tom_tomName)) {
          buildGetSlotDecl(deep,tom_tomName,tomMatch43NameNumber_freshVar_52,tomMatch43NameNumber_freshVar_53,tomMatch43NameNumber_freshVar_48,tomMatch43NameNumber_freshVar_46,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.EqualTermDecl) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_54= tomMatch43NameNumberfreshSubject_1.getTermArg1() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_55= tomMatch43NameNumberfreshSubject_1.getTermArg2() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_56= tomMatch43NameNumberfreshSubject_1.getExpr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_57= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_54 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_58= tomMatch43NameNumber_freshVar_54.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_59= tomMatch43NameNumber_freshVar_54.getAstType() ;if ( (tomMatch43NameNumber_freshVar_58 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_60= tomMatch43NameNumber_freshVar_58.getString() ;if ( (tomMatch43NameNumber_freshVar_59 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_61= tomMatch43NameNumber_freshVar_59.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_62= tomMatch43NameNumber_freshVar_59.getTlType() ;if ( (tomMatch43NameNumber_freshVar_61 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_63= tomMatch43NameNumber_freshVar_61.getString() ;{  String  tom_type1=tomMatch43NameNumber_freshVar_63;if ( (tomMatch43NameNumber_freshVar_55 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_64= tomMatch43NameNumber_freshVar_55.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_65= tomMatch43NameNumber_freshVar_55.getAstType() ;if ( (tomMatch43NameNumber_freshVar_64 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_66= tomMatch43NameNumber_freshVar_64.getString() ;if ( (tomMatch43NameNumber_freshVar_65 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_67= tomMatch43NameNumber_freshVar_65.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_68= tomMatch43NameNumber_freshVar_65.getTlType() ;if ( (tomMatch43NameNumber_freshVar_67 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_69= tomMatch43NameNumber_freshVar_67.getString() ;if ( true ) {




        if(getSymbolTable(moduleName).isUsedTypeDefinition(tom_type1)) {
          buildEqualTermDecl(deep,tomMatch43NameNumber_freshVar_60,tomMatch43NameNumber_freshVar_66,tom_type1,tomMatch43NameNumber_freshVar_69,tomMatch43NameNumber_freshVar_56,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.IsSortDecl) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_70= tomMatch43NameNumberfreshSubject_1.getTermArg() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_71= tomMatch43NameNumberfreshSubject_1.getExpr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_72= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_70 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_73= tomMatch43NameNumber_freshVar_70.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_74= tomMatch43NameNumber_freshVar_70.getAstType() ;if ( (tomMatch43NameNumber_freshVar_73 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_75= tomMatch43NameNumber_freshVar_73.getString() ;if ( (tomMatch43NameNumber_freshVar_74 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_76= tomMatch43NameNumber_freshVar_74.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_77= tomMatch43NameNumber_freshVar_74.getTlType() ;if ( (tomMatch43NameNumber_freshVar_76 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_78= tomMatch43NameNumber_freshVar_76.getString() ;{  String  tom_type=tomMatch43NameNumber_freshVar_78;if ( true ) {


        if(getSymbolTable(moduleName).isUsedTypeDefinition(tom_type)) {
          buildIsSortDecl(deep,tomMatch43NameNumber_freshVar_75,tom_type,tomMatch43NameNumber_freshVar_71,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetHeadDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_79= tomMatch43NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_80= tomMatch43NameNumberfreshSubject_1.getCodomain() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_81= tomMatch43NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_82= tomMatch43NameNumberfreshSubject_1.getExpr() ;if ( (tomMatch43NameNumber_freshVar_79 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_83= tomMatch43NameNumber_freshVar_79.getString() ;{  String  tom_opname=tomMatch43NameNumber_freshVar_83;if ( (tomMatch43NameNumber_freshVar_80 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_84= tomMatch43NameNumber_freshVar_80.getTlType() ;if ( (tomMatch43NameNumber_freshVar_81 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_85= tomMatch43NameNumber_freshVar_81.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_86= tomMatch43NameNumber_freshVar_81.getAstType() ;if ( (tomMatch43NameNumber_freshVar_85 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_87= tomMatch43NameNumber_freshVar_85.getString() ;if ( (tomMatch43NameNumber_freshVar_86 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_88= tomMatch43NameNumber_freshVar_86.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_89= tomMatch43NameNumber_freshVar_86.getTlType() ;if ( (tomMatch43NameNumber_freshVar_88 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_90= tomMatch43NameNumber_freshVar_88.getString() ;if ( (tomMatch43NameNumber_freshVar_89 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          buildGetHeadDecl(deep,tomMatch43NameNumber_freshVar_79,tomMatch43NameNumber_freshVar_87,tomMatch43NameNumber_freshVar_90,tomMatch43NameNumber_freshVar_89,tomMatch43NameNumber_freshVar_84,tomMatch43NameNumber_freshVar_82,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetTailDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_91= tomMatch43NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_92= tomMatch43NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_93= tomMatch43NameNumberfreshSubject_1.getExpr() ;if ( (tomMatch43NameNumber_freshVar_91 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_94= tomMatch43NameNumber_freshVar_91.getString() ;{  String  tom_opname=tomMatch43NameNumber_freshVar_94;if ( (tomMatch43NameNumber_freshVar_92 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_95= tomMatch43NameNumber_freshVar_92.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_96= tomMatch43NameNumber_freshVar_92.getAstType() ;if ( (tomMatch43NameNumber_freshVar_95 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_97= tomMatch43NameNumber_freshVar_95.getString() ;if ( (tomMatch43NameNumber_freshVar_96 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_98= tomMatch43NameNumber_freshVar_96.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_99= tomMatch43NameNumber_freshVar_96.getTlType() ;if ( (tomMatch43NameNumber_freshVar_98 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_100= tomMatch43NameNumber_freshVar_98.getString() ;if ( (tomMatch43NameNumber_freshVar_99 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {




        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          buildGetTailDecl(deep,tomMatch43NameNumber_freshVar_91,tomMatch43NameNumber_freshVar_97,tomMatch43NameNumber_freshVar_100,tomMatch43NameNumber_freshVar_99,tomMatch43NameNumber_freshVar_93,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.IsEmptyDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_101= tomMatch43NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_102= tomMatch43NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_103= tomMatch43NameNumberfreshSubject_1.getExpr() ;if ( (tomMatch43NameNumber_freshVar_101 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_104= tomMatch43NameNumber_freshVar_101.getString() ;{  String  tom_opname=tomMatch43NameNumber_freshVar_104;if ( (tomMatch43NameNumber_freshVar_102 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_105= tomMatch43NameNumber_freshVar_102.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_106= tomMatch43NameNumber_freshVar_102.getAstType() ;if ( (tomMatch43NameNumber_freshVar_105 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_107= tomMatch43NameNumber_freshVar_105.getString() ;if ( (tomMatch43NameNumber_freshVar_106 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_108= tomMatch43NameNumber_freshVar_106.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_109= tomMatch43NameNumber_freshVar_106.getTlType() ;if ( (tomMatch43NameNumber_freshVar_108 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_110= tomMatch43NameNumber_freshVar_108.getString() ;if ( (tomMatch43NameNumber_freshVar_109 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {




        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          buildIsEmptyDecl(deep,tomMatch43NameNumber_freshVar_101,tomMatch43NameNumber_freshVar_107,tomMatch43NameNumber_freshVar_110,tomMatch43NameNumber_freshVar_109,tomMatch43NameNumber_freshVar_103,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeEmptyList) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_111= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch43NameNumber_freshVar_112= tomMatch43NameNumberfreshSubject_1.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_113= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_111 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_114= tomMatch43NameNumber_freshVar_111.getString() ;{  String  tom_opname=tomMatch43NameNumber_freshVar_114;if ( true ) {


        TomType returnType = TomBase.getSymbolCodomain(getSymbolFromName(tom_opname));
        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
        || getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          genDeclMake("tom_empty_list_",tom_opname,returnType, tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ,tomMatch43NameNumber_freshVar_112,moduleName);
        }
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeAddList) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_115= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_116= tomMatch43NameNumberfreshSubject_1.getVarElt() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_117= tomMatch43NameNumberfreshSubject_1.getVarList() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch43NameNumber_freshVar_118= tomMatch43NameNumberfreshSubject_1.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_119= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_115 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_120= tomMatch43NameNumber_freshVar_115.getString() ;{  String  tom_opname=tomMatch43NameNumber_freshVar_120;if ( (tomMatch43NameNumber_freshVar_116 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_121= tomMatch43NameNumber_freshVar_116.getAstType() ;if ( (tomMatch43NameNumber_freshVar_121 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_122= tomMatch43NameNumber_freshVar_121.getTlType() ;if ( (tomMatch43NameNumber_freshVar_122 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( (tomMatch43NameNumber_freshVar_117 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_123= tomMatch43NameNumber_freshVar_117.getAstType() ;if ( (tomMatch43NameNumber_freshVar_123 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_124= tomMatch43NameNumber_freshVar_123.getTlType() ;if ( (tomMatch43NameNumber_freshVar_124 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





        TomType returnType = tomMatch43NameNumber_freshVar_123;
        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          genDeclMake("tom_cons_list_",tom_opname,returnType, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(tomMatch43NameNumber_freshVar_116, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(tomMatch43NameNumber_freshVar_117, tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ) ) ,tomMatch43NameNumber_freshVar_118,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetElementDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_125= tomMatch43NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_126= tomMatch43NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_127= tomMatch43NameNumberfreshSubject_1.getIndex() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_128= tomMatch43NameNumberfreshSubject_1.getExpr() ;if ( (tomMatch43NameNumber_freshVar_125 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_129= tomMatch43NameNumber_freshVar_125.getString() ;if ( (tomMatch43NameNumber_freshVar_126 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_130= tomMatch43NameNumber_freshVar_126.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_131= tomMatch43NameNumber_freshVar_126.getAstType() ;if ( (tomMatch43NameNumber_freshVar_130 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_132= tomMatch43NameNumber_freshVar_130.getString() ;if ( (tomMatch43NameNumber_freshVar_131 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_133= tomMatch43NameNumber_freshVar_131.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_134= tomMatch43NameNumber_freshVar_131.getTlType() ;if ( (tomMatch43NameNumber_freshVar_133 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_135= tomMatch43NameNumber_freshVar_133.getString() ;if ( (tomMatch43NameNumber_freshVar_134 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( (tomMatch43NameNumber_freshVar_127 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_136= tomMatch43NameNumber_freshVar_127.getAstName() ;if ( (tomMatch43NameNumber_freshVar_136 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_137= tomMatch43NameNumber_freshVar_136.getString() ;if ( true ) {





        if(getSymbolTable(moduleName).isUsedSymbolDestructor(tomMatch43NameNumber_freshVar_129)) {
          buildGetElementDecl(deep,tomMatch43NameNumber_freshVar_125,tomMatch43NameNumber_freshVar_132,tomMatch43NameNumber_freshVar_137,tomMatch43NameNumber_freshVar_135,tomMatch43NameNumber_freshVar_134,tomMatch43NameNumber_freshVar_128,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetSizeDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_138= tomMatch43NameNumberfreshSubject_1.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_139= tomMatch43NameNumberfreshSubject_1.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch43NameNumber_freshVar_140= tomMatch43NameNumberfreshSubject_1.getExpr() ;if ( (tomMatch43NameNumber_freshVar_138 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_141= tomMatch43NameNumber_freshVar_138.getString() ;if ( (tomMatch43NameNumber_freshVar_139 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_142= tomMatch43NameNumber_freshVar_139.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_143= tomMatch43NameNumber_freshVar_139.getAstType() ;if ( (tomMatch43NameNumber_freshVar_142 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_144= tomMatch43NameNumber_freshVar_142.getString() ;if ( (tomMatch43NameNumber_freshVar_143 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_145= tomMatch43NameNumber_freshVar_143.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_146= tomMatch43NameNumber_freshVar_143.getTlType() ;if ( (tomMatch43NameNumber_freshVar_145 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch43NameNumber_freshVar_147= tomMatch43NameNumber_freshVar_145.getString() ;if ( (tomMatch43NameNumber_freshVar_146 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





	  if(getSymbolTable(moduleName).isUsedSymbolDestructor(tomMatch43NameNumber_freshVar_141)) {
	    buildGetSizeDecl(deep,tomMatch43NameNumber_freshVar_138,tomMatch43NameNumber_freshVar_144,tomMatch43NameNumber_freshVar_147,tomMatch43NameNumber_freshVar_146,tomMatch43NameNumber_freshVar_140,moduleName);
	  }
	  return;
	}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeEmptyArray) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_148= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_149= tomMatch43NameNumberfreshSubject_1.getVarSize() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch43NameNumber_freshVar_150= tomMatch43NameNumberfreshSubject_1.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_151= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_148 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_152= tomMatch43NameNumber_freshVar_148.getString() ;{  String  tom_opname=tomMatch43NameNumber_freshVar_152;if ( (tomMatch43NameNumber_freshVar_149 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomoption.types.OptionList  tomMatch43NameNumber_freshVar_153= tomMatch43NameNumber_freshVar_149.getOption() ;{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_154= tomMatch43NameNumber_freshVar_149.getAstName() ;{  tom.engine.adt.tomconstraint.types.ConstraintList  tomMatch43NameNumber_freshVar_155= tomMatch43NameNumber_freshVar_149.getConstraints() ;if ( true ) {




        TomType returnType = TomBase.getSymbolCodomain(getSymbolFromName(tom_opname));
        TomTerm newVar =  tom.engine.adt.tomterm.types.tomterm.Variable.make(tomMatch43NameNumber_freshVar_153, tomMatch43NameNumber_freshVar_154, getSymbolTable(moduleName).getIntType(), tomMatch43NameNumber_freshVar_155) ;
        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname)) {
          genDeclMake("tom_empty_array_",tom_opname,returnType, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(newVar, tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ) ,tomMatch43NameNumber_freshVar_150,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeAddArray) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_156= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_157= tomMatch43NameNumberfreshSubject_1.getVarElt() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch43NameNumber_freshVar_158= tomMatch43NameNumberfreshSubject_1.getVarList() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch43NameNumber_freshVar_159= tomMatch43NameNumberfreshSubject_1.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_160= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_156 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_161= tomMatch43NameNumber_freshVar_156.getString() ;{  String  tom_opname=tomMatch43NameNumber_freshVar_161;if ( (tomMatch43NameNumber_freshVar_157 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_162= tomMatch43NameNumber_freshVar_157.getAstType() ;if ( (tomMatch43NameNumber_freshVar_162 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_163= tomMatch43NameNumber_freshVar_162.getTlType() ;if ( (tomMatch43NameNumber_freshVar_163 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( (tomMatch43NameNumber_freshVar_158 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_164= tomMatch43NameNumber_freshVar_158.getAstType() ;if ( (tomMatch43NameNumber_freshVar_164 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_165= tomMatch43NameNumber_freshVar_164.getTlType() ;if ( (tomMatch43NameNumber_freshVar_165 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





        TomType returnType = tomMatch43NameNumber_freshVar_164;
        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname)) {
          genDeclMake("tom_cons_array_",tom_opname,returnType, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(tomMatch43NameNumber_freshVar_157, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(tomMatch43NameNumber_freshVar_158, tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ) ) ,tomMatch43NameNumber_freshVar_159,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch43NameNumber_freshVar_166= tomMatch43NameNumberfreshSubject_1.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch43NameNumber_freshVar_167= tomMatch43NameNumberfreshSubject_1.getAstType() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch43NameNumber_freshVar_168= tomMatch43NameNumberfreshSubject_1.getArgs() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch43NameNumber_freshVar_169= tomMatch43NameNumberfreshSubject_1.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_170= tomMatch43NameNumberfreshSubject_1.getOrgTrack() ;if ( (tomMatch43NameNumber_freshVar_166 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch43NameNumber_freshVar_171= tomMatch43NameNumber_freshVar_166.getString() ;{  String  tom_opname=tomMatch43NameNumber_freshVar_171;if ( true ) {


        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname)) {
          genDeclMake("tom_make_",tom_opname,tomMatch43NameNumber_freshVar_167,tomMatch43NameNumber_freshVar_168,tomMatch43NameNumber_freshVar_169,moduleName);
        }
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);if ( (tomMatch43NameNumberfreshSubject_1 instanceof tom.engine.adt.tomdeclaration.types.declaration.TypeTermDecl) ) {{  tom.engine.adt.tomdeclaration.types.DeclarationList  tomMatch43NameNumber_freshVar_172= tomMatch43NameNumberfreshSubject_1.getDeclarations() ;if ( true ) {


        generateDeclarationList(deep, tomMatch43NameNumber_freshVar_172, moduleName);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tom_t=tomMatch43NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for declaration: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for declaration: " + tom_t);
      }}}}}

  }

  public void generateListInclude(int deep, TomList subject, String moduleName) throws IOException {
    output.setSingleLine();
    generateList(deep, subject, moduleName);
    output.unsetSingleLine();
  }

  public void generateList(int deep, TomList subject, String moduleName)
    throws IOException {
    while(!subject.isEmptyconcTomTerm()) {
      generate(deep, subject.getHeadconcTomTerm(), moduleName);
      subject = subject.getTailconcTomTerm();
    }
  }

  public void generateOptionList(int deep, OptionList subject, String moduleName)
    throws IOException {
    while(!subject.isEmptyconcOption()) {
      generateOption(deep,subject.getHeadconcOption(), moduleName);
      subject = subject.getTailconcOption();
    }
  }

  public void generateInstructionList(int deep, InstructionList subject, String moduleName)
    throws IOException {
    while(!subject.isEmptyconcInstruction()) {
      generateInstruction(deep,subject.getHeadconcInstruction(), moduleName);
      subject = subject.getTailconcInstruction();
    }
    if(prettyMode) {
      output.writeln();
    }
  }

  public void generateDeclarationList(int deep, DeclarationList subject, String moduleName)
    throws IOException {
    while(!subject.isEmptyconcDeclaration()) {
      generateDeclaration(deep,subject.getHeadconcDeclaration(), moduleName);
      subject = subject.getTailconcDeclaration();
    }
  }

  public void generatePairNameDeclList(int deep, PairNameDeclList pairNameDeclList, String moduleName)
    throws IOException {
    while ( !pairNameDeclList.isEmptyconcPairNameDecl() ) {
      generateDeclaration(deep, pairNameDeclList.getHeadconcPairNameDecl().getSlotDecl(), moduleName);
      pairNameDeclList = pairNameDeclList.getTailconcPairNameDecl();
    }
  }

    // ------------------------------------------------------------

  protected abstract void genDecl(String returnType,
                                  String declName,
                                  String suffix,
                                  String args[],
                                  TargetLanguage tlCode,
                                  String moduleName) throws IOException;

  protected abstract void genDeclInstr(String returnType,
                                       String declName,
                                       String suffix,
                                       String args[],
                                       Instruction instr,
                                       int deep,
                                       String moduleName) throws IOException;

  protected abstract void genDeclMake(String prefix, String funName, TomType returnType,
                                      TomList argList, Instruction instr, String moduleName) throws IOException;

  protected abstract void genDeclList(String name, String moduleName) throws IOException;

  protected abstract void genDeclArray(String name, String moduleName) throws IOException;

  // ------------------------------------------------------------

  protected abstract void buildInstructionSequence(int deep, InstructionList instructionList, String moduleName) throws IOException;
  protected abstract void buildComment(int deep, String text) throws IOException;
  protected abstract void buildTerm(int deep, String name, TomList argList, String moduleName) throws IOException;
  protected abstract void buildRef(int deep, TomTerm term, String moduleName) throws IOException;
  protected abstract void buildListOrArray(int deep, TomTerm list, String moduleName) throws IOException;

  protected abstract void buildFunctionCall(int deep, String name, TomList argList, String moduleName)  throws IOException;
  protected abstract void buildFunctionDef(int deep, String tomName, TomList argList, TomType codomain, TomType throwsType, Instruction instruction, String moduleName) throws IOException;
  protected void buildMethodDef(int deep, String tomName, TomList argList, TomType codomain, TomType throwsType, Instruction instruction, String moduleName) throws IOException {
    throw new TomRuntimeException("Backend "+getClass()+" does not support Methods");
  }

  /*buildClass is not abstract since only Java backend supports class
    only backends that supports Class should overload buildClass
   */
  protected void buildClass(int deep, String tomName, TomForwardType extendsFwdType, TomTerm superTerm, Declaration declaration, String moduleName) throws IOException {
    throw new TomRuntimeException("Backend does not support Class");
  }

  /*buildIntrospectorClass is not abstract since only Java backend supports class
    only backends that supports Class should overload buildIntrospectorClass
   */
  protected void buildIntrospectorClass(int deep, String tomName, Declaration declaration, String moduleName) throws IOException {
    throw new TomRuntimeException("Backend does not support Class");
  }

  protected abstract void buildExpNegation(int deep, Expression exp, String moduleName) throws IOException;

  protected abstract void buildExpConditional(int deep, Expression cond,Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpAnd(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpOr(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpGreaterThan(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpGreaterOrEqualThan(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpLessThan(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpLessOrEqualThan(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpBottom(int deep, TomType type, String moduleName) throws IOException;
  protected abstract void buildExpTrue(int deep) throws IOException;
  protected abstract void buildExpFalse(int deep) throws IOException;
  protected abstract void buildExpIsEmptyList(int deep, String opName, TomType type, TomTerm expList, String moduleName) throws IOException;
  protected abstract void buildExpIsEmptyArray(int deep, TomName opName, TomType type, TomTerm expIndex, TomTerm expArray, String moduleName) throws IOException;
  protected abstract void buildExpEqualTerm(int deep, TomType type, TomTerm exp1,TomTerm exp2, String moduleName) throws IOException;
  protected abstract void buildExpIsSort(int deep, String type, TomTerm exp, String moduleName) throws IOException;
  protected abstract void buildExpIsFsym(int deep, String opname, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildExpCast(int deep, TomType type, Expression exp, String moduleName) throws IOException;
  protected abstract void buildExpGetSlot(int deep, String opname, String slotName, TomTerm exp, String moduleName) throws IOException;
  protected abstract void buildExpGetHead(int deep, String opName, TomType domain, TomType codomain, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildExpGetTail(int deep, String opName, TomType type1, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildExpGetSize(int deep, TomName opNameAST, TomType type1, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildExpGetElement(int deep, TomName opNameAST, TomType domain, TomType codomain, TomTerm varName, TomTerm varIndex, String moduleName) throws IOException;
  protected abstract void buildExpGetSliceList(int deep, String name, TomTerm varBegin, TomTerm varEnd, TomTerm tailSlice, String moduleName) throws IOException;
  protected abstract void buildExpGetSliceArray(int deep, String name, TomTerm varArray, TomTerm varBegin, TomTerm expEnd, String moduleName) throws IOException;
  protected abstract void buildAssignVar(int deep, TomTerm var, OptionList list, Expression exp, String moduleName) throws IOException ;
  protected abstract void buildLetAssign(int deep, TomTerm var, OptionList list, Expression exp, Instruction body, String moduleName) throws IOException ;
  protected abstract void buildLet(int deep, TomTerm var, OptionList list, TomType tlType, Expression exp, Instruction body, String moduleName) throws IOException ;
  protected abstract void buildLetRef(int deep, TomTerm var, OptionList list, TomType tlType, Expression exp, Instruction body, String moduleName) throws IOException ;
  protected abstract void buildNamedBlock(int deep, String blockName, InstructionList instList, String modulename) throws IOException ;
  protected abstract void buildUnamedBlock(int deep, InstructionList instList, String moduleName) throws IOException ;
  protected abstract void buildIf(int deep, Expression exp, Instruction succes, String moduleName) throws IOException ;
  protected abstract void buildIfWithFailure(int deep, Expression exp, Instruction succes, Instruction failure, String moduleName) throws IOException ;
  protected abstract void buildDoWhile(int deep, Instruction succes, Expression exp, String moduleName) throws IOException;
  protected abstract void buildWhileDo(int deep, Expression exp, Instruction succes, String moduleName) throws IOException;
  protected abstract void buildAddOne(int deep, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildReturn(int deep, TomTerm exp, String moduleName) throws IOException ;
  protected abstract void buildSymbolDecl(int deep, String tomName, String moduleName) throws IOException ;
  protected abstract void buildGetImplementationDecl(int deep, String type, String name,
      TomType tlType, Instruction instr, String moduleName) throws IOException;

  protected abstract void buildIsFsymDecl(int deep, String tomName, String name1,
      TomType tlType, Expression code, String moduleName) throws IOException;
  protected abstract void buildGetSlotDecl(int deep, String tomName, String name1,
      TomType tlType, Expression code, TomName slotName, String moduleName) throws IOException;
  protected abstract void buildEqualTermDecl(int deep, String name1, String name2, String type1, String type2, Expression code, String moduleName) throws IOException;
  protected abstract void buildIsSortDecl(int deep, String name1, 
      String type1, Expression expr, String moduleName) throws IOException;
  protected abstract void buildGetHeadDecl(int deep, TomName opNameAST, String varName, String suffix, TomType domain, TomType codomain, Expression code, String moduleName) throws IOException;
  protected abstract void buildGetTailDecl(int deep, TomName opNameAST, String varName, String type, TomType tlType, Expression code, String moduleName) throws IOException;
  protected abstract void buildIsEmptyDecl(int deep, TomName opNameAST, String varName, String type,
      TomType tlType, Expression code, String moduleName) throws IOException;
  protected abstract void buildGetElementDecl(int deep, TomName opNameAST, String name1, String name2, String type1, TomType tlType1, Expression code, String moduleName) throws IOException;
  protected abstract void buildGetSizeDecl(int deep, TomName opNameAST, String name1, String type, TomType tlType, Expression code, String moduleName) throws IOException;

} // class TomAbstractGenerator

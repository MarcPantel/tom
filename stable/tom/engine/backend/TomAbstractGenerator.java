/* Generated by TOM (version 2.6alpha): Do not edit this file *//*
 *
 * TOM - To One Matching Compiler
 * 
 * Copyright (c) 2000-2008, INRIA
 * Nancy, France.
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
 * 
 * Pierre-Etienne Moreau  e-mail: Pierre-Etienne.Moreau@loria.fr
 *
 **/

package tom.engine.backend;

import java.io.IOException;

import tom.engine.TomBase;
import tom.engine.exception.TomRuntimeException;

import tom.engine.adt.tomsignature.*;
import tom.engine.adt.tomconstraint.types.*;
import tom.engine.adt.tomdeclaration.types.*;
import tom.engine.adt.tomexpression.types.*;
import tom.engine.adt.tominstruction.types.*;
import tom.engine.adt.tomname.types.*;
import tom.engine.adt.tomoption.types.*;
import tom.engine.adt.tomsignature.types.*;
import tom.engine.adt.tomterm.types.*;
import tom.engine.adt.tomslot.types.*;
import tom.engine.adt.tomtype.types.*;

import tom.engine.tools.OutputCode;
import tom.engine.tools.SymbolTable;
import tom.platform.OptionManager;

import aterm.*;

public abstract class TomAbstractGenerator {

  protected OutputCode output;
  protected OptionManager optionManager;
  protected SymbolTable symbolTable;
  protected boolean prettyMode;

  public TomAbstractGenerator(OutputCode output, OptionManager optionManager,
                              SymbolTable symbolTable) {
    this.symbolTable = symbolTable;
    this.optionManager = optionManager;
    this.output = output;
    this.prettyMode = ((Boolean)optionManager.getOptionValue("pretty")).booleanValue();
  }

  protected SymbolTable getSymbolTable(String moduleName) {
    //TODO//
    //Using of the moduleName
    ////////
    return symbolTable;
  }

  protected TomSymbol getSymbolFromName(String tomName) {
    return TomBase.getSymbolFromName(tomName, symbolTable);
  }

  protected TomSymbol getSymbolFromType(TomType tomType) {
    return TomBase.getSymbolFromType(tomType, symbolTable);
  }

  protected TomType getTermType(TomTerm t) {
    return TomBase.getTermType(t, symbolTable);
  }

  protected TomType getUniversalType() {
    return symbolTable.getUniversalType();
  }
// ------------------------------------------------------------
  /* Generated by TOM (version 2.6alpha): Do not edit this file *//* Generated by TOM (version 2.6alpha): Do not edit this file *//* Generated by TOM (version 2.6alpha): Do not edit this file */  /* Generated by TOM (version 2.6alpha): Do not edit this file */    private static   tom.engine.adt.tomterm.types.TomList  tom_append_list_concTomTerm( tom.engine.adt.tomterm.types.TomList l1,  tom.engine.adt.tomterm.types.TomList  l2) {     if( l1.isEmptyconcTomTerm() ) {       return l2;     } else if( l2.isEmptyconcTomTerm() ) {       return l1;     } else if(  l1.getTailconcTomTerm() .isEmptyconcTomTerm() ) {       return  tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make( l1.getHeadconcTomTerm() ,l2) ;     } else {       return  tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make( l1.getHeadconcTomTerm() ,tom_append_list_concTomTerm( l1.getTailconcTomTerm() ,l2)) ;     }   }   private static   tom.engine.adt.tomterm.types.TomList  tom_get_slice_concTomTerm( tom.engine.adt.tomterm.types.TomList  begin,  tom.engine.adt.tomterm.types.TomList  end, tom.engine.adt.tomterm.types.TomList  tail) {     if( (begin==end) ) {       return tail;     } else if( (end==tail)  && ( end.isEmptyconcTomTerm()  ||  (end== tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ) )) {       /* code to avoid a call to make, and thus to avoid looping during list-matching */       return begin;     }     return  tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make( begin.getHeadconcTomTerm() ,( tom.engine.adt.tomterm.types.TomList )tom_get_slice_concTomTerm( begin.getTailconcTomTerm() ,end,tail)) ;   }    
// ------------------------------------------------------------

  protected TomTerm operatorsTogenerate(TomTerm subject)throws IOException {
    //System.out.println("Subject "+subject);
    //collectMake(subject);
    return subject;
  }

  /**
   * Generate the goal language
   * 
   * @param deep 
   * 		The distance from the right side (allows the computation of the column number)
   */
  protected void generate(int deep, TomTerm subject, String moduleName)throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_1=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_1 instanceof tom.engine.adt.tomterm.types.tomterm.Tom) ) {{  tom.engine.adt.tomterm.types.TomList  tomMatch39NameNumber_freshVar_0= tomMatch39NameNumber_freshVar_1.getTomList() ;if ( true ) {


        generateList(deep,tomMatch39NameNumber_freshVar_0, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_3=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_3 instanceof tom.engine.adt.tomterm.types.tomterm.TomInclude) ) {{  tom.engine.adt.tomterm.types.TomList  tomMatch39NameNumber_freshVar_2= tomMatch39NameNumber_freshVar_3.getTomList() ;if ( true ) {


        generateListInclude(deep,tomMatch39NameNumber_freshVar_2, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_5=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_5 instanceof tom.engine.adt.tomterm.types.tomterm.Ref) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_4= tomMatch39NameNumber_freshVar_5.getTomTerm() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_6=tomMatch39NameNumber_freshVar_4;{ boolean tomMatch39NameNumber_freshVar_7= false ;if ( (tomMatch39NameNumber_freshVar_6 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {tomMatch39NameNumber_freshVar_7= true ;} else {if ( (tomMatch39NameNumber_freshVar_6 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {tomMatch39NameNumber_freshVar_7= true ;}}if ((tomMatch39NameNumber_freshVar_7 ==  true )) {if ( true ) {


        buildRef(deep, tomMatch39NameNumber_freshVar_4, moduleName);
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_9=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_9 instanceof tom.engine.adt.tomterm.types.tomterm.Ref) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_8= tomMatch39NameNumber_freshVar_9.getTomTerm() ;if ( true ) {


        generate(deep, tomMatch39NameNumber_freshVar_8, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_11=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_11 instanceof tom.engine.adt.tomterm.types.tomterm.BuildConstant) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_10= tomMatch39NameNumber_freshVar_11.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_13=tomMatch39NameNumber_freshVar_10;if ( (tomMatch39NameNumber_freshVar_13 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_12= tomMatch39NameNumber_freshVar_13.getString() ;if ( true ) {


        output.write(tomMatch39NameNumber_freshVar_12);
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_17=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_17 instanceof tom.engine.adt.tomterm.types.tomterm.BuildTerm) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_14= tomMatch39NameNumber_freshVar_17.getAstName() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch39NameNumber_freshVar_15= tomMatch39NameNumber_freshVar_17.getArgs() ;{  String  tomMatch39NameNumber_freshVar_16= tomMatch39NameNumber_freshVar_17.getModuleName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_19=tomMatch39NameNumber_freshVar_14;if ( (tomMatch39NameNumber_freshVar_19 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_18= tomMatch39NameNumber_freshVar_19.getString() ;if ( true ) {buildTerm(deep,tomMatch39NameNumber_freshVar_18,tomMatch39NameNumber_freshVar_15,tomMatch39NameNumber_freshVar_16)


;
        return;
      }}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_20=tomMatch39NameNumberfreshSubject_1;{ boolean tomMatch39NameNumber_freshVar_21= false ;if ( (tomMatch39NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.tomterm.BuildEmptyList) ) {tomMatch39NameNumber_freshVar_21= true ;} else {if ( (tomMatch39NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.tomterm.BuildEmptyArray) ) {tomMatch39NameNumber_freshVar_21= true ;} else {if ( (tomMatch39NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.tomterm.BuildConsList) ) {tomMatch39NameNumber_freshVar_21= true ;} else {if ( (tomMatch39NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.tomterm.BuildAppendList) ) {tomMatch39NameNumber_freshVar_21= true ;} else {if ( (tomMatch39NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.tomterm.BuildConsArray) ) {tomMatch39NameNumber_freshVar_21= true ;} else {if ( (tomMatch39NameNumber_freshVar_20 instanceof tom.engine.adt.tomterm.types.tomterm.BuildAppendArray) ) {tomMatch39NameNumber_freshVar_21= true ;}}}}}}if ((tomMatch39NameNumber_freshVar_21 ==  true )) {if ( true ) {


        buildListOrArray(deep, tomMatch39NameNumberfreshSubject_1, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_24=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_24 instanceof tom.engine.adt.tomterm.types.tomterm.FunctionCall) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_22= tomMatch39NameNumber_freshVar_24.getAstName() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch39NameNumber_freshVar_23= tomMatch39NameNumber_freshVar_24.getArgs() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_26=tomMatch39NameNumber_freshVar_22;if ( (tomMatch39NameNumber_freshVar_26 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_25= tomMatch39NameNumber_freshVar_26.getString() ;if ( true ) {


        buildFunctionCall(deep,tomMatch39NameNumber_freshVar_25, tomMatch39NameNumber_freshVar_23, moduleName);
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_28=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_28 instanceof tom.engine.adt.tomterm.types.tomterm.Composite) ) {{  tom.engine.adt.tomterm.types.TomList  tomMatch39NameNumber_freshVar_27= tomMatch39NameNumber_freshVar_28.getArgs() ;if ( true ) {


        generateList(deep,tomMatch39NameNumber_freshVar_27, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_30=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_30 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_29= tomMatch39NameNumber_freshVar_30.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_32=tomMatch39NameNumber_freshVar_29;if ( (tomMatch39NameNumber_freshVar_32 instanceof tom.engine.adt.tomname.types.tomname.PositionName) ) {{  tom.engine.adt.tomname.types.TomNumberList  tomMatch39NameNumber_freshVar_31= tomMatch39NameNumber_freshVar_32.getNumberList() ;if ( true ) {


          /*
           * sans type: re-definition lorsque %variable est utilise
           * avec type: probleme en cas de filtrage dynamique
           */
        output.write("tom" + TomBase.tomNumberListToString(tomMatch39NameNumber_freshVar_31));
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_34=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_34 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_33= tomMatch39NameNumber_freshVar_34.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_36=tomMatch39NameNumber_freshVar_33;if ( (tomMatch39NameNumber_freshVar_36 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_35= tomMatch39NameNumber_freshVar_36.getString() ;if ( true ) {


        output.write(tomMatch39NameNumber_freshVar_35);
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_38=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_38 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_37= tomMatch39NameNumber_freshVar_38.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_40=tomMatch39NameNumber_freshVar_37;if ( (tomMatch39NameNumber_freshVar_40 instanceof tom.engine.adt.tomname.types.tomname.PositionName) ) {{  tom.engine.adt.tomname.types.TomNumberList  tomMatch39NameNumber_freshVar_39= tomMatch39NameNumber_freshVar_40.getNumberList() ;if ( true ) {


        output.write("tom" + TomBase.tomNumberListToString(tomMatch39NameNumber_freshVar_39));
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_42=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_42 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_41= tomMatch39NameNumber_freshVar_42.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch39NameNumber_freshVar_44=tomMatch39NameNumber_freshVar_41;if ( (tomMatch39NameNumber_freshVar_44 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch39NameNumber_freshVar_43= tomMatch39NameNumber_freshVar_44.getString() ;if ( true ) {


        output.write(tomMatch39NameNumber_freshVar_43);
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_46=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_46 instanceof tom.engine.adt.tomterm.types.tomterm.TargetLanguageToTomTerm) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch39NameNumber_freshVar_45= tomMatch39NameNumber_freshVar_46.getTl() ;if ( true ) {


        generateTargetLanguage(deep,tomMatch39NameNumber_freshVar_45, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_48=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_48 instanceof tom.engine.adt.tomterm.types.tomterm.ExpressionToTomTerm) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch39NameNumber_freshVar_47= tomMatch39NameNumber_freshVar_48.getAstExpression() ;if ( true ) {


        generateExpression(deep,tomMatch39NameNumber_freshVar_47, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_50=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_50 instanceof tom.engine.adt.tomterm.types.tomterm.InstructionToTomTerm) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch39NameNumber_freshVar_49= tomMatch39NameNumber_freshVar_50.getAstInstruction() ;if ( true ) {


        generateInstruction(deep,tomMatch39NameNumber_freshVar_49, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumber_freshVar_52=tomMatch39NameNumberfreshSubject_1;if ( (tomMatch39NameNumber_freshVar_52 instanceof tom.engine.adt.tomterm.types.tomterm.DeclarationToTomTerm) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch39NameNumber_freshVar_51= tomMatch39NameNumber_freshVar_52.getAstDeclaration() ;if ( true ) {


        generateDeclaration(deep,tomMatch39NameNumber_freshVar_51, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomterm.types.TomTerm) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch39NameNumberfreshSubject_1=(( tom.engine.adt.tomterm.types.TomTerm )subject);{  tom.engine.adt.tomterm.types.TomTerm  tom_t=tomMatch39NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for: " + tom_t);
      }}}}}

  }

  public void generateExpression(int deep, Expression subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_1=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_1 instanceof tom.engine.adt.tomexpression.types.expression.Code) ) {{  String  tomMatch40NameNumber_freshVar_0= tomMatch40NameNumber_freshVar_1.getCode() ;if ( true ) {

        output.write(tomMatch40NameNumber_freshVar_0);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_3=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_3 instanceof tom.engine.adt.tomexpression.types.expression.Integer) ) {{  int  tomMatch40NameNumber_freshVar_2= tomMatch40NameNumber_freshVar_3.getvalue() ;if ( true ) {


        output.write(tomMatch40NameNumber_freshVar_2);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_5=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_5 instanceof tom.engine.adt.tomexpression.types.expression.Negation) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_4= tomMatch40NameNumber_freshVar_5.getArg() ;if ( true ) {


        buildExpNegation(deep, tomMatch40NameNumber_freshVar_4, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_9=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_9 instanceof tom.engine.adt.tomexpression.types.expression.Conditional) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_6= tomMatch40NameNumber_freshVar_9.getCond() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_7= tomMatch40NameNumber_freshVar_9.getThen() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_8= tomMatch40NameNumber_freshVar_9.getElse() ;if ( true ) {


        buildExpConditional(deep, tomMatch40NameNumber_freshVar_6, tomMatch40NameNumber_freshVar_7, tomMatch40NameNumber_freshVar_8, moduleName);
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_12=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_12 instanceof tom.engine.adt.tomexpression.types.expression.And) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_10= tomMatch40NameNumber_freshVar_12.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_11= tomMatch40NameNumber_freshVar_12.getArg2() ;if ( true ) {


        buildExpAnd(deep, tomMatch40NameNumber_freshVar_10, tomMatch40NameNumber_freshVar_11, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_15=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_15 instanceof tom.engine.adt.tomexpression.types.expression.Or) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_13= tomMatch40NameNumber_freshVar_15.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_14= tomMatch40NameNumber_freshVar_15.getArg2() ;if ( true ) {


        buildExpOr(deep, tomMatch40NameNumber_freshVar_13, tomMatch40NameNumber_freshVar_14, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_18=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_18 instanceof tom.engine.adt.tomexpression.types.expression.GreaterThan) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_16= tomMatch40NameNumber_freshVar_18.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_17= tomMatch40NameNumber_freshVar_18.getArg2() ;if ( true ) {


        buildExpGreaterThan(deep, tomMatch40NameNumber_freshVar_16, tomMatch40NameNumber_freshVar_17, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_21=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_21 instanceof tom.engine.adt.tomexpression.types.expression.GreaterOrEqualThan) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_19= tomMatch40NameNumber_freshVar_21.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_20= tomMatch40NameNumber_freshVar_21.getArg2() ;if ( true ) {


        buildExpGreaterOrEqualThan(deep, tomMatch40NameNumber_freshVar_19, tomMatch40NameNumber_freshVar_20, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_24=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_24 instanceof tom.engine.adt.tomexpression.types.expression.LessThan) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_22= tomMatch40NameNumber_freshVar_24.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_23= tomMatch40NameNumber_freshVar_24.getArg2() ;if ( true ) {


        buildExpLessThan(deep, tomMatch40NameNumber_freshVar_22, tomMatch40NameNumber_freshVar_23, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_27=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_27 instanceof tom.engine.adt.tomexpression.types.expression.LessOrEqualThan) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_25= tomMatch40NameNumber_freshVar_27.getArg1() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_26= tomMatch40NameNumber_freshVar_27.getArg2() ;if ( true ) {


        buildExpLessOrEqualThan(deep, tomMatch40NameNumber_freshVar_25, tomMatch40NameNumber_freshVar_26, moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_29=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_29 instanceof tom.engine.adt.tomexpression.types.expression.Bottom) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_28= tomMatch40NameNumber_freshVar_29.getTomType() ;if ( true ) {



        buildExpBottom(deep,tomMatch40NameNumber_freshVar_28, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_30=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_30 instanceof tom.engine.adt.tomexpression.types.expression.TrueTL) ) {if ( true ) {


        buildExpTrue(deep);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_31=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_31 instanceof tom.engine.adt.tomexpression.types.expression.FalseTL) ) {if ( true ) {


        buildExpFalse(deep);
        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_34=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_34 instanceof tom.engine.adt.tomexpression.types.expression.IsEmptyList) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_32= tomMatch40NameNumber_freshVar_34.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_33= tomMatch40NameNumber_freshVar_34.getVariable() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_36=tomMatch40NameNumber_freshVar_32;if ( (tomMatch40NameNumber_freshVar_36 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch40NameNumber_freshVar_35= tomMatch40NameNumber_freshVar_36.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_expList=tomMatch40NameNumber_freshVar_33;if ( true ) {buildExpIsEmptyList(deep,tomMatch40NameNumber_freshVar_35,getTermType(tom_expList),tom_expList,moduleName)


;
        return;
      }}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_40=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_40 instanceof tom.engine.adt.tomexpression.types.expression.IsEmptyArray) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_37= tomMatch40NameNumber_freshVar_40.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_38= tomMatch40NameNumber_freshVar_40.getVariable() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_39= tomMatch40NameNumber_freshVar_40.getIndex() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_expArray=tomMatch40NameNumber_freshVar_38;if ( true ) {


        buildExpIsEmptyArray(deep, tomMatch40NameNumber_freshVar_37, getTermType(tom_expArray), tomMatch40NameNumber_freshVar_39, tom_expArray, moduleName);
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_44=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_44 instanceof tom.engine.adt.tomexpression.types.expression.EqualTerm) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_41= tomMatch40NameNumber_freshVar_44.getTomType() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_42= tomMatch40NameNumber_freshVar_44.getKid1() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_43= tomMatch40NameNumber_freshVar_44.getKid2() ;if ( true ) {buildExpEqualTerm(deep,tomMatch40NameNumber_freshVar_41,tomMatch40NameNumber_freshVar_42,tomMatch40NameNumber_freshVar_43,moduleName)


;
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_47=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_47 instanceof tom.engine.adt.tomexpression.types.expression.IsSort) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_45= tomMatch40NameNumber_freshVar_47.getAstType() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_46= tomMatch40NameNumber_freshVar_47.getVariable() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_49=tomMatch40NameNumber_freshVar_45;{ boolean tomMatch40NameNumber_freshVar_51= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_48= null ;if ( (tomMatch40NameNumber_freshVar_49 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{tomMatch40NameNumber_freshVar_51= true ;tomMatch40NameNumber_freshVar_48= tomMatch40NameNumber_freshVar_49.getTomType() ;}} else {if ( (tomMatch40NameNumber_freshVar_49 instanceof tom.engine.adt.tomtype.types.tomtype.TypeWithSymbol) ) {{tomMatch40NameNumber_freshVar_51= true ;tomMatch40NameNumber_freshVar_48= tomMatch40NameNumber_freshVar_49.getTomType() ;}}}if ((tomMatch40NameNumber_freshVar_51 ==  true )) {{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_50=tomMatch40NameNumber_freshVar_48;if ( (tomMatch40NameNumber_freshVar_50 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {if ( true ) {buildExpIsSort(deep,TomBase.getTomType(tomMatch40NameNumber_freshVar_48),tomMatch40NameNumber_freshVar_46,moduleName)


;
        return;
      }}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_54=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_54 instanceof tom.engine.adt.tomexpression.types.expression.IsFsym) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_52= tomMatch40NameNumber_freshVar_54.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_53= tomMatch40NameNumber_freshVar_54.getVariable() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_56=tomMatch40NameNumber_freshVar_52;if ( (tomMatch40NameNumber_freshVar_56 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch40NameNumber_freshVar_55= tomMatch40NameNumber_freshVar_56.getString() ;if ( true ) {


        buildExpIsFsym(deep, tomMatch40NameNumber_freshVar_55, tomMatch40NameNumber_freshVar_53, moduleName);
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_59=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_59 instanceof tom.engine.adt.tomexpression.types.expression.Cast) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_57= tomMatch40NameNumber_freshVar_59.getAstType() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_58= tomMatch40NameNumber_freshVar_59.getSource() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_61=tomMatch40NameNumber_freshVar_57;{ boolean tomMatch40NameNumber_freshVar_63= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_60= null ;if ( (tomMatch40NameNumber_freshVar_61 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{tomMatch40NameNumber_freshVar_63= true ;tomMatch40NameNumber_freshVar_60= tomMatch40NameNumber_freshVar_61.getTlType() ;}} else {if ( (tomMatch40NameNumber_freshVar_61 instanceof tom.engine.adt.tomtype.types.tomtype.TypeWithSymbol) ) {{tomMatch40NameNumber_freshVar_63= true ;tomMatch40NameNumber_freshVar_60= tomMatch40NameNumber_freshVar_61.getTlType() ;}}}if ((tomMatch40NameNumber_freshVar_63 ==  true )) {{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_62=tomMatch40NameNumber_freshVar_60;if ( (tomMatch40NameNumber_freshVar_62 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {


        buildExpCast(deep, tomMatch40NameNumber_freshVar_60, tomMatch40NameNumber_freshVar_58, moduleName);
        return;
      }}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_68=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_68 instanceof tom.engine.adt.tomexpression.types.expression.GetSlot) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_64= tomMatch40NameNumber_freshVar_68.getCodomain() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_65= tomMatch40NameNumber_freshVar_68.getAstName() ;{  String  tomMatch40NameNumber_freshVar_66= tomMatch40NameNumber_freshVar_68.getSlotNameString() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_67= tomMatch40NameNumber_freshVar_68.getVariable() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_70=tomMatch40NameNumber_freshVar_65;if ( (tomMatch40NameNumber_freshVar_70 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch40NameNumber_freshVar_69= tomMatch40NameNumber_freshVar_70.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_71=tomMatch40NameNumber_freshVar_67;{ boolean tomMatch40NameNumber_freshVar_72= false ;if ( (tomMatch40NameNumber_freshVar_71 instanceof tom.engine.adt.tomterm.types.tomterm.Ref) ) {tomMatch40NameNumber_freshVar_72= true ;} else {if ( (tomMatch40NameNumber_freshVar_71 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {tomMatch40NameNumber_freshVar_72= true ;} else {if ( (tomMatch40NameNumber_freshVar_71 instanceof tom.engine.adt.tomterm.types.tomterm.BuildTerm) ) {tomMatch40NameNumber_freshVar_72= true ;} else {if ( (tomMatch40NameNumber_freshVar_71 instanceof tom.engine.adt.tomterm.types.tomterm.ExpressionToTomTerm) ) {tomMatch40NameNumber_freshVar_72= true ;}}}}if ((tomMatch40NameNumber_freshVar_72 ==  true )) {if ( true ) {buildExpGetSlot(deep,tomMatch40NameNumber_freshVar_69,tomMatch40NameNumber_freshVar_66,tomMatch40NameNumber_freshVar_67,moduleName)


;
        return;
      }}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_77=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_77 instanceof tom.engine.adt.tomexpression.types.expression.GetSlot) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_73= tomMatch40NameNumber_freshVar_77.getCodomain() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_74= tomMatch40NameNumber_freshVar_77.getAstName() ;{  String  tomMatch40NameNumber_freshVar_75= tomMatch40NameNumber_freshVar_77.getSlotNameString() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_76= tomMatch40NameNumber_freshVar_77.getVariable() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_79=tomMatch40NameNumber_freshVar_74;if ( (tomMatch40NameNumber_freshVar_79 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch40NameNumber_freshVar_78= tomMatch40NameNumber_freshVar_79.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_81=tomMatch40NameNumber_freshVar_76;if ( (tomMatch40NameNumber_freshVar_81 instanceof tom.engine.adt.tomterm.types.tomterm.ExpressionToTomTerm) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_80= tomMatch40NameNumber_freshVar_81.getAstExpression() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_82=tomMatch40NameNumber_freshVar_80;if ( (tomMatch40NameNumber_freshVar_82 instanceof tom.engine.adt.tomexpression.types.expression.GetSlot) ) {if ( true ) {buildExpGetSlot(deep,tomMatch40NameNumber_freshVar_78,tomMatch40NameNumber_freshVar_75,tomMatch40NameNumber_freshVar_76,moduleName)

;
        return;
      }}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_86=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_86 instanceof tom.engine.adt.tomexpression.types.expression.GetHead) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_83= tomMatch40NameNumber_freshVar_86.getOpname() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_84= tomMatch40NameNumber_freshVar_86.getCodomain() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_85= tomMatch40NameNumber_freshVar_86.getVariable() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_88=tomMatch40NameNumber_freshVar_83;if ( (tomMatch40NameNumber_freshVar_88 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch40NameNumber_freshVar_87= tomMatch40NameNumber_freshVar_88.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_exp=tomMatch40NameNumber_freshVar_85;if ( true ) {buildExpGetHead(deep,tomMatch40NameNumber_freshVar_87,getTermType(tom_exp),tomMatch40NameNumber_freshVar_84,tom_exp,moduleName)


;
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_91=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_91 instanceof tom.engine.adt.tomexpression.types.expression.GetTail) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_89= tomMatch40NameNumber_freshVar_91.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_90= tomMatch40NameNumber_freshVar_91.getVariable() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_93=tomMatch40NameNumber_freshVar_89;if ( (tomMatch40NameNumber_freshVar_93 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch40NameNumber_freshVar_92= tomMatch40NameNumber_freshVar_93.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_exp=tomMatch40NameNumber_freshVar_90;if ( true ) {buildExpGetTail(deep,tomMatch40NameNumber_freshVar_92,getTermType(tom_exp),tom_exp,moduleName)


;
        return;
      }}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_95=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_95 instanceof tom.engine.adt.tomexpression.types.expression.AddOne) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_94= tomMatch40NameNumber_freshVar_95.getVariable() ;if ( true ) {


        buildAddOne(deep, tomMatch40NameNumber_freshVar_94, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_98=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_98 instanceof tom.engine.adt.tomexpression.types.expression.GetSize) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_96= tomMatch40NameNumber_freshVar_98.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_97= tomMatch40NameNumber_freshVar_98.getVariable() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_exp=tomMatch40NameNumber_freshVar_97;if ( true ) {


        buildExpGetSize(deep,tomMatch40NameNumber_freshVar_96,getTermType(tom_exp), tom_exp, moduleName);
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_103=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_103 instanceof tom.engine.adt.tomexpression.types.expression.GetElement) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_99= tomMatch40NameNumber_freshVar_103.getOpname() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch40NameNumber_freshVar_100= tomMatch40NameNumber_freshVar_103.getCodomain() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_101= tomMatch40NameNumber_freshVar_103.getVariable() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_102= tomMatch40NameNumber_freshVar_103.getIndex() ;{  tom.engine.adt.tomterm.types.TomTerm  tom_varName=tomMatch40NameNumber_freshVar_101;if ( true ) {


        buildExpGetElement(deep,tomMatch40NameNumber_freshVar_99,getTermType(tom_varName),tomMatch40NameNumber_freshVar_100, tom_varName, tomMatch40NameNumber_freshVar_102, moduleName);
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_108=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_108 instanceof tom.engine.adt.tomexpression.types.expression.GetSliceList) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_104= tomMatch40NameNumber_freshVar_108.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_105= tomMatch40NameNumber_freshVar_108.getVariableBeginAST() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_106= tomMatch40NameNumber_freshVar_108.getVariableEndAST() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_107= tomMatch40NameNumber_freshVar_108.getTail() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_110=tomMatch40NameNumber_freshVar_104;if ( (tomMatch40NameNumber_freshVar_110 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch40NameNumber_freshVar_109= tomMatch40NameNumber_freshVar_110.getString() ;if ( true ) {


        buildExpGetSliceList(deep, tomMatch40NameNumber_freshVar_109, tomMatch40NameNumber_freshVar_105, tomMatch40NameNumber_freshVar_106, tomMatch40NameNumber_freshVar_107,moduleName);
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_115=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_115 instanceof tom.engine.adt.tomexpression.types.expression.GetSliceArray) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_111= tomMatch40NameNumber_freshVar_115.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_112= tomMatch40NameNumber_freshVar_115.getSubjectListName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_113= tomMatch40NameNumber_freshVar_115.getVariableBeginAST() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_114= tomMatch40NameNumber_freshVar_115.getVariableEndAST() ;{  tom.engine.adt.tomname.types.TomName  tomMatch40NameNumber_freshVar_117=tomMatch40NameNumber_freshVar_111;if ( (tomMatch40NameNumber_freshVar_117 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch40NameNumber_freshVar_116= tomMatch40NameNumber_freshVar_117.getString() ;if ( true ) {


        buildExpGetSliceArray(deep, tomMatch40NameNumber_freshVar_116, tomMatch40NameNumber_freshVar_112, tomMatch40NameNumber_freshVar_113, tomMatch40NameNumber_freshVar_114, moduleName);
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_119=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_119 instanceof tom.engine.adt.tomexpression.types.expression.TomTermToExpression) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch40NameNumber_freshVar_118= tomMatch40NameNumber_freshVar_119.getAstTerm() ;if ( true ) {


        generate(deep,tomMatch40NameNumber_freshVar_118, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumber_freshVar_121=tomMatch40NameNumberfreshSubject_1;if ( (tomMatch40NameNumber_freshVar_121 instanceof tom.engine.adt.tomexpression.types.expression.TomInstructionToExpression) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch40NameNumber_freshVar_120= tomMatch40NameNumber_freshVar_121.getInstruction() ;if ( true ) {


        generateInstruction(deep, tomMatch40NameNumber_freshVar_120, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomexpression.types.Expression) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch40NameNumberfreshSubject_1=(( tom.engine.adt.tomexpression.types.Expression )subject);{  tom.engine.adt.tomexpression.types.Expression  tom_t=tomMatch40NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for expression: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for expression: " + tom_t);
      }}}}}

  }

  public void generateInstruction(int deep, Instruction subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_1=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_1 instanceof tom.engine.adt.tominstruction.types.instruction.TargetLanguageToInstruction) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch41NameNumber_freshVar_0= tomMatch41NameNumber_freshVar_1.getTl() ;if ( true ) {generateTargetLanguage(deep,tomMatch41NameNumber_freshVar_0,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_3=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_3 instanceof tom.engine.adt.tominstruction.types.instruction.TomTermToInstruction) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_2= tomMatch41NameNumber_freshVar_3.getTom() ;if ( true ) {generate(deep,tomMatch41NameNumber_freshVar_2,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_5=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_5 instanceof tom.engine.adt.tominstruction.types.instruction.ExpressionToInstruction) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_4= tomMatch41NameNumber_freshVar_5.getExpr() ;if ( true ) {generateExpression(deep,tomMatch41NameNumber_freshVar_4,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_6=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_6 instanceof tom.engine.adt.tominstruction.types.instruction.Nop) ) {if ( true ) {


        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_9=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_9 instanceof tom.engine.adt.tominstruction.types.instruction.Assign) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_7= tomMatch41NameNumber_freshVar_9.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_8= tomMatch41NameNumber_freshVar_9.getSource() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_10=tomMatch41NameNumber_freshVar_7;{ boolean tomMatch41NameNumber_freshVar_11= false ;if ( (tomMatch41NameNumber_freshVar_10 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariable) ) {tomMatch41NameNumber_freshVar_11= true ;} else {if ( (tomMatch41NameNumber_freshVar_10 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariableStar) ) {tomMatch41NameNumber_freshVar_11= true ;}}if ((tomMatch41NameNumber_freshVar_11 ==  true )) {if ( true ) {


        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_14=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_14 instanceof tom.engine.adt.tominstruction.types.instruction.Assign) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_12= tomMatch41NameNumber_freshVar_14.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_13= tomMatch41NameNumber_freshVar_14.getSource() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_16=tomMatch41NameNumber_freshVar_12;{ boolean tomMatch41NameNumber_freshVar_17= false ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch41NameNumber_freshVar_15= null ;if ( (tomMatch41NameNumber_freshVar_16 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{tomMatch41NameNumber_freshVar_17= true ;tomMatch41NameNumber_freshVar_15= tomMatch41NameNumber_freshVar_16.getOption() ;}} else {if ( (tomMatch41NameNumber_freshVar_16 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{tomMatch41NameNumber_freshVar_17= true ;tomMatch41NameNumber_freshVar_15= tomMatch41NameNumber_freshVar_16.getOption() ;}}}if ((tomMatch41NameNumber_freshVar_17 ==  true )) {if ( true ) {buildAssignVar(deep,tomMatch41NameNumber_freshVar_12,tomMatch41NameNumber_freshVar_15,tomMatch41NameNumber_freshVar_13,moduleName)


;
        return;
      }}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_21=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_21 instanceof tom.engine.adt.tominstruction.types.instruction.LetAssign) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_18= tomMatch41NameNumber_freshVar_21.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_19= tomMatch41NameNumber_freshVar_21.getSource() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_20= tomMatch41NameNumber_freshVar_21.getAstInstruction() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_23=tomMatch41NameNumber_freshVar_18;{ boolean tomMatch41NameNumber_freshVar_24= false ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch41NameNumber_freshVar_22= null ;if ( (tomMatch41NameNumber_freshVar_23 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{tomMatch41NameNumber_freshVar_24= true ;tomMatch41NameNumber_freshVar_22= tomMatch41NameNumber_freshVar_23.getOption() ;}} else {if ( (tomMatch41NameNumber_freshVar_23 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{tomMatch41NameNumber_freshVar_24= true ;tomMatch41NameNumber_freshVar_22= tomMatch41NameNumber_freshVar_23.getOption() ;}}}if ((tomMatch41NameNumber_freshVar_24 ==  true )) {if ( true ) {buildLetAssign(deep,tomMatch41NameNumber_freshVar_18,tomMatch41NameNumber_freshVar_22,tomMatch41NameNumber_freshVar_19,tomMatch41NameNumber_freshVar_20,moduleName)


;
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_28=tomMatch41NameNumberfreshSubject_1;{ boolean tomMatch41NameNumber_freshVar_31= false ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_27= null ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_26= null ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_25= null ;if ( (tomMatch41NameNumber_freshVar_28 instanceof tom.engine.adt.tominstruction.types.instruction.Let) ) {{tomMatch41NameNumber_freshVar_31= true ;tomMatch41NameNumber_freshVar_25= tomMatch41NameNumber_freshVar_28.getVariable() ;tomMatch41NameNumber_freshVar_26= tomMatch41NameNumber_freshVar_28.getSource() ;tomMatch41NameNumber_freshVar_27= tomMatch41NameNumber_freshVar_28.getAstInstruction() ;}} else {if ( (tomMatch41NameNumber_freshVar_28 instanceof tom.engine.adt.tominstruction.types.instruction.LetRef) ) {{tomMatch41NameNumber_freshVar_31= true ;tomMatch41NameNumber_freshVar_25= tomMatch41NameNumber_freshVar_28.getVariable() ;tomMatch41NameNumber_freshVar_26= tomMatch41NameNumber_freshVar_28.getSource() ;tomMatch41NameNumber_freshVar_27= tomMatch41NameNumber_freshVar_28.getAstInstruction() ;}} else {if ( (tomMatch41NameNumber_freshVar_28 instanceof tom.engine.adt.tominstruction.types.instruction.LetAssign) ) {{tomMatch41NameNumber_freshVar_31= true ;tomMatch41NameNumber_freshVar_25= tomMatch41NameNumber_freshVar_28.getVariable() ;tomMatch41NameNumber_freshVar_26= tomMatch41NameNumber_freshVar_28.getSource() ;tomMatch41NameNumber_freshVar_27= tomMatch41NameNumber_freshVar_28.getAstInstruction() ;}}}}if ((tomMatch41NameNumber_freshVar_31 ==  true )) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_29=tomMatch41NameNumber_freshVar_25;{ boolean tomMatch41NameNumber_freshVar_30= false ;if ( (tomMatch41NameNumber_freshVar_29 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariable) ) {tomMatch41NameNumber_freshVar_30= true ;} else {if ( (tomMatch41NameNumber_freshVar_29 instanceof tom.engine.adt.tomterm.types.tomterm.UnamedVariableStar) ) {tomMatch41NameNumber_freshVar_30= true ;}}if ((tomMatch41NameNumber_freshVar_30 ==  true )) {if ( true ) {generateInstruction(deep,tomMatch41NameNumber_freshVar_27,moduleName)


;
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_35=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_35 instanceof tom.engine.adt.tominstruction.types.instruction.Let) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_32= tomMatch41NameNumber_freshVar_35.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_33= tomMatch41NameNumber_freshVar_35.getSource() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_34= tomMatch41NameNumber_freshVar_35.getAstInstruction() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_38=tomMatch41NameNumber_freshVar_32;{ boolean tomMatch41NameNumber_freshVar_42= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch41NameNumber_freshVar_37= null ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch41NameNumber_freshVar_36= null ;if ( (tomMatch41NameNumber_freshVar_38 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{tomMatch41NameNumber_freshVar_42= true ;tomMatch41NameNumber_freshVar_36= tomMatch41NameNumber_freshVar_38.getOption() ;tomMatch41NameNumber_freshVar_37= tomMatch41NameNumber_freshVar_38.getAstType() ;}} else {if ( (tomMatch41NameNumber_freshVar_38 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{tomMatch41NameNumber_freshVar_42= true ;tomMatch41NameNumber_freshVar_36= tomMatch41NameNumber_freshVar_38.getOption() ;tomMatch41NameNumber_freshVar_37= tomMatch41NameNumber_freshVar_38.getAstType() ;}}}if ((tomMatch41NameNumber_freshVar_42 ==  true )) {{  tom.engine.adt.tomtype.types.TomType  tomMatch41NameNumber_freshVar_40=tomMatch41NameNumber_freshVar_37;{ boolean tomMatch41NameNumber_freshVar_41= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch41NameNumber_freshVar_39= null ;if ( (tomMatch41NameNumber_freshVar_40 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{tomMatch41NameNumber_freshVar_41= true ;tomMatch41NameNumber_freshVar_39= tomMatch41NameNumber_freshVar_40.getTlType() ;}} else {if ( (tomMatch41NameNumber_freshVar_40 instanceof tom.engine.adt.tomtype.types.tomtype.TypeWithSymbol) ) {{tomMatch41NameNumber_freshVar_41= true ;tomMatch41NameNumber_freshVar_39= tomMatch41NameNumber_freshVar_40.getTlType() ;}}}if ((tomMatch41NameNumber_freshVar_41 ==  true )) {if ( true ) {buildLet(deep,tomMatch41NameNumber_freshVar_32,tomMatch41NameNumber_freshVar_36,tomMatch41NameNumber_freshVar_39,tomMatch41NameNumber_freshVar_33,tomMatch41NameNumber_freshVar_34,moduleName)


;
        return;
      }}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_46=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_46 instanceof tom.engine.adt.tominstruction.types.instruction.LetRef) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_43= tomMatch41NameNumber_freshVar_46.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_44= tomMatch41NameNumber_freshVar_46.getSource() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_45= tomMatch41NameNumber_freshVar_46.getAstInstruction() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_49=tomMatch41NameNumber_freshVar_43;{ boolean tomMatch41NameNumber_freshVar_53= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch41NameNumber_freshVar_48= null ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch41NameNumber_freshVar_47= null ;if ( (tomMatch41NameNumber_freshVar_49 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{tomMatch41NameNumber_freshVar_53= true ;tomMatch41NameNumber_freshVar_47= tomMatch41NameNumber_freshVar_49.getOption() ;tomMatch41NameNumber_freshVar_48= tomMatch41NameNumber_freshVar_49.getAstType() ;}} else {if ( (tomMatch41NameNumber_freshVar_49 instanceof tom.engine.adt.tomterm.types.tomterm.VariableStar) ) {{tomMatch41NameNumber_freshVar_53= true ;tomMatch41NameNumber_freshVar_47= tomMatch41NameNumber_freshVar_49.getOption() ;tomMatch41NameNumber_freshVar_48= tomMatch41NameNumber_freshVar_49.getAstType() ;}}}if ((tomMatch41NameNumber_freshVar_53 ==  true )) {{  tom.engine.adt.tomtype.types.TomType  tomMatch41NameNumber_freshVar_51=tomMatch41NameNumber_freshVar_48;{ boolean tomMatch41NameNumber_freshVar_52= false ;{  tom.engine.adt.tomtype.types.TomType  tomMatch41NameNumber_freshVar_50= null ;if ( (tomMatch41NameNumber_freshVar_51 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{tomMatch41NameNumber_freshVar_52= true ;tomMatch41NameNumber_freshVar_50= tomMatch41NameNumber_freshVar_51.getTlType() ;}} else {if ( (tomMatch41NameNumber_freshVar_51 instanceof tom.engine.adt.tomtype.types.tomtype.TypeWithSymbol) ) {{tomMatch41NameNumber_freshVar_52= true ;tomMatch41NameNumber_freshVar_50= tomMatch41NameNumber_freshVar_51.getTlType() ;}}}if ((tomMatch41NameNumber_freshVar_52 ==  true )) {if ( true ) {buildLetRef(deep,tomMatch41NameNumber_freshVar_43,tomMatch41NameNumber_freshVar_47,tomMatch41NameNumber_freshVar_50,tomMatch41NameNumber_freshVar_44,tomMatch41NameNumber_freshVar_45,moduleName)


;
        return;
      }}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_55=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_55 instanceof tom.engine.adt.tominstruction.types.instruction.AbstractBlock) ) {{  tom.engine.adt.tominstruction.types.InstructionList  tomMatch41NameNumber_freshVar_54= tomMatch41NameNumber_freshVar_55.getInstList() ;if ( true ) {


        //`generateInstructionList(deep, instList);
        buildInstructionSequence(deep,tomMatch41NameNumber_freshVar_54,moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_57=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_57 instanceof tom.engine.adt.tominstruction.types.instruction.UnamedBlock) ) {{  tom.engine.adt.tominstruction.types.InstructionList  tomMatch41NameNumber_freshVar_56= tomMatch41NameNumber_freshVar_57.getInstList() ;if ( true ) {buildUnamedBlock(deep,tomMatch41NameNumber_freshVar_56,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_60=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_60 instanceof tom.engine.adt.tominstruction.types.instruction.NamedBlock) ) {{  String  tomMatch41NameNumber_freshVar_58= tomMatch41NameNumber_freshVar_60.getBlockName() ;{  tom.engine.adt.tominstruction.types.InstructionList  tomMatch41NameNumber_freshVar_59= tomMatch41NameNumber_freshVar_60.getInstList() ;if ( true ) {buildNamedBlock(deep,tomMatch41NameNumber_freshVar_58,tomMatch41NameNumber_freshVar_59,moduleName)


;
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_64=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_64 instanceof tom.engine.adt.tominstruction.types.instruction.If) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_61= tomMatch41NameNumber_freshVar_64.getCondition() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_62= tomMatch41NameNumber_freshVar_64.getSuccesInst() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_63= tomMatch41NameNumber_freshVar_64.getFailureInst() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_65=tomMatch41NameNumber_freshVar_63;if ( (tomMatch41NameNumber_freshVar_65 instanceof tom.engine.adt.tominstruction.types.instruction.Nop) ) {if ( true ) {buildIf(deep,tomMatch41NameNumber_freshVar_61,tomMatch41NameNumber_freshVar_62,moduleName)


;
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_69=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_69 instanceof tom.engine.adt.tominstruction.types.instruction.If) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_66= tomMatch41NameNumber_freshVar_69.getCondition() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_67= tomMatch41NameNumber_freshVar_69.getSuccesInst() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_68= tomMatch41NameNumber_freshVar_69.getFailureInst() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_70=tomMatch41NameNumber_freshVar_67;if ( (tomMatch41NameNumber_freshVar_70 instanceof tom.engine.adt.tominstruction.types.instruction.Nop) ) {if ( true ) {buildIf(deep, tom.engine.adt.tomexpression.types.expression.Negation.make(tomMatch41NameNumber_freshVar_66) ,tomMatch41NameNumber_freshVar_68,moduleName)


;
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_74=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_74 instanceof tom.engine.adt.tominstruction.types.instruction.If) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_71= tomMatch41NameNumber_freshVar_74.getCondition() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_72= tomMatch41NameNumber_freshVar_74.getSuccesInst() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_73= tomMatch41NameNumber_freshVar_74.getFailureInst() ;if ( true ) {buildIfWithFailure(deep,tomMatch41NameNumber_freshVar_71,tomMatch41NameNumber_freshVar_72,tomMatch41NameNumber_freshVar_73,moduleName)


;
        return;
      }}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_77=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_77 instanceof tom.engine.adt.tominstruction.types.instruction.DoWhile) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_75= tomMatch41NameNumber_freshVar_77.getDoInst() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_76= tomMatch41NameNumber_freshVar_77.getCondition() ;if ( true ) {buildDoWhile(deep,tomMatch41NameNumber_freshVar_75,tomMatch41NameNumber_freshVar_76,moduleName)


;
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_80=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_80 instanceof tom.engine.adt.tominstruction.types.instruction.WhileDo) ) {{  tom.engine.adt.tomexpression.types.Expression  tomMatch41NameNumber_freshVar_78= tomMatch41NameNumber_freshVar_80.getCondition() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_79= tomMatch41NameNumber_freshVar_80.getDoInst() ;if ( true ) {buildWhileDo(deep,tomMatch41NameNumber_freshVar_78,tomMatch41NameNumber_freshVar_79,moduleName)


;
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_82=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_82 instanceof tom.engine.adt.tominstruction.types.instruction.TypedAction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_81= tomMatch41NameNumber_freshVar_82.getAstInstruction() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_84=tomMatch41NameNumber_freshVar_81;if ( (tomMatch41NameNumber_freshVar_84 instanceof tom.engine.adt.tominstruction.types.instruction.AbstractBlock) ) {{  tom.engine.adt.tominstruction.types.InstructionList  tomMatch41NameNumber_freshVar_83= tomMatch41NameNumber_freshVar_84.getInstList() ;if ( true ) {generateInstructionList(deep,tomMatch41NameNumber_freshVar_83,moduleName)


;
        return;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_86=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_86 instanceof tom.engine.adt.tominstruction.types.instruction.TypedAction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_85= tomMatch41NameNumber_freshVar_86.getAstInstruction() ;if ( true ) {generateInstruction(deep,tomMatch41NameNumber_freshVar_85,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_88=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_88 instanceof tom.engine.adt.tominstruction.types.instruction.Return) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch41NameNumber_freshVar_87= tomMatch41NameNumber_freshVar_88.getKid1() ;if ( true ) {buildReturn(deep,tomMatch41NameNumber_freshVar_87,moduleName)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_91=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_91 instanceof tom.engine.adt.tominstruction.types.instruction.CompiledMatch) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_89= tomMatch41NameNumber_freshVar_91.getAutomataInst() ;{  tom.engine.adt.tomoption.types.OptionList  tomMatch41NameNumber_freshVar_90= tomMatch41NameNumber_freshVar_91.getOption() ;if ( true ) {


        //TODO moduleName
        generateInstruction(deep,tomMatch41NameNumber_freshVar_89,moduleName);
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_94=tomMatch41NameNumberfreshSubject_1;if ( (tomMatch41NameNumber_freshVar_94 instanceof tom.engine.adt.tominstruction.types.instruction.CompiledPattern) ) {{  tom.engine.adt.tomconstraint.types.Constraint  tomMatch41NameNumber_freshVar_92= tomMatch41NameNumber_freshVar_94.getContraint() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumber_freshVar_93= tomMatch41NameNumber_freshVar_94.getAutomataInst() ;if ( true ) {generateInstruction(deep,tomMatch41NameNumber_freshVar_93,moduleName)


;
        return;
      }}}}}}}if ( (subject instanceof tom.engine.adt.tominstruction.types.Instruction) ) {{  tom.engine.adt.tominstruction.types.Instruction  tomMatch41NameNumberfreshSubject_1=(( tom.engine.adt.tominstruction.types.Instruction )subject);{  tom.engine.adt.tominstruction.types.Instruction  tom_t=tomMatch41NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for instruction: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for instruction: " + tom_t);
      }}}}}

  }

  public void generateTargetLanguage(int deep, TargetLanguage subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomsignature.types.TargetLanguage) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch42NameNumberfreshSubject_1=(( tom.engine.adt.tomsignature.types.TargetLanguage )subject);{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch42NameNumber_freshVar_3=tomMatch42NameNumberfreshSubject_1;if ( (tomMatch42NameNumber_freshVar_3 instanceof tom.engine.adt.tomsignature.types.targetlanguage.TL) ) {{  String  tomMatch42NameNumber_freshVar_0= tomMatch42NameNumber_freshVar_3.getCode() ;{  tom.engine.adt.tomsignature.types.Position  tomMatch42NameNumber_freshVar_1= tomMatch42NameNumber_freshVar_3.getStart() ;{  tom.engine.adt.tomsignature.types.Position  tomMatch42NameNumber_freshVar_2= tomMatch42NameNumber_freshVar_3.getEnd() ;{  tom.engine.adt.tomsignature.types.Position  tomMatch42NameNumber_freshVar_5=tomMatch42NameNumber_freshVar_1;if ( (tomMatch42NameNumber_freshVar_5 instanceof tom.engine.adt.tomsignature.types.position.TextPosition) ) {{  int  tomMatch42NameNumber_freshVar_4= tomMatch42NameNumber_freshVar_5.getLine() ;{  int  tom_startLine=tomMatch42NameNumber_freshVar_4;{  tom.engine.adt.tomsignature.types.Position  tomMatch42NameNumber_freshVar_7=tomMatch42NameNumber_freshVar_2;if ( (tomMatch42NameNumber_freshVar_7 instanceof tom.engine.adt.tomsignature.types.position.TextPosition) ) {{  int  tomMatch42NameNumber_freshVar_6= tomMatch42NameNumber_freshVar_7.getLine() ;if ( true ) {

        output.write(deep, tomMatch42NameNumber_freshVar_0, tom_startLine, tomMatch42NameNumber_freshVar_6- tom_startLine);
        return;
      }}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomsignature.types.TargetLanguage) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch42NameNumberfreshSubject_1=(( tom.engine.adt.tomsignature.types.TargetLanguage )subject);{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch42NameNumber_freshVar_9=tomMatch42NameNumberfreshSubject_1;if ( (tomMatch42NameNumber_freshVar_9 instanceof tom.engine.adt.tomsignature.types.targetlanguage.ITL) ) {{  String  tomMatch42NameNumber_freshVar_8= tomMatch42NameNumber_freshVar_9.getCode() ;if ( true ) {


        output.write(tomMatch42NameNumber_freshVar_8);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomsignature.types.TargetLanguage) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch42NameNumberfreshSubject_1=(( tom.engine.adt.tomsignature.types.TargetLanguage )subject);{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch42NameNumber_freshVar_11=tomMatch42NameNumberfreshSubject_1;if ( (tomMatch42NameNumber_freshVar_11 instanceof tom.engine.adt.tomsignature.types.targetlanguage.Comment) ) {{  String  tomMatch42NameNumber_freshVar_10= tomMatch42NameNumber_freshVar_11.getCode() ;if ( true ) {buildComment(deep,tomMatch42NameNumber_freshVar_10)


;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomsignature.types.TargetLanguage) ) {{  tom.engine.adt.tomsignature.types.TargetLanguage  tomMatch42NameNumberfreshSubject_1=(( tom.engine.adt.tomsignature.types.TargetLanguage )subject);{  tom.engine.adt.tomsignature.types.TargetLanguage  tom_t=tomMatch42NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for TL: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for TL: " + tom_t);
      }}}}}

  }

  public void generateOption(int deep, Option subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomoption.types.Option) ) {{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.Option )subject);{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_1=tomMatch43NameNumberfreshSubject_1;if ( (tomMatch43NameNumber_freshVar_1 instanceof tom.engine.adt.tomoption.types.option.DeclarationToOption) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch43NameNumber_freshVar_0= tomMatch43NameNumber_freshVar_1.getAstDeclaration() ;if ( true ) {generateDeclaration(deep,tomMatch43NameNumber_freshVar_0,moduleName)

;
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomoption.types.Option) ) {{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.Option )subject);{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_2=tomMatch43NameNumberfreshSubject_1;if ( (tomMatch43NameNumber_freshVar_2 instanceof tom.engine.adt.tomoption.types.option.OriginTracking) ) {if ( true ) {
 return; }}}}}if ( (subject instanceof tom.engine.adt.tomoption.types.Option) ) {{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.Option )subject);{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumber_freshVar_3=tomMatch43NameNumberfreshSubject_1;if ( (tomMatch43NameNumber_freshVar_3 instanceof tom.engine.adt.tomoption.types.option.DefinedSymbol) ) {if ( true ) {
 return; }}}}}if ( (subject instanceof tom.engine.adt.tomoption.types.Option) ) {{  tom.engine.adt.tomoption.types.Option  tomMatch43NameNumberfreshSubject_1=(( tom.engine.adt.tomoption.types.Option )subject);{  tom.engine.adt.tomoption.types.Option  tom_t=tomMatch43NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for option: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for option: " + tom_t);
      }}}}}

  }

  public void generateDeclaration(int deep, Declaration subject, String moduleName) throws IOException {
    {if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_0=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_0 instanceof tom.engine.adt.tomdeclaration.types.declaration.EmptyDeclaration) ) {if ( true ) {

        return;
      }}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_2=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_2 instanceof tom.engine.adt.tomdeclaration.types.declaration.AbstractDecl) ) {{  tom.engine.adt.tomdeclaration.types.DeclarationList  tomMatch44NameNumber_freshVar_1= tomMatch44NameNumber_freshVar_2.getDeclList() ;if ( true ) {


        //`generateInstructionList(deep, instList);
        generateDeclarationList(deep,tomMatch44NameNumber_freshVar_1,moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_8=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_8 instanceof tom.engine.adt.tomdeclaration.types.declaration.FunctionDef) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_3= tomMatch44NameNumber_freshVar_8.getAstName() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch44NameNumber_freshVar_4= tomMatch44NameNumber_freshVar_8.getArgumentList() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_5= tomMatch44NameNumber_freshVar_8.getCodomain() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_6= tomMatch44NameNumber_freshVar_8.getThrowsType() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch44NameNumber_freshVar_7= tomMatch44NameNumber_freshVar_8.getInstruction() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_10=tomMatch44NameNumber_freshVar_3;if ( (tomMatch44NameNumber_freshVar_10 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_9= tomMatch44NameNumber_freshVar_10.getString() ;if ( true ) {buildFunctionDef(deep,tomMatch44NameNumber_freshVar_9,tomMatch44NameNumber_freshVar_4,tomMatch44NameNumber_freshVar_5,tomMatch44NameNumber_freshVar_6,tomMatch44NameNumber_freshVar_7,moduleName)


;
        return;
      }}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_16=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_16 instanceof tom.engine.adt.tomdeclaration.types.declaration.MethodDef) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_11= tomMatch44NameNumber_freshVar_16.getAstName() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch44NameNumber_freshVar_12= tomMatch44NameNumber_freshVar_16.getArgumentList() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_13= tomMatch44NameNumber_freshVar_16.getCodomain() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_14= tomMatch44NameNumber_freshVar_16.getThrowsType() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch44NameNumber_freshVar_15= tomMatch44NameNumber_freshVar_16.getInstruction() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_18=tomMatch44NameNumber_freshVar_11;if ( (tomMatch44NameNumber_freshVar_18 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_17= tomMatch44NameNumber_freshVar_18.getString() ;if ( true ) {buildMethodDef(deep,tomMatch44NameNumber_freshVar_17,tomMatch44NameNumber_freshVar_12,tomMatch44NameNumber_freshVar_13,tomMatch44NameNumber_freshVar_14,tomMatch44NameNumber_freshVar_15,moduleName)


;
        return;
      }}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_23=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_23 instanceof tom.engine.adt.tomdeclaration.types.declaration.Class) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_19= tomMatch44NameNumber_freshVar_23.getAstName() ;{  tom.engine.adt.tomtype.types.TomForwardType  tomMatch44NameNumber_freshVar_20= tomMatch44NameNumber_freshVar_23.getExtendsType() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_21= tomMatch44NameNumber_freshVar_23.getSuperTerm() ;{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_22= tomMatch44NameNumber_freshVar_23.getDeclaration() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_25=tomMatch44NameNumber_freshVar_19;if ( (tomMatch44NameNumber_freshVar_25 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_24= tomMatch44NameNumber_freshVar_25.getString() ;if ( true ) {buildClass(deep,tomMatch44NameNumber_freshVar_24,tomMatch44NameNumber_freshVar_20,tomMatch44NameNumber_freshVar_21,tomMatch44NameNumber_freshVar_22,moduleName)


;
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_28=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_28 instanceof tom.engine.adt.tomdeclaration.types.declaration.IntrospectorClass) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_26= tomMatch44NameNumber_freshVar_28.getAstName() ;{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_27= tomMatch44NameNumber_freshVar_28.getDeclaration() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_30=tomMatch44NameNumber_freshVar_26;if ( (tomMatch44NameNumber_freshVar_30 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_29= tomMatch44NameNumber_freshVar_30.getString() ;if ( true ) {buildIntrospectorClass(deep,tomMatch44NameNumber_freshVar_29,tomMatch44NameNumber_freshVar_27,moduleName)



;
        return;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_32=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_32 instanceof tom.engine.adt.tomdeclaration.types.declaration.SymbolDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_31= tomMatch44NameNumber_freshVar_32.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_34=tomMatch44NameNumber_freshVar_31;if ( (tomMatch44NameNumber_freshVar_34 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_33= tomMatch44NameNumber_freshVar_34.getString() ;if ( true ) {buildSymbolDecl(deep,tomMatch44NameNumber_freshVar_33,moduleName)


;
        return ;
      }}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_36=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_36 instanceof tom.engine.adt.tomdeclaration.types.declaration.ArraySymbolDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_35= tomMatch44NameNumber_freshVar_36.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_38=tomMatch44NameNumber_freshVar_35;if ( (tomMatch44NameNumber_freshVar_38 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_37= tomMatch44NameNumber_freshVar_38.getString() ;{  String  tom_tomName=tomMatch44NameNumber_freshVar_37;if ( true ) {


        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_tomName) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_tomName)) {
          buildSymbolDecl(deep,tom_tomName,moduleName);
          genDeclArray(tom_tomName,moduleName);
        }
        return ;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_40=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_40 instanceof tom.engine.adt.tomdeclaration.types.declaration.ListSymbolDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_39= tomMatch44NameNumber_freshVar_40.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_42=tomMatch44NameNumber_freshVar_39;if ( (tomMatch44NameNumber_freshVar_42 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_41= tomMatch44NameNumber_freshVar_42.getString() ;{  String  tom_tomName=tomMatch44NameNumber_freshVar_41;if ( true ) {


        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_tomName) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_tomName)) {
          buildSymbolDecl(deep,tom_tomName,moduleName);
          genDeclList(tom_tomName,moduleName);
        }
        return ;
      }}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_46=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_46 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetImplementationDecl) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_43= tomMatch44NameNumber_freshVar_46.getVariable() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch44NameNumber_freshVar_44= tomMatch44NameNumber_freshVar_46.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_45= tomMatch44NameNumber_freshVar_46.getOrgTrack() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_49=tomMatch44NameNumber_freshVar_43;if ( (tomMatch44NameNumber_freshVar_49 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_47= tomMatch44NameNumber_freshVar_49.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_48= tomMatch44NameNumber_freshVar_49.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_51=tomMatch44NameNumber_freshVar_47;if ( (tomMatch44NameNumber_freshVar_51 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_50= tomMatch44NameNumber_freshVar_51.getString() ;{  String  tom_name=tomMatch44NameNumber_freshVar_50;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_54=tomMatch44NameNumber_freshVar_48;if ( (tomMatch44NameNumber_freshVar_54 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_52= tomMatch44NameNumber_freshVar_54.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_53= tomMatch44NameNumber_freshVar_54.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_56=tomMatch44NameNumber_freshVar_52;if ( (tomMatch44NameNumber_freshVar_56 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_55= tomMatch44NameNumber_freshVar_56.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_57=tomMatch44NameNumber_freshVar_53;if ( (tomMatch44NameNumber_freshVar_57 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {




        if(getSymbolTable(moduleName).isUsedSymbolDestructor(tom_name)) {
          buildGetImplementationDecl(deep,tomMatch44NameNumber_freshVar_55,tom_name,tomMatch44NameNumber_freshVar_53,tomMatch44NameNumber_freshVar_44,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_62=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_62 instanceof tom.engine.adt.tomdeclaration.types.declaration.IsFsymDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_58= tomMatch44NameNumber_freshVar_62.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_59= tomMatch44NameNumber_freshVar_62.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_60= tomMatch44NameNumber_freshVar_62.getExpr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_61= tomMatch44NameNumber_freshVar_62.getOrgTrack() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_64=tomMatch44NameNumber_freshVar_58;if ( (tomMatch44NameNumber_freshVar_64 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_63= tomMatch44NameNumber_freshVar_64.getString() ;{  String  tom_tomName=tomMatch44NameNumber_freshVar_63;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_67=tomMatch44NameNumber_freshVar_59;if ( (tomMatch44NameNumber_freshVar_67 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_65= tomMatch44NameNumber_freshVar_67.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_66= tomMatch44NameNumber_freshVar_67.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_69=tomMatch44NameNumber_freshVar_65;if ( (tomMatch44NameNumber_freshVar_69 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_68= tomMatch44NameNumber_freshVar_69.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_71=tomMatch44NameNumber_freshVar_66;if ( (tomMatch44NameNumber_freshVar_71 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_70= tomMatch44NameNumber_freshVar_71.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_72=tomMatch44NameNumber_freshVar_70;if ( (tomMatch44NameNumber_freshVar_72 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {



        if(getSymbolTable(moduleName).isUsedSymbolDestructor(tom_tomName)) {
          buildIsFsymDecl(deep,tom_tomName,tomMatch44NameNumber_freshVar_68,tomMatch44NameNumber_freshVar_70,tomMatch44NameNumber_freshVar_60,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_77=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_77 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetSlotDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_73= tomMatch44NameNumber_freshVar_77.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_74= tomMatch44NameNumber_freshVar_77.getSlotName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_75= tomMatch44NameNumber_freshVar_77.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_76= tomMatch44NameNumber_freshVar_77.getExpr() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_79=tomMatch44NameNumber_freshVar_73;if ( (tomMatch44NameNumber_freshVar_79 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_78= tomMatch44NameNumber_freshVar_79.getString() ;{  String  tom_tomName=tomMatch44NameNumber_freshVar_78;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_82=tomMatch44NameNumber_freshVar_75;if ( (tomMatch44NameNumber_freshVar_82 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_80= tomMatch44NameNumber_freshVar_82.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_81= tomMatch44NameNumber_freshVar_82.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_84=tomMatch44NameNumber_freshVar_80;if ( (tomMatch44NameNumber_freshVar_84 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_83= tomMatch44NameNumber_freshVar_84.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_86=tomMatch44NameNumber_freshVar_81;if ( (tomMatch44NameNumber_freshVar_86 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_85= tomMatch44NameNumber_freshVar_86.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_87=tomMatch44NameNumber_freshVar_85;if ( (tomMatch44NameNumber_freshVar_87 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





        if(getSymbolTable(moduleName).isUsedSymbolDestructor(tom_tomName)) {
          buildGetSlotDecl(deep,tom_tomName,tomMatch44NameNumber_freshVar_83,tomMatch44NameNumber_freshVar_85,tomMatch44NameNumber_freshVar_76,tomMatch44NameNumber_freshVar_74,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_92=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_92 instanceof tom.engine.adt.tomdeclaration.types.declaration.EqualTermDecl) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_88= tomMatch44NameNumber_freshVar_92.getTermArg1() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_89= tomMatch44NameNumber_freshVar_92.getTermArg2() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_90= tomMatch44NameNumber_freshVar_92.getExpr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_91= tomMatch44NameNumber_freshVar_92.getOrgTrack() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_95=tomMatch44NameNumber_freshVar_88;if ( (tomMatch44NameNumber_freshVar_95 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_93= tomMatch44NameNumber_freshVar_95.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_94= tomMatch44NameNumber_freshVar_95.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_97=tomMatch44NameNumber_freshVar_93;if ( (tomMatch44NameNumber_freshVar_97 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_96= tomMatch44NameNumber_freshVar_97.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_100=tomMatch44NameNumber_freshVar_94;if ( (tomMatch44NameNumber_freshVar_100 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_98= tomMatch44NameNumber_freshVar_100.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_99= tomMatch44NameNumber_freshVar_100.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_102=tomMatch44NameNumber_freshVar_98;if ( (tomMatch44NameNumber_freshVar_102 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_101= tomMatch44NameNumber_freshVar_102.getString() ;{  String  tom_type1=tomMatch44NameNumber_freshVar_101;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_105=tomMatch44NameNumber_freshVar_89;if ( (tomMatch44NameNumber_freshVar_105 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_103= tomMatch44NameNumber_freshVar_105.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_104= tomMatch44NameNumber_freshVar_105.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_107=tomMatch44NameNumber_freshVar_103;if ( (tomMatch44NameNumber_freshVar_107 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_106= tomMatch44NameNumber_freshVar_107.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_110=tomMatch44NameNumber_freshVar_104;if ( (tomMatch44NameNumber_freshVar_110 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_108= tomMatch44NameNumber_freshVar_110.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_109= tomMatch44NameNumber_freshVar_110.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_112=tomMatch44NameNumber_freshVar_108;if ( (tomMatch44NameNumber_freshVar_112 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_111= tomMatch44NameNumber_freshVar_112.getString() ;if ( true ) {




        if(getSymbolTable(moduleName).isUsedTypeDefinition(tom_type1)) {
          buildEqualTermDecl(deep,tomMatch44NameNumber_freshVar_96,tomMatch44NameNumber_freshVar_106,tom_type1,tomMatch44NameNumber_freshVar_111,tomMatch44NameNumber_freshVar_90,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_116=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_116 instanceof tom.engine.adt.tomdeclaration.types.declaration.IsSortDecl) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_113= tomMatch44NameNumber_freshVar_116.getTermArg() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_114= tomMatch44NameNumber_freshVar_116.getExpr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_115= tomMatch44NameNumber_freshVar_116.getOrgTrack() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_119=tomMatch44NameNumber_freshVar_113;if ( (tomMatch44NameNumber_freshVar_119 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_117= tomMatch44NameNumber_freshVar_119.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_118= tomMatch44NameNumber_freshVar_119.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_121=tomMatch44NameNumber_freshVar_117;if ( (tomMatch44NameNumber_freshVar_121 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_120= tomMatch44NameNumber_freshVar_121.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_124=tomMatch44NameNumber_freshVar_118;if ( (tomMatch44NameNumber_freshVar_124 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_122= tomMatch44NameNumber_freshVar_124.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_123= tomMatch44NameNumber_freshVar_124.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_126=tomMatch44NameNumber_freshVar_122;if ( (tomMatch44NameNumber_freshVar_126 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_125= tomMatch44NameNumber_freshVar_126.getString() ;{  String  tom_type=tomMatch44NameNumber_freshVar_125;if ( true ) {


        if(getSymbolTable(moduleName).isUsedTypeDefinition(tom_type)) {
          buildIsSortDecl(deep,tomMatch44NameNumber_freshVar_120,tom_type,tomMatch44NameNumber_freshVar_114,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_131=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_131 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetHeadDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_127= tomMatch44NameNumber_freshVar_131.getOpname() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_128= tomMatch44NameNumber_freshVar_131.getCodomain() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_129= tomMatch44NameNumber_freshVar_131.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_130= tomMatch44NameNumber_freshVar_131.getExpr() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_133=tomMatch44NameNumber_freshVar_127;if ( (tomMatch44NameNumber_freshVar_133 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_132= tomMatch44NameNumber_freshVar_133.getString() ;{  String  tom_opname=tomMatch44NameNumber_freshVar_132;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_135=tomMatch44NameNumber_freshVar_128;if ( (tomMatch44NameNumber_freshVar_135 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_134= tomMatch44NameNumber_freshVar_135.getTlType() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_138=tomMatch44NameNumber_freshVar_129;if ( (tomMatch44NameNumber_freshVar_138 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_136= tomMatch44NameNumber_freshVar_138.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_137= tomMatch44NameNumber_freshVar_138.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_140=tomMatch44NameNumber_freshVar_136;if ( (tomMatch44NameNumber_freshVar_140 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_139= tomMatch44NameNumber_freshVar_140.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_143=tomMatch44NameNumber_freshVar_137;if ( (tomMatch44NameNumber_freshVar_143 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_141= tomMatch44NameNumber_freshVar_143.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_142= tomMatch44NameNumber_freshVar_143.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_145=tomMatch44NameNumber_freshVar_141;if ( (tomMatch44NameNumber_freshVar_145 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_144= tomMatch44NameNumber_freshVar_145.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_146=tomMatch44NameNumber_freshVar_142;if ( (tomMatch44NameNumber_freshVar_146 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          buildGetHeadDecl(deep,tomMatch44NameNumber_freshVar_127,tomMatch44NameNumber_freshVar_139,tomMatch44NameNumber_freshVar_144,tomMatch44NameNumber_freshVar_142,tomMatch44NameNumber_freshVar_134,tomMatch44NameNumber_freshVar_130,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_150=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_150 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetTailDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_147= tomMatch44NameNumber_freshVar_150.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_148= tomMatch44NameNumber_freshVar_150.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_149= tomMatch44NameNumber_freshVar_150.getExpr() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_152=tomMatch44NameNumber_freshVar_147;if ( (tomMatch44NameNumber_freshVar_152 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_151= tomMatch44NameNumber_freshVar_152.getString() ;{  String  tom_opname=tomMatch44NameNumber_freshVar_151;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_155=tomMatch44NameNumber_freshVar_148;if ( (tomMatch44NameNumber_freshVar_155 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_153= tomMatch44NameNumber_freshVar_155.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_154= tomMatch44NameNumber_freshVar_155.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_157=tomMatch44NameNumber_freshVar_153;if ( (tomMatch44NameNumber_freshVar_157 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_156= tomMatch44NameNumber_freshVar_157.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_160=tomMatch44NameNumber_freshVar_154;if ( (tomMatch44NameNumber_freshVar_160 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_158= tomMatch44NameNumber_freshVar_160.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_159= tomMatch44NameNumber_freshVar_160.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_162=tomMatch44NameNumber_freshVar_158;if ( (tomMatch44NameNumber_freshVar_162 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_161= tomMatch44NameNumber_freshVar_162.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_163=tomMatch44NameNumber_freshVar_159;if ( (tomMatch44NameNumber_freshVar_163 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {




        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          buildGetTailDecl(deep,tomMatch44NameNumber_freshVar_147,tomMatch44NameNumber_freshVar_156,tomMatch44NameNumber_freshVar_161,tomMatch44NameNumber_freshVar_159,tomMatch44NameNumber_freshVar_149,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_167=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_167 instanceof tom.engine.adt.tomdeclaration.types.declaration.IsEmptyDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_164= tomMatch44NameNumber_freshVar_167.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_165= tomMatch44NameNumber_freshVar_167.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_166= tomMatch44NameNumber_freshVar_167.getExpr() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_169=tomMatch44NameNumber_freshVar_164;if ( (tomMatch44NameNumber_freshVar_169 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_168= tomMatch44NameNumber_freshVar_169.getString() ;{  String  tom_opname=tomMatch44NameNumber_freshVar_168;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_172=tomMatch44NameNumber_freshVar_165;if ( (tomMatch44NameNumber_freshVar_172 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_170= tomMatch44NameNumber_freshVar_172.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_171= tomMatch44NameNumber_freshVar_172.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_174=tomMatch44NameNumber_freshVar_170;if ( (tomMatch44NameNumber_freshVar_174 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_173= tomMatch44NameNumber_freshVar_174.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_177=tomMatch44NameNumber_freshVar_171;if ( (tomMatch44NameNumber_freshVar_177 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_175= tomMatch44NameNumber_freshVar_177.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_176= tomMatch44NameNumber_freshVar_177.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_179=tomMatch44NameNumber_freshVar_175;if ( (tomMatch44NameNumber_freshVar_179 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_178= tomMatch44NameNumber_freshVar_179.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_180=tomMatch44NameNumber_freshVar_176;if ( (tomMatch44NameNumber_freshVar_180 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {




        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          buildIsEmptyDecl(deep,tomMatch44NameNumber_freshVar_164,tomMatch44NameNumber_freshVar_173,tomMatch44NameNumber_freshVar_178,tomMatch44NameNumber_freshVar_176,tomMatch44NameNumber_freshVar_166,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_184=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_184 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeEmptyList) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_181= tomMatch44NameNumber_freshVar_184.getAstName() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch44NameNumber_freshVar_182= tomMatch44NameNumber_freshVar_184.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_183= tomMatch44NameNumber_freshVar_184.getOrgTrack() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_186=tomMatch44NameNumber_freshVar_181;if ( (tomMatch44NameNumber_freshVar_186 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_185= tomMatch44NameNumber_freshVar_186.getString() ;{  String  tom_opname=tomMatch44NameNumber_freshVar_185;if ( true ) {


        TomType returnType = TomBase.getSymbolCodomain(getSymbolFromName(tom_opname));
        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
        || getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          genDeclMake("tom_empty_list_",tom_opname,returnType, tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ,tomMatch44NameNumber_freshVar_182,moduleName);
        }
        return;
      }}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_192=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_192 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeAddList) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_187= tomMatch44NameNumber_freshVar_192.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_188= tomMatch44NameNumber_freshVar_192.getVarElt() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_189= tomMatch44NameNumber_freshVar_192.getVarList() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch44NameNumber_freshVar_190= tomMatch44NameNumber_freshVar_192.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_191= tomMatch44NameNumber_freshVar_192.getOrgTrack() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_194=tomMatch44NameNumber_freshVar_187;if ( (tomMatch44NameNumber_freshVar_194 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_193= tomMatch44NameNumber_freshVar_194.getString() ;{  String  tom_opname=tomMatch44NameNumber_freshVar_193;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_196=tomMatch44NameNumber_freshVar_188;if ( (tomMatch44NameNumber_freshVar_196 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_195= tomMatch44NameNumber_freshVar_196.getAstType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_198=tomMatch44NameNumber_freshVar_195;if ( (tomMatch44NameNumber_freshVar_198 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_197= tomMatch44NameNumber_freshVar_198.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_199=tomMatch44NameNumber_freshVar_197;if ( (tomMatch44NameNumber_freshVar_199 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_201=tomMatch44NameNumber_freshVar_189;if ( (tomMatch44NameNumber_freshVar_201 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_200= tomMatch44NameNumber_freshVar_201.getAstType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_203=tomMatch44NameNumber_freshVar_200;if ( (tomMatch44NameNumber_freshVar_203 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_202= tomMatch44NameNumber_freshVar_203.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_204=tomMatch44NameNumber_freshVar_202;if ( (tomMatch44NameNumber_freshVar_204 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





        TomType returnType = tomMatch44NameNumber_freshVar_200;
        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname) 
         ||getSymbolTable(moduleName).isUsedSymbolDestructor(tom_opname)) {
          genDeclMake("tom_cons_list_",tom_opname,returnType, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(tomMatch44NameNumber_freshVar_188, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(tomMatch44NameNumber_freshVar_189, tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ) ) ,tomMatch44NameNumber_freshVar_190,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_209=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_209 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetElementDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_205= tomMatch44NameNumber_freshVar_209.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_206= tomMatch44NameNumber_freshVar_209.getVariable() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_207= tomMatch44NameNumber_freshVar_209.getIndex() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_208= tomMatch44NameNumber_freshVar_209.getExpr() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_211=tomMatch44NameNumber_freshVar_205;if ( (tomMatch44NameNumber_freshVar_211 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_210= tomMatch44NameNumber_freshVar_211.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_214=tomMatch44NameNumber_freshVar_206;if ( (tomMatch44NameNumber_freshVar_214 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_212= tomMatch44NameNumber_freshVar_214.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_213= tomMatch44NameNumber_freshVar_214.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_216=tomMatch44NameNumber_freshVar_212;if ( (tomMatch44NameNumber_freshVar_216 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_215= tomMatch44NameNumber_freshVar_216.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_219=tomMatch44NameNumber_freshVar_213;if ( (tomMatch44NameNumber_freshVar_219 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_217= tomMatch44NameNumber_freshVar_219.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_218= tomMatch44NameNumber_freshVar_219.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_221=tomMatch44NameNumber_freshVar_217;if ( (tomMatch44NameNumber_freshVar_221 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_220= tomMatch44NameNumber_freshVar_221.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_222=tomMatch44NameNumber_freshVar_218;if ( (tomMatch44NameNumber_freshVar_222 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_224=tomMatch44NameNumber_freshVar_207;if ( (tomMatch44NameNumber_freshVar_224 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_223= tomMatch44NameNumber_freshVar_224.getAstName() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_226=tomMatch44NameNumber_freshVar_223;if ( (tomMatch44NameNumber_freshVar_226 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_225= tomMatch44NameNumber_freshVar_226.getString() ;if ( true ) {





        if(getSymbolTable(moduleName).isUsedSymbolDestructor(tomMatch44NameNumber_freshVar_210)) {
          buildGetElementDecl(deep,tomMatch44NameNumber_freshVar_205,tomMatch44NameNumber_freshVar_215,tomMatch44NameNumber_freshVar_225,tomMatch44NameNumber_freshVar_220,tomMatch44NameNumber_freshVar_218,tomMatch44NameNumber_freshVar_208,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_230=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_230 instanceof tom.engine.adt.tomdeclaration.types.declaration.GetSizeDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_227= tomMatch44NameNumber_freshVar_230.getOpname() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_228= tomMatch44NameNumber_freshVar_230.getVariable() ;{  tom.engine.adt.tomexpression.types.Expression  tomMatch44NameNumber_freshVar_229= tomMatch44NameNumber_freshVar_230.getExpr() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_232=tomMatch44NameNumber_freshVar_227;if ( (tomMatch44NameNumber_freshVar_232 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_231= tomMatch44NameNumber_freshVar_232.getString() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_235=tomMatch44NameNumber_freshVar_228;if ( (tomMatch44NameNumber_freshVar_235 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_233= tomMatch44NameNumber_freshVar_235.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_234= tomMatch44NameNumber_freshVar_235.getAstType() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_237=tomMatch44NameNumber_freshVar_233;if ( (tomMatch44NameNumber_freshVar_237 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_236= tomMatch44NameNumber_freshVar_237.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_240=tomMatch44NameNumber_freshVar_234;if ( (tomMatch44NameNumber_freshVar_240 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_238= tomMatch44NameNumber_freshVar_240.getTomType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_239= tomMatch44NameNumber_freshVar_240.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_242=tomMatch44NameNumber_freshVar_238;if ( (tomMatch44NameNumber_freshVar_242 instanceof tom.engine.adt.tomtype.types.tomtype.ASTTomType) ) {{  String  tomMatch44NameNumber_freshVar_241= tomMatch44NameNumber_freshVar_242.getString() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_243=tomMatch44NameNumber_freshVar_239;if ( (tomMatch44NameNumber_freshVar_243 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





	  if(getSymbolTable(moduleName).isUsedSymbolDestructor(tomMatch44NameNumber_freshVar_231)) {
	    buildGetSizeDecl(deep,tomMatch44NameNumber_freshVar_227,tomMatch44NameNumber_freshVar_236,tomMatch44NameNumber_freshVar_241,tomMatch44NameNumber_freshVar_239,tomMatch44NameNumber_freshVar_229,moduleName);
	  }
	  return;
	}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_248=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_248 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeEmptyArray) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_244= tomMatch44NameNumber_freshVar_248.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_245= tomMatch44NameNumber_freshVar_248.getVarSize() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch44NameNumber_freshVar_246= tomMatch44NameNumber_freshVar_248.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_247= tomMatch44NameNumber_freshVar_248.getOrgTrack() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_250=tomMatch44NameNumber_freshVar_244;if ( (tomMatch44NameNumber_freshVar_250 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_249= tomMatch44NameNumber_freshVar_250.getString() ;{  String  tom_opname=tomMatch44NameNumber_freshVar_249;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_254=tomMatch44NameNumber_freshVar_245;if ( (tomMatch44NameNumber_freshVar_254 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomoption.types.OptionList  tomMatch44NameNumber_freshVar_251= tomMatch44NameNumber_freshVar_254.getOption() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_252= tomMatch44NameNumber_freshVar_254.getAstName() ;{  tom.engine.adt.tomconstraint.types.ConstraintList  tomMatch44NameNumber_freshVar_253= tomMatch44NameNumber_freshVar_254.getConstraints() ;if ( true ) {




        TomType returnType = TomBase.getSymbolCodomain(getSymbolFromName(tom_opname));
        TomTerm newVar =  tom.engine.adt.tomterm.types.tomterm.Variable.make(tomMatch44NameNumber_freshVar_251, tomMatch44NameNumber_freshVar_252, getSymbolTable(moduleName).getIntType(), tomMatch44NameNumber_freshVar_253) ;
        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname)) {
          genDeclMake("tom_empty_array_",tom_opname,returnType, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(newVar, tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ) ,tomMatch44NameNumber_freshVar_246,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_260=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_260 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeAddArray) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_255= tomMatch44NameNumber_freshVar_260.getAstName() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_256= tomMatch44NameNumber_freshVar_260.getVarElt() ;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_257= tomMatch44NameNumber_freshVar_260.getVarList() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch44NameNumber_freshVar_258= tomMatch44NameNumber_freshVar_260.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_259= tomMatch44NameNumber_freshVar_260.getOrgTrack() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_262=tomMatch44NameNumber_freshVar_255;if ( (tomMatch44NameNumber_freshVar_262 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_261= tomMatch44NameNumber_freshVar_262.getString() ;{  String  tom_opname=tomMatch44NameNumber_freshVar_261;{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_264=tomMatch44NameNumber_freshVar_256;if ( (tomMatch44NameNumber_freshVar_264 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_263= tomMatch44NameNumber_freshVar_264.getAstType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_266=tomMatch44NameNumber_freshVar_263;if ( (tomMatch44NameNumber_freshVar_266 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_265= tomMatch44NameNumber_freshVar_266.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_267=tomMatch44NameNumber_freshVar_265;if ( (tomMatch44NameNumber_freshVar_267 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {{  tom.engine.adt.tomterm.types.TomTerm  tomMatch44NameNumber_freshVar_269=tomMatch44NameNumber_freshVar_257;if ( (tomMatch44NameNumber_freshVar_269 instanceof tom.engine.adt.tomterm.types.tomterm.Variable) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_268= tomMatch44NameNumber_freshVar_269.getAstType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_271=tomMatch44NameNumber_freshVar_268;if ( (tomMatch44NameNumber_freshVar_271 instanceof tom.engine.adt.tomtype.types.tomtype.Type) ) {{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_270= tomMatch44NameNumber_freshVar_271.getTlType() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_272=tomMatch44NameNumber_freshVar_270;if ( (tomMatch44NameNumber_freshVar_272 instanceof tom.engine.adt.tomtype.types.tomtype.TLType) ) {if ( true ) {





        TomType returnType = tomMatch44NameNumber_freshVar_268;
        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname)) {
          genDeclMake("tom_cons_array_",tom_opname,returnType, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(tomMatch44NameNumber_freshVar_256, tom.engine.adt.tomterm.types.tomlist.ConsconcTomTerm.make(tomMatch44NameNumber_freshVar_257, tom.engine.adt.tomterm.types.tomlist.EmptyconcTomTerm.make() ) ) ,tomMatch44NameNumber_freshVar_258,moduleName);
        }
        return;
      }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_278=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_278 instanceof tom.engine.adt.tomdeclaration.types.declaration.MakeDecl) ) {{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_273= tomMatch44NameNumber_freshVar_278.getAstName() ;{  tom.engine.adt.tomtype.types.TomType  tomMatch44NameNumber_freshVar_274= tomMatch44NameNumber_freshVar_278.getAstType() ;{  tom.engine.adt.tomterm.types.TomList  tomMatch44NameNumber_freshVar_275= tomMatch44NameNumber_freshVar_278.getArgs() ;{  tom.engine.adt.tominstruction.types.Instruction  tomMatch44NameNumber_freshVar_276= tomMatch44NameNumber_freshVar_278.getInstr() ;{  tom.engine.adt.tomoption.types.Option  tomMatch44NameNumber_freshVar_277= tomMatch44NameNumber_freshVar_278.getOrgTrack() ;{  tom.engine.adt.tomname.types.TomName  tomMatch44NameNumber_freshVar_280=tomMatch44NameNumber_freshVar_273;if ( (tomMatch44NameNumber_freshVar_280 instanceof tom.engine.adt.tomname.types.tomname.Name) ) {{  String  tomMatch44NameNumber_freshVar_279= tomMatch44NameNumber_freshVar_280.getString() ;{  String  tom_opname=tomMatch44NameNumber_freshVar_279;if ( true ) {


        if(getSymbolTable(moduleName).isUsedSymbolConstructor(tom_opname)) {
          genDeclMake("tom_make_",tom_opname,tomMatch44NameNumber_freshVar_274,tomMatch44NameNumber_freshVar_275,tomMatch44NameNumber_freshVar_276,moduleName);
        }
        return;
      }}}}}}}}}}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumber_freshVar_282=tomMatch44NameNumberfreshSubject_1;if ( (tomMatch44NameNumber_freshVar_282 instanceof tom.engine.adt.tomdeclaration.types.declaration.TypeTermDecl) ) {{  tom.engine.adt.tomdeclaration.types.DeclarationList  tomMatch44NameNumber_freshVar_281= tomMatch44NameNumber_freshVar_282.getDeclarations() ;if ( true ) {


        generateDeclarationList(deep, tomMatch44NameNumber_freshVar_281, moduleName);
        return;
      }}}}}}if ( (subject instanceof tom.engine.adt.tomdeclaration.types.Declaration) ) {{  tom.engine.adt.tomdeclaration.types.Declaration  tomMatch44NameNumberfreshSubject_1=(( tom.engine.adt.tomdeclaration.types.Declaration )subject);{  tom.engine.adt.tomdeclaration.types.Declaration  tom_t=tomMatch44NameNumberfreshSubject_1;if ( true ) {


        System.out.println("Cannot generate code for declaration: " + tom_t);
        throw new TomRuntimeException("Cannot generate code for declaration: " + tom_t);
      }}}}}

  }

  public void generateListInclude(int deep, TomList subject, String moduleName) throws IOException {
    output.setSingleLine();
    generateList(deep, subject, moduleName);
    output.unsetSingleLine();
  }

  public void generateList(int deep, TomList subject, String moduleName)
    throws IOException {
    while(!subject.isEmptyconcTomTerm()) {
      generate(deep, subject.getHeadconcTomTerm(), moduleName);
      subject = subject.getTailconcTomTerm();
    }
  }

  public void generateOptionList(int deep, OptionList subject, String moduleName)
    throws IOException {
    while(!subject.isEmptyconcOption()) {
      generateOption(deep,subject.getHeadconcOption(), moduleName);
      subject = subject.getTailconcOption();
    }
  }

  public void generateInstructionList(int deep, InstructionList subject, String moduleName)
    throws IOException {
    while(!subject.isEmptyconcInstruction()) {
      generateInstruction(deep,subject.getHeadconcInstruction(), moduleName);
      subject = subject.getTailconcInstruction();
    }
    if(prettyMode) {
      output.writeln();
    }
  }

  public void generateDeclarationList(int deep, DeclarationList subject, String moduleName)
    throws IOException {
    while(!subject.isEmptyconcDeclaration()) {
      generateDeclaration(deep,subject.getHeadconcDeclaration(), moduleName);
      subject = subject.getTailconcDeclaration();
    }
  }

  public void generatePairNameDeclList(int deep, PairNameDeclList pairNameDeclList, String moduleName)
    throws IOException {
    while ( !pairNameDeclList.isEmptyconcPairNameDecl() ) {
      generateDeclaration(deep, pairNameDeclList.getHeadconcPairNameDecl().getSlotDecl(), moduleName);
      pairNameDeclList = pairNameDeclList.getTailconcPairNameDecl();
    }
  }

    // ------------------------------------------------------------

  protected abstract void genDecl(String returnType,
                                  String declName,
                                  String suffix,
                                  String args[],
                                  TargetLanguage tlCode,
                                  String moduleName) throws IOException;

  protected abstract void genDeclInstr(String returnType,
                                       String declName,
                                       String suffix,
                                       String args[],
                                       Instruction instr,
                                       int deep,
                                       String moduleName) throws IOException;

  protected abstract void genDeclMake(String prefix, String funName, TomType returnType,
                                      TomList argList, Instruction instr, String moduleName) throws IOException;

  protected abstract void genDeclList(String name, String moduleName) throws IOException;

  protected abstract void genDeclArray(String name, String moduleName) throws IOException;

  // ------------------------------------------------------------

  protected abstract void buildInstructionSequence(int deep, InstructionList instructionList, String moduleName) throws IOException;
  protected abstract void buildComment(int deep, String text) throws IOException;
  protected abstract void buildTerm(int deep, String name, TomList argList, String moduleName) throws IOException;
  protected abstract void buildRef(int deep, TomTerm term, String moduleName) throws IOException;
  protected abstract void buildListOrArray(int deep, TomTerm list, String moduleName) throws IOException;

  protected abstract void buildFunctionCall(int deep, String name, TomList argList, String moduleName)  throws IOException;
  protected abstract void buildFunctionDef(int deep, String tomName, TomList argList, TomType codomain, TomType throwsType, Instruction instruction, String moduleName) throws IOException;
  protected void buildMethodDef(int deep, String tomName, TomList argList, TomType codomain, TomType throwsType, Instruction instruction, String moduleName) throws IOException {
    throw new TomRuntimeException("Backend "+getClass()+" does not support Methods");
  }

  /*buildClass is not abstract since only Java backend supports class
    only backends that supports Class should overload buildClass
   */
  protected void buildClass(int deep, String tomName, TomForwardType extendsFwdType, TomTerm superTerm, Declaration declaration, String moduleName) throws IOException {
    throw new TomRuntimeException("Backend does not support Class");
  }

  /*buildIntrospectorClass is not abstract since only Java backend supports class
    only backends that supports Class should overload buildIntrospectorClass
   */
  protected void buildIntrospectorClass(int deep, String tomName, Declaration declaration, String moduleName) throws IOException {
    throw new TomRuntimeException("Backend does not support Class");
  }

  protected abstract void buildExpNegation(int deep, Expression exp, String moduleName) throws IOException;

  protected abstract void buildExpConditional(int deep, Expression cond,Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpAnd(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpOr(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpGreaterThan(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpGreaterOrEqualThan(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpLessThan(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpLessOrEqualThan(int deep, Expression exp1, Expression exp2, String moduleName) throws IOException;
  protected abstract void buildExpBottom(int deep, TomType type, String moduleName) throws IOException;
  protected abstract void buildExpTrue(int deep) throws IOException;
  protected abstract void buildExpFalse(int deep) throws IOException;
  protected abstract void buildExpIsEmptyList(int deep, String opName, TomType type, TomTerm expList, String moduleName) throws IOException;
  protected abstract void buildExpIsEmptyArray(int deep, TomName opName, TomType type, TomTerm expIndex, TomTerm expArray, String moduleName) throws IOException;
  protected abstract void buildExpEqualTerm(int deep, TomType type, TomTerm exp1,TomTerm exp2, String moduleName) throws IOException;
  protected abstract void buildExpIsSort(int deep, String type, TomTerm exp, String moduleName) throws IOException;
  protected abstract void buildExpIsFsym(int deep, String opname, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildExpCast(int deep, TomType type, Expression exp, String moduleName) throws IOException;
  protected abstract void buildExpGetSlot(int deep, String opname, String slotName, TomTerm exp, String moduleName) throws IOException;
  protected abstract void buildExpGetHead(int deep, String opName, TomType domain, TomType codomain, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildExpGetTail(int deep, String opName, TomType type1, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildExpGetSize(int deep, TomName opNameAST, TomType type1, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildExpGetElement(int deep, TomName opNameAST, TomType domain, TomType codomain, TomTerm varName, TomTerm varIndex, String moduleName) throws IOException;
  protected abstract void buildExpGetSliceList(int deep, String name, TomTerm varBegin, TomTerm varEnd, TomTerm tailSlice, String moduleName) throws IOException;
  protected abstract void buildExpGetSliceArray(int deep, String name, TomTerm varArray, TomTerm varBegin, TomTerm expEnd, String moduleName) throws IOException;
  protected abstract void buildAssignVar(int deep, TomTerm var, OptionList list, Expression exp, String moduleName) throws IOException ;
  protected abstract void buildLetAssign(int deep, TomTerm var, OptionList list, Expression exp, Instruction body, String moduleName) throws IOException ;
  protected abstract void buildLet(int deep, TomTerm var, OptionList list, TomType tlType, Expression exp, Instruction body, String moduleName) throws IOException ;
  protected abstract void buildLetRef(int deep, TomTerm var, OptionList list, TomType tlType, Expression exp, Instruction body, String moduleName) throws IOException ;
  protected abstract void buildNamedBlock(int deep, String blockName, InstructionList instList, String modulename) throws IOException ;
  protected abstract void buildUnamedBlock(int deep, InstructionList instList, String moduleName) throws IOException ;
  protected abstract void buildIf(int deep, Expression exp, Instruction succes, String moduleName) throws IOException ;
  protected abstract void buildIfWithFailure(int deep, Expression exp, Instruction succes, Instruction failure, String moduleName) throws IOException ;
  protected abstract void buildDoWhile(int deep, Instruction succes, Expression exp, String moduleName) throws IOException;
  protected abstract void buildWhileDo(int deep, Expression exp, Instruction succes, String moduleName) throws IOException;
  protected abstract void buildAddOne(int deep, TomTerm var, String moduleName) throws IOException;
  protected abstract void buildReturn(int deep, TomTerm exp, String moduleName) throws IOException ;
  protected abstract void buildSymbolDecl(int deep, String tomName, String moduleName) throws IOException ;
  protected abstract void buildGetImplementationDecl(int deep, String type, String name,
      TomType tlType, Instruction instr, String moduleName) throws IOException;

  protected abstract void buildIsFsymDecl(int deep, String tomName, String name1,
      TomType tlType, Expression code, String moduleName) throws IOException;
  protected abstract void buildGetSlotDecl(int deep, String tomName, String name1,
      TomType tlType, Expression code, TomName slotName, String moduleName) throws IOException;
  protected abstract void buildEqualTermDecl(int deep, String name1, String name2, String type1, String type2, Expression code, String moduleName) throws IOException;
  protected abstract void buildIsSortDecl(int deep, String name1, 
      String type1, Expression expr, String moduleName) throws IOException;
  protected abstract void buildGetHeadDecl(int deep, TomName opNameAST, String varName, String suffix, TomType domain, TomType codomain, Expression code, String moduleName) throws IOException;
  protected abstract void buildGetTailDecl(int deep, TomName opNameAST, String varName, String type, TomType tlType, Expression code, String moduleName) throws IOException;
  protected abstract void buildIsEmptyDecl(int deep, TomName opNameAST, String varName, String type,
      TomType tlType, Expression code, String moduleName) throws IOException;
  protected abstract void buildGetElementDecl(int deep, TomName opNameAST, String name1, String name2, String type1, TomType tlType1, Expression code, String moduleName) throws IOException;
  protected abstract void buildGetSizeDecl(int deep, TomName opNameAST, String name1, String type, TomType tlType, Expression code, String moduleName) throws IOException;

} // class TomAbstractGenerator

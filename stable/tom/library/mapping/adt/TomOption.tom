%include { string.tom }
%include { int.tom }
%include { double.tom }
%include { aterm.tom }
%include { atermlist.tom }
%typeterm Expression{
  implement { jtom.adt.tomsignature.types.Expression}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.Expression)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op Expression TomTermToExpression(astTerm:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomTermToExpression()}
  get_slot(astTerm,t) { t.getAstTerm()}
  make(t0) { getTomOptionFactory().makeExpression_TomTermToExpression(t0)}
}

%op Expression Not(arg:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isNot()}
  get_slot(arg,t) { t.getArg()}
  make(t0) { getTomOptionFactory().makeExpression_Not(t0)}
}

%op Expression And(arg1:Expression, arg2:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAnd()}
  get_slot(arg1,t) { t.getArg1()}
  get_slot(arg2,t) { t.getArg2()}
  make(t0, t1) { getTomOptionFactory().makeExpression_And(t0, t1)}
}

%op Expression Or(arg1:Expression, arg2:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isOr()}
  get_slot(arg1,t) { t.getArg1()}
  get_slot(arg2,t) { t.getArg2()}
  make(t0, t1) { getTomOptionFactory().makeExpression_Or(t0, t1)}
}

%op Expression GreaterThan(arg1:Expression, arg2:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGreaterThan()}
  get_slot(arg1,t) { t.getArg1()}
  get_slot(arg2,t) { t.getArg2()}
  make(t0, t1) { getTomOptionFactory().makeExpression_GreaterThan(t0, t1)}
}

%op Expression TrueTL {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTrueTL()}
  make() { getTomOptionFactory().makeExpression_TrueTL()}
}

%op Expression FalseTL {
  fsym {}
  is_fsym(t) { (t!= null) && t.isFalseTL()}
  make() { getTomOptionFactory().makeExpression_FalseTL()}
}

%op Expression IsEmptyList(kid1:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isIsEmptyList()}
  get_slot(kid1,t) { t.getKid1()}
  make(t0) { getTomOptionFactory().makeExpression_IsEmptyList(t0)}
}

%op Expression IsEmptyArray(kid1:TomTerm, kid2:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isIsEmptyArray()}
  get_slot(kid1,t) { t.getKid1()}
  get_slot(kid2,t) { t.getKid2()}
  make(t0, t1) { getTomOptionFactory().makeExpression_IsEmptyArray(t0, t1)}
}

%op Expression EqualFunctionSymbol(astType:TomType, exp1:TomTerm, exp2:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEqualFunctionSymbol()}
  get_slot(astType,t) { t.getAstType()}
  get_slot(exp1,t) { t.getExp1()}
  get_slot(exp2,t) { t.getExp2()}
  make(t0, t1, t2) { getTomOptionFactory().makeExpression_EqualFunctionSymbol(t0, t1, t2)}
}

%op Expression EqualTerm(tomType:TomType, kid1:TomTerm, kid2:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEqualTerm()}
  get_slot(tomType,t) { t.getTomType()}
  get_slot(kid1,t) { t.getKid1()}
  get_slot(kid2,t) { t.getKid2()}
  make(t0, t1, t2) { getTomOptionFactory().makeExpression_EqualTerm(t0, t1, t2)}
}

%op Expression Cast(astType:TomType, source:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isCast()}
  get_slot(astType,t) { t.getAstType()}
  get_slot(source,t) { t.getSource()}
  make(t0, t1) { getTomOptionFactory().makeExpression_Cast(t0, t1)}
}

%op Expression GetSubterm(codomain:TomType, variable:TomTerm, number:TomNumber) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetSubterm()}
  get_slot(codomain,t) { t.getCodomain()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(number,t) { t.getNumber()}
  make(t0, t1, t2) { getTomOptionFactory().makeExpression_GetSubterm(t0, t1, t2)}
}

%op Expression IsFsym(astName:TomName, variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isIsFsym()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(variable,t) { t.getVariable()}
  make(t0, t1) { getTomOptionFactory().makeExpression_IsFsym(t0, t1)}
}

%op Expression GetSlot(codomain:TomType, astName:TomName, slotNameString:String, variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetSlot()}
  get_slot(codomain,t) { t.getCodomain()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(slotNameString,t) { t.getSlotNameString()}
  get_slot(variable,t) { t.getVariable()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeExpression_GetSlot(t0, t1, t2, t3)}
}

%op Expression GetHead(codomain:TomType, variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetHead()}
  get_slot(codomain,t) { t.getCodomain()}
  get_slot(variable,t) { t.getVariable()}
  make(t0, t1) { getTomOptionFactory().makeExpression_GetHead(t0, t1)}
}

%op Expression GetTail(variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetTail()}
  get_slot(variable,t) { t.getVariable()}
  make(t0) { getTomOptionFactory().makeExpression_GetTail(t0)}
}

%op Expression AddOne(variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAddOne()}
  get_slot(variable,t) { t.getVariable()}
  make(t0) { getTomOptionFactory().makeExpression_AddOne(t0)}
}

%op Expression GetSize(variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetSize()}
  get_slot(variable,t) { t.getVariable()}
  make(t0) { getTomOptionFactory().makeExpression_GetSize(t0)}
}

%op Expression GetElement(codomain:TomType, kid1:TomTerm, kid2:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetElement()}
  get_slot(codomain,t) { t.getCodomain()}
  get_slot(kid1,t) { t.getKid1()}
  get_slot(kid2,t) { t.getKid2()}
  make(t0, t1, t2) { getTomOptionFactory().makeExpression_GetElement(t0, t1, t2)}
}

%op Expression GetSliceList(astName:TomName, variableBeginAST:TomTerm, variableEndAST:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetSliceList()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(variableBeginAST,t) { t.getVariableBeginAST()}
  get_slot(variableEndAST,t) { t.getVariableEndAST()}
  make(t0, t1, t2) { getTomOptionFactory().makeExpression_GetSliceList(t0, t1, t2)}
}

%op Expression GetSliceArray(astName:TomName, subjectListName:TomTerm, variableBeginAST:TomTerm, variableEndAST:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetSliceArray()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(subjectListName,t) { t.getSubjectListName()}
  get_slot(variableBeginAST,t) { t.getVariableBeginAST()}
  get_slot(variableEndAST,t) { t.getVariableEndAST()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeExpression_GetSliceArray(t0, t1, t2, t3)}
}

%typeterm Instruction{
  implement { jtom.adt.tomsignature.types.Instruction}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.Instruction)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op Instruction TomTermToInstruction(tom:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomTermToInstruction()}
  get_slot(tom,t) { t.getTom()}
  make(t0) { getTomOptionFactory().makeInstruction_TomTermToInstruction(t0)}
}

%op Instruction TargetLanguageToInstruction(tl:TargetLanguage) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTargetLanguageToInstruction()}
  get_slot(tl,t) { t.getTl()}
  make(t0) { getTomOptionFactory().makeInstruction_TargetLanguageToInstruction(t0)}
}

%op Instruction IfThenElse(condition:Expression, succesInst:Instruction, failureInst:Instruction) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isIfThenElse()}
  get_slot(condition,t) { t.getCondition()}
  get_slot(succesInst,t) { t.getSuccesInst()}
  get_slot(failureInst,t) { t.getFailureInst()}
  make(t0, t1, t2) { getTomOptionFactory().makeInstruction_IfThenElse(t0, t1, t2)}
}

%op Instruction DoWhile(doInst:Instruction, condition:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isDoWhile()}
  get_slot(doInst,t) { t.getDoInst()}
  get_slot(condition,t) { t.getCondition()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_DoWhile(t0, t1)}
}

%op Instruction WhileDo(condition:Expression, doInst:Instruction) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isWhileDo()}
  get_slot(condition,t) { t.getCondition()}
  get_slot(doInst,t) { t.getDoInst()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_WhileDo(t0, t1)}
}

%op Instruction Assign(variable:TomTerm, source:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAssign()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(source,t) { t.getSource()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_Assign(t0, t1)}
}

%op Instruction Let(variable:TomTerm, source:Expression, astInstruction:Instruction) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isLet()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(source,t) { t.getSource()}
  get_slot(astInstruction,t) { t.getAstInstruction()}
  make(t0, t1, t2) { getTomOptionFactory().makeInstruction_Let(t0, t1, t2)}
}

%op Instruction LetRef(variable:TomTerm, source:Expression, astInstruction:Instruction) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isLetRef()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(source,t) { t.getSource()}
  get_slot(astInstruction,t) { t.getAstInstruction()}
  make(t0, t1, t2) { getTomOptionFactory().makeInstruction_LetRef(t0, t1, t2)}
}

%op Instruction LetAssign(variable:TomTerm, source:Expression, astInstruction:Instruction) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isLetAssign()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(source,t) { t.getSource()}
  get_slot(astInstruction,t) { t.getAstInstruction()}
  make(t0, t1, t2) { getTomOptionFactory().makeInstruction_LetAssign(t0, t1, t2)}
}

%op Instruction AssignMatchSubject(kid1:TomTerm, source:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAssignMatchSubject()}
  get_slot(kid1,t) { t.getKid1()}
  get_slot(source,t) { t.getSource()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_AssignMatchSubject(t0, t1)}
}

%op Instruction Return(kid1:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isReturn()}
  get_slot(kid1,t) { t.getKid1()}
  make(t0) { getTomOptionFactory().makeInstruction_Return(t0)}
}

%op Instruction Nop {
  fsym {}
  is_fsym(t) { (t!= null) && t.isNop()}
  make() { getTomOptionFactory().makeInstruction_Nop()}
}

%op Instruction AbstractBlock(instList:InstructionList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAbstractBlock()}
  get_slot(instList,t) { t.getInstList()}
  make(t0) { getTomOptionFactory().makeInstruction_AbstractBlock(t0)}
}

%op Instruction UnamedBlock(instList:InstructionList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isUnamedBlock()}
  get_slot(instList,t) { t.getInstList()}
  make(t0) { getTomOptionFactory().makeInstruction_UnamedBlock(t0)}
}

%op Instruction NamedBlock(blockName:String, instList:InstructionList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isNamedBlock()}
  get_slot(blockName,t) { t.getBlockName()}
  get_slot(instList,t) { t.getInstList()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_NamedBlock(t0, t1)}
}

%op Instruction RuleSet(ruleList:TomRuleList, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isRuleSet()}
  get_slot(ruleList,t) { t.getRuleList()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_RuleSet(t0, t1)}
}

%op Instruction Match(subjectList:TomTerm, astPatternList:TomTerm, option:OptionList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMatch()}
  get_slot(subjectList,t) { t.getSubjectList()}
  get_slot(astPatternList,t) { t.getAstPatternList()}
  get_slot(option,t) { t.getOption()}
  make(t0, t1, t2) { getTomOptionFactory().makeInstruction_Match(t0, t1, t2)}
}

%op Instruction CompiledMatch(automataInst:Instruction, option:OptionList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isCompiledMatch()}
  get_slot(automataInst,t) { t.getAutomataInst()}
  get_slot(option,t) { t.getOption()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_CompiledMatch(t0, t1)}
}

%op Instruction CompiledPattern(patternList:TomList, automataInst:Instruction) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isCompiledPattern()}
  get_slot(patternList,t) { t.getPatternList()}
  get_slot(automataInst,t) { t.getAutomataInst()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_CompiledPattern(t0, t1)}
}

%op Instruction MatchingCondition(lhs:TomTerm, rhs:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMatchingCondition()}
  get_slot(lhs,t) { t.getLhs()}
  get_slot(rhs,t) { t.getRhs()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_MatchingCondition(t0, t1)}
}

%op Instruction TypedEqualityCondition(tomType:TomType, lhs:TomTerm, rhs:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTypedEqualityCondition()}
  get_slot(tomType,t) { t.getTomType()}
  get_slot(lhs,t) { t.getLhs()}
  get_slot(rhs,t) { t.getRhs()}
  make(t0, t1, t2) { getTomOptionFactory().makeInstruction_TypedEqualityCondition(t0, t1, t2)}
}

%op Instruction EqualityCondition(lhs:TomTerm, rhs:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEqualityCondition()}
  get_slot(lhs,t) { t.getLhs()}
  get_slot(rhs,t) { t.getRhs()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_EqualityCondition(t0, t1)}
}

%op Instruction LocalVariable {
  fsym {}
  is_fsym(t) { (t!= null) && t.isLocalVariable()}
  make() { getTomOptionFactory().makeInstruction_LocalVariable()}
}

%op Instruction EndLocalVariable {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEndLocalVariable()}
  make() { getTomOptionFactory().makeInstruction_EndLocalVariable()}
}

%op Instruction MakeFunctionBegin(astName:TomName, subjectListAST:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMakeFunctionBegin()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(subjectListAST,t) { t.getSubjectListAST()}
  make(t0, t1) { getTomOptionFactory().makeInstruction_MakeFunctionBegin(t0, t1)}
}

%op Instruction MakeFunctionEnd {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMakeFunctionEnd()}
  make() { getTomOptionFactory().makeInstruction_MakeFunctionEnd()}
}

%op Instruction CheckStamp(variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isCheckStamp()}
  get_slot(variable,t) { t.getVariable()}
  make(t0) { getTomOptionFactory().makeInstruction_CheckStamp(t0)}
}

%typelist InstructionList{
  implement { jtom.adt.tomsignature.types.InstructionList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.InstructionList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist InstructionList concInstruction(Instruction*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortInstructionList()}
  make_empty() {getTomOptionFactory().makeInstructionList()}
  make_insert(e,l) {getTomOptionFactory().makeInstructionList(e,l)}
}
%op InstructionList emptyInstructionList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeInstructionList()}
}
%op InstructionList manyInstructionList(head:Instruction, tail:InstructionList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeInstructionList(e,l)}
}
%typeterm TargetLanguage{
  implement { jtom.adt.tomsignature.types.TargetLanguage}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TargetLanguage)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TargetLanguage TL(code:String, start:Position, end:Position) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTL()}
  get_slot(code,t) { t.getCode()}
  get_slot(start,t) { t.getStart()}
  get_slot(end,t) { t.getEnd()}
  make(t0, t1, t2) { getTomOptionFactory().makeTargetLanguage_TL(t0, t1, t2)}
}

%op TargetLanguage ITL(code:String) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isITL()}
  get_slot(code,t) { t.getCode()}
  make(t0) { getTomOptionFactory().makeTargetLanguage_ITL(t0)}
}

%op TargetLanguage Comment(code:String) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isComment()}
  get_slot(code,t) { t.getCode()}
  make(t0) { getTomOptionFactory().makeTargetLanguage_Comment(t0)}
}

%typeterm Position{
  implement { jtom.adt.tomsignature.types.Position}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.Position)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op Position TextPosition(line:int, column:int) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTextPosition()}
  get_slot(line,t) { t.getLine()}
  get_slot(column,t) { t.getColumn()}
  make(t0, t1) { getTomOptionFactory().makePosition_TextPosition(t0, t1)}
}

%typeterm TomType{
  implement { jtom.adt.tomsignature.types.TomType}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomType)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomType Type(tomType:TomType, tlType:TomType) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isType()}
  get_slot(tomType,t) { t.getTomType()}
  get_slot(tlType,t) { t.getTlType()}
  make(t0, t1) { getTomOptionFactory().makeTomType_Type(t0, t1)}
}

%op TomType TypesToType(domain:TomTypeList, codomain:TomType) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTypesToType()}
  get_slot(domain,t) { t.getDomain()}
  get_slot(codomain,t) { t.getCodomain()}
  make(t0, t1) { getTomOptionFactory().makeTomType_TypesToType(t0, t1)}
}

%op TomType ASTTomType(string:String) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isASTTomType()}
  get_slot(string,t) { t.getString()}
  make(t0) { getTomOptionFactory().makeTomType_ASTTomType(t0)}
}

%op TomType TomTypeAlone(string:String) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomTypeAlone()}
  get_slot(string,t) { t.getString()}
  make(t0) { getTomOptionFactory().makeTomType_TomTypeAlone(t0)}
}

%op TomType TLType(tl:TargetLanguage) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTLType()}
  get_slot(tl,t) { t.getTl()}
  make(t0) { getTomOptionFactory().makeTomType_TLType(t0)}
}

%op TomType EmptyType {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEmptyType()}
  make() { getTomOptionFactory().makeTomType_EmptyType()}
}

%typeterm TomRule{
  implement { jtom.adt.tomsignature.types.TomRule}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomRule)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomRule RewriteRule(lhs:TomTerm, rhs:TomTerm, condList:InstructionList, option:OptionList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isRewriteRule()}
  get_slot(lhs,t) { t.getLhs()}
  get_slot(rhs,t) { t.getRhs()}
  get_slot(condList,t) { t.getCondList()}
  get_slot(option,t) { t.getOption()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeTomRule_RewriteRule(t0, t1, t2, t3)}
}

%typeterm TomSymbol{
  implement { jtom.adt.tomsignature.types.TomSymbol}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomSymbol)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomSymbol emptySymbol {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEmptySymbol()}
  make() { getTomOptionFactory().makeTomSymbol_EmptySymbol()}
}

%op TomSymbol Symbol(astName:TomName, typesToType:TomType, slotList:SlotList, option:OptionList, tlCode:TargetLanguage) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isSymbol()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(typesToType,t) { t.getTypesToType()}
  get_slot(slotList,t) { t.getSlotList()}
  get_slot(option,t) { t.getOption()}
  get_slot(tlCode,t) { t.getTlCode()}
  make(t0, t1, t2, t3, t4) { getTomOptionFactory().makeTomSymbol_Symbol(t0, t1, t2, t3, t4)}
}

%typeterm PairNameDecl{
  implement { jtom.adt.tomsignature.types.PairNameDecl}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.PairNameDecl)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op PairNameDecl Slot(slotName:TomName, slotDecl:Declaration) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isSlot()}
  get_slot(slotName,t) { t.getSlotName()}
  get_slot(slotDecl,t) { t.getSlotDecl()}
  make(t0, t1) { getTomOptionFactory().makePairNameDecl_Slot(t0, t1)}
}

%typeterm TomSymbolTable{
  implement { jtom.adt.tomsignature.types.TomSymbolTable}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomSymbolTable)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomSymbolTable Table(entryList:TomEntryList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTable()}
  get_slot(entryList,t) { t.getEntryList()}
  make(t0) { getTomOptionFactory().makeTomSymbolTable_Table(t0)}
}

%typeterm TomEntry{
  implement { jtom.adt.tomsignature.types.TomEntry}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomEntry)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomEntry Entry(strName:String, astSymbol:TomSymbol) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEntry()}
  get_slot(strName,t) { t.getStrName()}
  get_slot(astSymbol,t) { t.getAstSymbol()}
  make(t0, t1) { getTomOptionFactory().makeTomEntry_Entry(t0, t1)}
}

%typeterm TomStructureTable{
  implement { jtom.adt.tomsignature.types.TomStructureTable}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomStructureTable)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomStructureTable StructTable(structList:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isStructTable()}
  get_slot(structList,t) { t.getStructList()}
  make(t0) { getTomOptionFactory().makeTomStructureTable_StructTable(t0)}
}

%typelist TomRuleList{
  implement { jtom.adt.tomsignature.types.TomRuleList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomRuleList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist TomRuleList concTomRule(TomRule*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortTomRuleList()}
  make_empty() {getTomOptionFactory().makeTomRuleList()}
  make_insert(e,l) {getTomOptionFactory().makeTomRuleList(e,l)}
}
%op TomRuleList emptyTomRuleList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeTomRuleList()}
}
%op TomRuleList manyTomRuleList(head:TomRule, tail:TomRuleList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeTomRuleList(e,l)}
}
%typelist TomTypeList{
  implement { jtom.adt.tomsignature.types.TomTypeList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomTypeList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist TomTypeList concTomType(TomType*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortTomTypeList()}
  make_empty() {getTomOptionFactory().makeTomTypeList()}
  make_insert(e,l) {getTomOptionFactory().makeTomTypeList(e,l)}
}
%op TomTypeList emptyTomTypeList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeTomTypeList()}
}
%op TomTypeList manyTomTypeList(head:TomType, tail:TomTypeList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeTomTypeList(e,l)}
}
%typelist SlotList{
  implement { jtom.adt.tomsignature.types.SlotList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.SlotList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist SlotList concPairNameDecl(PairNameDecl*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortSlotList()}
  make_empty() {getTomOptionFactory().makeSlotList()}
  make_insert(e,l) {getTomOptionFactory().makeSlotList(e,l)}
}
%op SlotList emptySlotList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeSlotList()}
}
%op SlotList manySlotList(head:PairNameDecl, tail:SlotList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeSlotList(e,l)}
}
%typelist TomEntryList{
  implement { jtom.adt.tomsignature.types.TomEntryList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomEntryList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist TomEntryList concTomEntry(TomEntry*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortTomEntryList()}
  make_empty() {getTomOptionFactory().makeTomEntryList()}
  make_insert(e,l) {getTomOptionFactory().makeTomEntryList(e,l)}
}
%op TomEntryList emptyTomEntryList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeTomEntryList()}
}
%op TomEntryList manyTomEntryList(head:TomEntry, tail:TomEntryList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeTomEntryList(e,l)}
}
%typelist SymbolList{
  implement { jtom.adt.tomsignature.types.SymbolList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.SymbolList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist SymbolList concTomSymbol(TomSymbol*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortSymbolList()}
  make_empty() {getTomOptionFactory().makeSymbolList()}
  make_insert(e,l) {getTomOptionFactory().makeSymbolList(e,l)}
}
%op SymbolList emptySymbolList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeSymbolList()}
}
%op SymbolList manySymbolList(head:TomSymbol, tail:SymbolList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeSymbolList(e,l)}
}
%typelist NameList{
  implement { jtom.adt.tomsignature.types.NameList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.NameList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist NameList concTomName(TomName*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortNameList()}
  make_empty() {getTomOptionFactory().makeNameList()}
  make_insert(e,l) {getTomOptionFactory().makeNameList(e,l)}
}
%op NameList emptyNameList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeNameList()}
}
%op NameList manyNameList(head:TomName, tail:NameList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeNameList(e,l)}
}
%typeterm TomName{
  implement { jtom.adt.tomsignature.types.TomName}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomName)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomName Name(string:String) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isName()}
  get_slot(string,t) { t.getString()}
  make(t0) { getTomOptionFactory().makeTomName_Name(t0)}
}

%op TomName PositionName(numberList:TomNumberList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isPositionName()}
  get_slot(numberList,t) { t.getNumberList()}
  make(t0) { getTomOptionFactory().makeTomName_PositionName(t0)}
}

%op TomName EmptyName {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEmptyName()}
  make() { getTomOptionFactory().makeTomName_EmptyName()}
}

%typeterm TomNumber{
  implement { jtom.adt.tomsignature.types.TomNumber}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomNumber)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomNumber MatchNumber(number:TomNumber) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMatchNumber()}
  get_slot(number,t) { t.getNumber()}
  make(t0) { getTomOptionFactory().makeTomNumber_MatchNumber(t0)}
}

%op TomNumber PatternNumber(number:TomNumber) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isPatternNumber()}
  get_slot(number,t) { t.getNumber()}
  make(t0) { getTomOptionFactory().makeTomNumber_PatternNumber(t0)}
}

%op TomNumber ListNumber(number:TomNumber) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isListNumber()}
  get_slot(number,t) { t.getNumber()}
  make(t0) { getTomOptionFactory().makeTomNumber_ListNumber(t0)}
}

%op TomNumber IndexNumber(number:TomNumber) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isIndexNumber()}
  get_slot(number,t) { t.getNumber()}
  make(t0) { getTomOptionFactory().makeTomNumber_IndexNumber(t0)}
}

%op TomNumber Begin(number:TomNumber) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBegin()}
  get_slot(number,t) { t.getNumber()}
  make(t0) { getTomOptionFactory().makeTomNumber_Begin(t0)}
}

%op TomNumber End(number:TomNumber) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEnd()}
  get_slot(number,t) { t.getNumber()}
  make(t0) { getTomOptionFactory().makeTomNumber_End(t0)}
}

%op TomNumber Number(integer:int) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isNumber()}
  get_slot(integer,t) { t.getInteger()}
  make(t0) { getTomOptionFactory().makeTomNumber_Number(t0)}
}

%op TomNumber AbsVar(number:TomNumber) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAbsVar()}
  get_slot(number,t) { t.getNumber()}
  make(t0) { getTomOptionFactory().makeTomNumber_AbsVar(t0)}
}

%op TomNumber RenamedVar(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isRenamedVar()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeTomNumber_RenamedVar(t0)}
}

%op TomNumber RuleVar {
  fsym {}
  is_fsym(t) { (t!= null) && t.isRuleVar()}
  make() { getTomOptionFactory().makeTomNumber_RuleVar()}
}

%typelist TomNumberList{
  implement { jtom.adt.tomsignature.types.TomNumberList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomNumberList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist TomNumberList concTomNumber(TomNumber*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortTomNumberList()}
  make_empty() {getTomOptionFactory().makeTomNumberList()}
  make_insert(e,l) {getTomOptionFactory().makeTomNumberList(e,l)}
}
%op TomNumberList emptyTomNumberList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeTomNumberList()}
}
%op TomNumberList manyTomNumberList(head:TomNumber, tail:TomNumberList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeTomNumberList(e,l)}
}
%typeterm Constraint{
  implement { jtom.adt.tomsignature.types.Constraint}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.Constraint)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op Constraint Equal(variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEqual()}
  get_slot(variable,t) { t.getVariable()}
  make(t0) { getTomOptionFactory().makeConstraint_Equal(t0)}
}

%op Constraint AssignTo(variable:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAssignTo()}
  get_slot(variable,t) { t.getVariable()}
  make(t0) { getTomOptionFactory().makeConstraint_AssignTo(t0)}
}

%typelist ConstraintList{
  implement { jtom.adt.tomsignature.types.ConstraintList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.ConstraintList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist ConstraintList concConstraint(Constraint*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortConstraintList()}
  make_empty() {getTomOptionFactory().makeConstraintList()}
  make_insert(e,l) {getTomOptionFactory().makeConstraintList(e,l)}
}
%op ConstraintList emptyConstraintList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeConstraintList()}
}
%op ConstraintList manyConstraintList(head:Constraint, tail:ConstraintList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeConstraintList(e,l)}
}
%typeterm Option{
  implement { jtom.adt.tomsignature.types.Option}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.Option)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op Option DeclarationToOption(astDeclaration:Declaration) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isDeclarationToOption()}
  get_slot(astDeclaration,t) { t.getAstDeclaration()}
  make(t0) { getTomOptionFactory().makeOption_DeclarationToOption(t0)}
}

%op Option TomNameToOption(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomNameToOption()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeOption_TomNameToOption(t0)}
}

%op Option TomTermToOption(astTerm:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomTermToOption()}
  get_slot(astTerm,t) { t.getAstTerm()}
  make(t0) { getTomOptionFactory().makeOption_TomTermToOption(t0)}
}

%op Option DefinedSymbol {
  fsym {}
  is_fsym(t) { (t!= null) && t.isDefinedSymbol()}
  make() { getTomOptionFactory().makeOption_DefinedSymbol()}
}

%op Option GeneratedMatch {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGeneratedMatch()}
  make() { getTomOptionFactory().makeOption_GeneratedMatch()}
}

%op Option OriginTracking(astName:TomName, line:int, fileName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isOriginTracking()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(line,t) { t.getLine()}
  get_slot(fileName,t) { t.getFileName()}
  make(t0, t1, t2) { getTomOptionFactory().makeOption_OriginTracking(t0, t1, t2)}
}

%op Option Constructor(nameList:NameList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isConstructor()}
  get_slot(nameList,t) { t.getNameList()}
  make(t0) { getTomOptionFactory().makeOption_Constructor(t0)}
}

%op Option OriginalText(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isOriginalText()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeOption_OriginalText(t0)}
}

%op Option Label(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isLabel()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeOption_Label(t0)}
}

%op Option Debug(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isDebug()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeOption_Debug(t0)}
}

%op Option ImplicitXMLAttribut {
  fsym {}
  is_fsym(t) { (t!= null) && t.isImplicitXMLAttribut()}
  make() { getTomOptionFactory().makeOption_ImplicitXMLAttribut()}
}

%op Option ImplicitXMLChild {
  fsym {}
  is_fsym(t) { (t!= null) && t.isImplicitXMLChild()}
  make() { getTomOptionFactory().makeOption_ImplicitXMLChild()}
}

%op Option noOption {
  fsym {}
  is_fsym(t) { (t!= null) && t.isNoOption()}
  make() { getTomOptionFactory().makeOption_NoOption()}
}

%typelist OptionList{
  implement { jtom.adt.tomsignature.types.OptionList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.OptionList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist OptionList concOption(Option*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortOptionList()}
  make_empty() {getTomOptionFactory().makeOptionList()}
  make_insert(e,l) {getTomOptionFactory().makeOptionList(e,l)}
}
%op OptionList emptyOptionList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeOptionList()}
}
%op OptionList manyOptionList(head:Option, tail:OptionList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeOptionList(e,l)}
}
%typeterm TomTerm{
  implement { jtom.adt.tomsignature.types.TomTerm}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomTerm)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op TomTerm Appl(option:OptionList, nameList:NameList, args:TomList, constraints:ConstraintList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAppl()}
  get_slot(option,t) { t.getOption()}
  get_slot(nameList,t) { t.getNameList()}
  get_slot(args,t) { t.getArgs()}
  get_slot(constraints,t) { t.getConstraints()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeTomTerm_Appl(t0, t1, t2, t3)}
}

%op TomTerm XMLAppl(option:OptionList, nameList:NameList, attrList:TomList, childList:TomList, constraints:ConstraintList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isXMLAppl()}
  get_slot(option,t) { t.getOption()}
  get_slot(nameList,t) { t.getNameList()}
  get_slot(attrList,t) { t.getAttrList()}
  get_slot(childList,t) { t.getChildList()}
  get_slot(constraints,t) { t.getConstraints()}
  make(t0, t1, t2, t3, t4) { getTomOptionFactory().makeTomTerm_XMLAppl(t0, t1, t2, t3, t4)}
}

%op TomTerm VariableStar(option:OptionList, astName:TomName, astType:TomType, constraints:ConstraintList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isVariableStar()}
  get_slot(option,t) { t.getOption()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(astType,t) { t.getAstType()}
  get_slot(constraints,t) { t.getConstraints()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeTomTerm_VariableStar(t0, t1, t2, t3)}
}

%op TomTerm Placeholder(option:OptionList, constraints:ConstraintList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isPlaceholder()}
  get_slot(option,t) { t.getOption()}
  get_slot(constraints,t) { t.getConstraints()}
  make(t0, t1) { getTomOptionFactory().makeTomTerm_Placeholder(t0, t1)}
}

%op TomTerm UnamedVariable(option:OptionList, astType:TomType, constraints:ConstraintList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isUnamedVariable()}
  get_slot(option,t) { t.getOption()}
  get_slot(astType,t) { t.getAstType()}
  get_slot(constraints,t) { t.getConstraints()}
  make(t0, t1, t2) { getTomOptionFactory().makeTomTerm_UnamedVariable(t0, t1, t2)}
}

%op TomTerm UnamedVariableStar(option:OptionList, astType:TomType, constraints:ConstraintList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isUnamedVariableStar()}
  get_slot(option,t) { t.getOption()}
  get_slot(astType,t) { t.getAstType()}
  get_slot(constraints,t) { t.getConstraints()}
  make(t0, t1, t2) { getTomOptionFactory().makeTomTerm_UnamedVariableStar(t0, t1, t2)}
}

%op TomTerm emptyTerm {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEmptyTerm()}
  make() { getTomOptionFactory().makeTomTerm_EmptyTerm()}
}

%op TomTerm TargetLanguageToTomTerm(tl:TargetLanguage) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTargetLanguageToTomTerm()}
  get_slot(tl,t) { t.getTl()}
  make(t0) { getTomOptionFactory().makeTomTerm_TargetLanguageToTomTerm(t0)}
}

%op TomTerm TomTypeToTomTerm(astType:TomType) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomTypeToTomTerm()}
  get_slot(astType,t) { t.getAstType()}
  make(t0) { getTomOptionFactory().makeTomTerm_TomTypeToTomTerm(t0)}
}

%op TomTerm TomNameToTomTerm(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomNameToTomTerm()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeTomTerm_TomNameToTomTerm(t0)}
}

%op TomTerm TomSymbolToTomTerm(astSymbol:TomSymbol) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomSymbolToTomTerm()}
  get_slot(astSymbol,t) { t.getAstSymbol()}
  make(t0) { getTomOptionFactory().makeTomTerm_TomSymbolToTomTerm(t0)}
}

%op TomTerm DeclarationToTomTerm(astDeclaration:Declaration) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isDeclarationToTomTerm()}
  get_slot(astDeclaration,t) { t.getAstDeclaration()}
  make(t0) { getTomOptionFactory().makeTomTerm_DeclarationToTomTerm(t0)}
}

%op TomTerm OptionToTomTerm(option:OptionList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isOptionToTomTerm()}
  get_slot(option,t) { t.getOption()}
  make(t0) { getTomOptionFactory().makeTomTerm_OptionToTomTerm(t0)}
}

%op TomTerm ExpressionToTomTerm(astExpression:Expression) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isExpressionToTomTerm()}
  get_slot(astExpression,t) { t.getAstExpression()}
  make(t0) { getTomOptionFactory().makeTomTerm_ExpressionToTomTerm(t0)}
}

%op TomTerm InstructionToTomTerm(astInstruction:Instruction) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isInstructionToTomTerm()}
  get_slot(astInstruction,t) { t.getAstInstruction()}
  make(t0) { getTomOptionFactory().makeTomTerm_InstructionToTomTerm(t0)}
}

%op TomTerm Tom(tomList:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTom()}
  get_slot(tomList,t) { t.getTomList()}
  make(t0) { getTomOptionFactory().makeTomTerm_Tom(t0)}
}

%op TomTerm BackQuoteAppl(option:OptionList, astName:TomName, args:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBackQuoteAppl()}
  get_slot(option,t) { t.getOption()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(args,t) { t.getArgs()}
  make(t0, t1, t2) { getTomOptionFactory().makeTomTerm_BackQuoteAppl(t0, t1, t2)}
}

%op TomTerm DoubleBackQuote(args:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isDoubleBackQuote()}
  get_slot(args,t) { t.getArgs()}
  make(t0) { getTomOptionFactory().makeTomTerm_DoubleBackQuote(t0)}
}

%op TomTerm Composite(args:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isComposite()}
  get_slot(args,t) { t.getArgs()}
  make(t0) { getTomOptionFactory().makeTomTerm_Composite(t0)}
}

%op TomTerm RecordAppl(option:OptionList, nameList:NameList, args:TomList, constraints:ConstraintList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isRecordAppl()}
  get_slot(option,t) { t.getOption()}
  get_slot(nameList,t) { t.getNameList()}
  get_slot(args,t) { t.getArgs()}
  get_slot(constraints,t) { t.getConstraints()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeTomTerm_RecordAppl(t0, t1, t2, t3)}
}

%op TomTerm PairSlotAppl(slotName:TomName, appl:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isPairSlotAppl()}
  get_slot(slotName,t) { t.getSlotName()}
  get_slot(appl,t) { t.getAppl()}
  make(t0, t1) { getTomOptionFactory().makeTomTerm_PairSlotAppl(t0, t1)}
}

%op TomTerm SubjectList(tomList:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isSubjectList()}
  get_slot(tomList,t) { t.getTomList()}
  make(t0) { getTomOptionFactory().makeTomTerm_SubjectList(t0)}
}

%op TomTerm PatternList(tomList:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isPatternList()}
  get_slot(tomList,t) { t.getTomList()}
  make(t0) { getTomOptionFactory().makeTomTerm_PatternList(t0)}
}

%op TomTerm TermList(tomList:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTermList()}
  get_slot(tomList,t) { t.getTomList()}
  make(t0) { getTomOptionFactory().makeTomTerm_TermList(t0)}
}

%op TomTerm Term(tomTerm:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTerm()}
  get_slot(tomTerm,t) { t.getTomTerm()}
  make(t0) { getTomOptionFactory().makeTomTerm_Term(t0)}
}

%op TomTerm PatternAction(termList:TomTerm, action:Instruction, option:OptionList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isPatternAction()}
  get_slot(termList,t) { t.getTermList()}
  get_slot(action,t) { t.getAction()}
  get_slot(option,t) { t.getOption()}
  make(t0, t1, t2) { getTomOptionFactory().makeTomTerm_PatternAction(t0, t1, t2)}
}

%op TomTerm TLVar(strName:String, astType:TomType) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTLVar()}
  get_slot(strName,t) { t.getStrName()}
  get_slot(astType,t) { t.getAstType()}
  make(t0, t1) { getTomOptionFactory().makeTomTerm_TLVar(t0, t1)}
}

%op TomTerm Variable(option:OptionList, astName:TomName, astType:TomType, constraints:ConstraintList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isVariable()}
  get_slot(option,t) { t.getOption()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(astType,t) { t.getAstType()}
  get_slot(constraints,t) { t.getConstraints()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeTomTerm_Variable(t0, t1, t2, t3)}
}

%op TomTerm Ref(tomTerm:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isRef()}
  get_slot(tomTerm,t) { t.getTomTerm()}
  make(t0) { getTomOptionFactory().makeTomTerm_Ref(t0)}
}

%op TomTerm BuildReducedTerm(kid1:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildReducedTerm()}
  get_slot(kid1,t) { t.getKid1()}
  make(t0) { getTomOptionFactory().makeTomTerm_BuildReducedTerm(t0)}
}

%op TomTerm FunctionCall(astName:TomName, args:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isFunctionCall()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(args,t) { t.getArgs()}
  make(t0, t1) { getTomOptionFactory().makeTomTerm_FunctionCall(t0, t1)}
}

%op TomTerm BuildVariable(astName:TomName, args:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildVariable()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(args,t) { t.getArgs()}
  make(t0, t1) { getTomOptionFactory().makeTomTerm_BuildVariable(t0, t1)}
}

%op TomTerm BuildTerm(astName:TomName, args:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildTerm()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(args,t) { t.getArgs()}
  make(t0, t1) { getTomOptionFactory().makeTomTerm_BuildTerm(t0, t1)}
}

%op TomTerm BuildEmptyList(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildEmptyList()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeTomTerm_BuildEmptyList(t0)}
}

%op TomTerm BuildConsList(astName:TomName, headTerm:TomTerm, tailTerm:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildConsList()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(headTerm,t) { t.getHeadTerm()}
  get_slot(tailTerm,t) { t.getTailTerm()}
  make(t0, t1, t2) { getTomOptionFactory().makeTomTerm_BuildConsList(t0, t1, t2)}
}

%op TomTerm BuildAppendList(astName:TomName, headTerm:TomTerm, tailTerm:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildAppendList()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(headTerm,t) { t.getHeadTerm()}
  get_slot(tailTerm,t) { t.getTailTerm()}
  make(t0, t1, t2) { getTomOptionFactory().makeTomTerm_BuildAppendList(t0, t1, t2)}
}

%op TomTerm BuildEmptyArray(astName:TomName, size:int) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildEmptyArray()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(size,t) { t.getSize()}
  make(t0, t1) { getTomOptionFactory().makeTomTerm_BuildEmptyArray(t0, t1)}
}

%op TomTerm BuildConsArray(astName:TomName, headTerm:TomTerm, tailTerm:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildConsArray()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(headTerm,t) { t.getHeadTerm()}
  get_slot(tailTerm,t) { t.getTailTerm()}
  make(t0, t1, t2) { getTomOptionFactory().makeTomTerm_BuildConsArray(t0, t1, t2)}
}

%op TomTerm BuildAppendArray(astName:TomName, headTerm:TomTerm, tailTerm:TomTerm) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isBuildAppendArray()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(headTerm,t) { t.getHeadTerm()}
  get_slot(tailTerm,t) { t.getTailTerm()}
  make(t0, t1, t2) { getTomOptionFactory().makeTomTerm_BuildAppendArray(t0, t1, t2)}
}

%op TomTerm TomInclude(tomList:TomList) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTomInclude()}
  get_slot(tomList,t) { t.getTomList()}
  make(t0) { getTomOptionFactory().makeTomTerm_TomInclude(t0)}
}

%op TomTerm Automata(option:OptionList, patternList:TomList, numberList:TomNumberList, inst:Instruction) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isAutomata()}
  get_slot(option,t) { t.getOption()}
  get_slot(patternList,t) { t.getPatternList()}
  get_slot(numberList,t) { t.getNumberList()}
  get_slot(inst,t) { t.getInst()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeTomTerm_Automata(t0, t1, t2, t3)}
}

%typelist TomList{
  implement { jtom.adt.tomsignature.types.TomList}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  equals(t1,t2) {t1.equals(t2)}
  get_head(l) {l.getHead()}
  get_tail(l) {l.getTail()}
  is_empty(l) {l.isEmpty()}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.TomList)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%oplist TomList concTomTerm(TomTerm*) {
  fsym { null }
  is_fsym(t) {(t!= null) && t.isSortTomList()}
  make_empty() {getTomOptionFactory().makeTomList()}
  make_insert(e,l) {getTomOptionFactory().makeTomList(e,l)}
}
%op TomList emptyTomList{
  fsym { null }
  is_fsym(t) { (t!= null) && t.isEmpty()}
  make() {getTomOptionFactory().makeTomList()}
}
%op TomList manyTomList(head:TomTerm, tail:TomList) {
  fsym { null }
  is_fsym(t) { (t!= null) && t.isMany()}
  get_slot(head,t) { t.getHead()}
  get_slot(tail,t) { t.getTail()}
  make(e,l) {getTomOptionFactory().makeTomList(e,l)}
}
%typeterm Declaration{
  implement { jtom.adt.tomsignature.types.Declaration}
  get_fun_sym(t) {null}
  cmp_fun_sym(s1,s2) { false}
  get_subterm(t,n) {null}
  equals(t1,t2) {t1.equals(t2)}
check_stamp(t) {if(t.getAnnotation(getTomOptionFactory().getPureFactory().makeList()) == getTomOptionFactory().getPureFactory().makeList())  return; else throw new RuntimeException("bad stamp")}
set_stamp(t) {(jtom.adt.tomsignature.types.Declaration)t.setAnnotation(getTomOptionFactory().getPureFactory().makeList(),getTomOptionFactory().getPureFactory().makeList())}
get_implementation(t) {t}
}

%op Declaration TypeTermDecl(astName:TomName, keywordList:TomList, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTypeTermDecl()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(keywordList,t) { t.getKeywordList()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_TypeTermDecl(t0, t1, t2)}
}

%op Declaration TypeListDecl(astName:TomName, keywordList:TomList, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTypeListDecl()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(keywordList,t) { t.getKeywordList()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_TypeListDecl(t0, t1, t2)}
}

%op Declaration TypeArrayDecl(astName:TomName, keywordList:TomList, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTypeArrayDecl()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(keywordList,t) { t.getKeywordList()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_TypeArrayDecl(t0, t1, t2)}
}

%op Declaration GetFunctionSymbolDecl(termArg:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetFunctionSymbolDecl()}
  get_slot(termArg,t) { t.getTermArg()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_GetFunctionSymbolDecl(t0, t1, t2)}
}

%op Declaration GetSubtermDecl(termArg:TomTerm, variable:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetSubtermDecl()}
  get_slot(termArg,t) { t.getTermArg()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeDeclaration_GetSubtermDecl(t0, t1, t2, t3)}
}

%op Declaration CheckStampDecl(variable:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isCheckStampDecl()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_CheckStampDecl(t0, t1, t2)}
}

%op Declaration SetStampDecl(variable:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isSetStampDecl()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_SetStampDecl(t0, t1, t2)}
}

%op Declaration GetImplementationDecl(variable:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetImplementationDecl()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_GetImplementationDecl(t0, t1, t2)}
}

%op Declaration IsFsymDecl(astName:TomName, variable:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isIsFsymDecl()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeDeclaration_IsFsymDecl(t0, t1, t2, t3)}
}

%op Declaration GetSlotDecl(astName:TomName, slotName:TomName, variable:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetSlotDecl()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(slotName,t) { t.getSlotName()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3, t4) { getTomOptionFactory().makeDeclaration_GetSlotDecl(t0, t1, t2, t3, t4)}
}

%op Declaration CompareFunctionSymbolDecl(symbolArg1:TomTerm, symbolArg2:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isCompareFunctionSymbolDecl()}
  get_slot(symbolArg1,t) { t.getSymbolArg1()}
  get_slot(symbolArg2,t) { t.getSymbolArg2()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeDeclaration_CompareFunctionSymbolDecl(t0, t1, t2, t3)}
}

%op Declaration TermsEqualDecl(termArg1:TomTerm, termArg2:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isTermsEqualDecl()}
  get_slot(termArg1,t) { t.getTermArg1()}
  get_slot(termArg2,t) { t.getTermArg2()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeDeclaration_TermsEqualDecl(t0, t1, t2, t3)}
}

%op Declaration GetHeadDecl(codomain:TomType, variable:TomTerm, tlcode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetHeadDecl()}
  get_slot(codomain,t) { t.getCodomain()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlcode,t) { t.getTlcode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeDeclaration_GetHeadDecl(t0, t1, t2, t3)}
}

%op Declaration GetTailDecl(variable:TomTerm, tlcode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetTailDecl()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlcode,t) { t.getTlcode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_GetTailDecl(t0, t1, t2)}
}

%op Declaration IsEmptyDecl(variable:TomTerm, tlcode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isIsEmptyDecl()}
  get_slot(variable,t) { t.getVariable()}
  get_slot(tlcode,t) { t.getTlcode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_IsEmptyDecl(t0, t1, t2)}
}

%op Declaration MakeEmptyList(astName:TomName, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMakeEmptyList()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_MakeEmptyList(t0, t1, t2)}
}

%op Declaration MakeAddList(astName:TomName, varElt:TomTerm, varList:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMakeAddList()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(varElt,t) { t.getVarElt()}
  get_slot(varList,t) { t.getVarList()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3, t4) { getTomOptionFactory().makeDeclaration_MakeAddList(t0, t1, t2, t3, t4)}
}

%op Declaration GetElementDecl(kid1:TomTerm, kid2:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetElementDecl()}
  get_slot(kid1,t) { t.getKid1()}
  get_slot(kid2,t) { t.getKid2()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeDeclaration_GetElementDecl(t0, t1, t2, t3)}
}

%op Declaration GetSizeDecl(kid1:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isGetSizeDecl()}
  get_slot(kid1,t) { t.getKid1()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2) { getTomOptionFactory().makeDeclaration_GetSizeDecl(t0, t1, t2)}
}

%op Declaration MakeEmptyArray(astName:TomName, varSize:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMakeEmptyArray()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(varSize,t) { t.getVarSize()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3) { getTomOptionFactory().makeDeclaration_MakeEmptyArray(t0, t1, t2, t3)}
}

%op Declaration MakeAddArray(astName:TomName, varElt:TomTerm, varList:TomTerm, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMakeAddArray()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(varElt,t) { t.getVarElt()}
  get_slot(varList,t) { t.getVarList()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3, t4) { getTomOptionFactory().makeDeclaration_MakeAddArray(t0, t1, t2, t3, t4)}
}

%op Declaration MakeDecl(astName:TomName, astType:TomType, args:TomList, tlCode:TargetLanguage, orgTrack:Option) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isMakeDecl()}
  get_slot(astName,t) { t.getAstName()}
  get_slot(astType,t) { t.getAstType()}
  get_slot(args,t) { t.getArgs()}
  get_slot(tlCode,t) { t.getTlCode()}
  get_slot(orgTrack,t) { t.getOrgTrack()}
  make(t0, t1, t2, t3, t4) { getTomOptionFactory().makeDeclaration_MakeDecl(t0, t1, t2, t3, t4)}
}

%op Declaration SymbolDecl(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isSymbolDecl()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeDeclaration_SymbolDecl(t0)}
}

%op Declaration ListSymbolDecl(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isListSymbolDecl()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeDeclaration_ListSymbolDecl(t0)}
}

%op Declaration ArraySymbolDecl(astName:TomName) {
  fsym {}
  is_fsym(t) { (t!= null) && t.isArraySymbolDecl()}
  get_slot(astName,t) { t.getAstName()}
  make(t0) { getTomOptionFactory().makeDeclaration_ArraySymbolDecl(t0)}
}

%op Declaration EmptyDeclaration {
  fsym {}
  is_fsym(t) { (t!= null) && t.isEmptyDeclaration()}
  make() { getTomOptionFactory().makeDeclaration_EmptyDeclaration()}
}


/*
 *
 * TOM - To One Matching Compiler
 *
 * Copyright (c) 2000-2011, INPL, INRIA
 * Nancy, France.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
 *
 * Pierre-Etienne Moreau  e-mail: Pierre-Etienne.Moreau@loria.fr
 *
 **/

package tom.platform;

import java.io.*;

import aterm.*;
import aterm.pure.*;

import tom.library.adt.tnode.*;
import tom.library.adt.tnode.types.*;
import tom.platform.adt.platformoption.*;
import tom.platform.adt.platformoption.types.*;
import tom.library.xml.*;

/**
 * Helper class to parse OptionOwner options.
 * The options have to comply with the following this DTD
 *
 * <PRE><CODE>
 * < !ELEMENT options (boolean*,integer*,string*) >
 *
 * < !ELEMENT boolean EMPTY >
 * < !ATTLIST boolean
 *   name CDATA #REQUIRED
 *   altName CDATA ""
 *   description CDATA ""
 *   value (true|false) #REQUIRED >
 *
 * < !ELEMENT integer EMPTY >
 * < !ATTLIST integer
 *   name CDATA #REQUIRED
 *   altName CDATA ""
 *   description CDATA ""
 *   value CDATA #REQUIRED
 *   attrName CDATA #REQUIRED >
 *
 * < !ELEMENT string EMPTY >
 * < !ATTLIST string
 *   name CDATA #REQUIRED
 *   altName CDATA ""
 *   description CDATA ""
 *   value CDATA #REQUIRED
 *   attrName CDATA #REQUIRED >
 * </CODE></PRE>
 */
public class OptionParser {

       private static   tom.library.adt.tnode.types.TNodeList  tom_append_list_concTNode( tom.library.adt.tnode.types.TNodeList l1,  tom.library.adt.tnode.types.TNodeList  l2) {     if( l1.isEmptyconcTNode() ) {       return l2;     } else if( l2.isEmptyconcTNode() ) {       return l1;     } else if(  l1.getTailconcTNode() .isEmptyconcTNode() ) {       return  tom.library.adt.tnode.types.tnodelist.ConsconcTNode.make( l1.getHeadconcTNode() ,l2) ;     } else {       return  tom.library.adt.tnode.types.tnodelist.ConsconcTNode.make( l1.getHeadconcTNode() ,tom_append_list_concTNode( l1.getTailconcTNode() ,l2)) ;     }   }   private static   tom.library.adt.tnode.types.TNodeList  tom_get_slice_concTNode( tom.library.adt.tnode.types.TNodeList  begin,  tom.library.adt.tnode.types.TNodeList  end, tom.library.adt.tnode.types.TNodeList  tail) {     if( (begin==end) ) {       return tail;     } else if( (end==tail)  && ( end.isEmptyconcTNode()  ||  (end== tom.library.adt.tnode.types.tnodelist.EmptyconcTNode.make() ) )) {       /* code to avoid a call to make, and thus to avoid looping during list-matching */       return begin;     }     return  tom.library.adt.tnode.types.tnodelist.ConsconcTNode.make( begin.getHeadconcTNode() ,( tom.library.adt.tnode.types.TNodeList )tom_get_slice_concTNode( begin.getTailconcTNode() ,end,tail)) ;   }        private static   tom.platform.adt.platformoption.types.PlatformOptionList  tom_append_list_concPlatformOption( tom.platform.adt.platformoption.types.PlatformOptionList l1,  tom.platform.adt.platformoption.types.PlatformOptionList  l2) {     if( l1.isEmptyconcPlatformOption() ) {       return l2;     } else if( l2.isEmptyconcPlatformOption() ) {       return l1;     } else if(  l1.getTailconcPlatformOption() .isEmptyconcPlatformOption() ) {       return  tom.platform.adt.platformoption.types.platformoptionlist.ConsconcPlatformOption.make( l1.getHeadconcPlatformOption() ,l2) ;     } else {       return  tom.platform.adt.platformoption.types.platformoptionlist.ConsconcPlatformOption.make( l1.getHeadconcPlatformOption() ,tom_append_list_concPlatformOption( l1.getTailconcPlatformOption() ,l2)) ;     }   }   private static   tom.platform.adt.platformoption.types.PlatformOptionList  tom_get_slice_concPlatformOption( tom.platform.adt.platformoption.types.PlatformOptionList  begin,  tom.platform.adt.platformoption.types.PlatformOptionList  end, tom.platform.adt.platformoption.types.PlatformOptionList  tail) {     if( (begin==end) ) {       return tail;     } else if( (end==tail)  && ( end.isEmptyconcPlatformOption()  ||  (end== tom.platform.adt.platformoption.types.platformoptionlist.EmptyconcPlatformOption.make() ) )) {       /* code to avoid a call to make, and thus to avoid looping during list-matching */       return begin;     }     return  tom.platform.adt.platformoption.types.platformoptionlist.ConsconcPlatformOption.make( begin.getHeadconcPlatformOption() ,( tom.platform.adt.platformoption.types.PlatformOptionList )tom_get_slice_concPlatformOption( begin.getTailconcPlatformOption() ,end,tail)) ;   }    



  /**
   * An XMLTools for doing the stuff
   */
    // non static XmlTools
  //private static XmlTools xtools = new XmlTools();

  /**
   * @return a PlatformOptionList extracted from the a String
   */
  public static PlatformOptionList xmlToOptionList(String xmlString) {
    InputStream stream = new ByteArrayInputStream(xmlString.getBytes());
    // non static XmlTools
    XmlTools xtools = new XmlTools();
    TNode node = xtools.convertXMLToTNode(stream);
    return xmlNodeToOptionList(node.getDocElem());
  }

  /**
   * @return a PlatformOptionList extracted from a TNode
   */
  public static PlatformOptionList xmlNodeToOptionList(TNode optionsNode) {
    PlatformOptionList list =  tom.platform.adt.platformoption.types.platformoptionlist.EmptyconcPlatformOption.make() ;
    {{if ( (((Object)optionsNode) instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )((Object)optionsNode)) instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )(( tom.library.adt.tnode.types.TNode )((Object)optionsNode))) instanceof tom.library.adt.tnode.types.tnode.ElementNode) ) { String  tomMatch722_1= (( tom.library.adt.tnode.types.TNode )((Object)optionsNode)).getName() ; tom.library.adt.tnode.types.TNodeList  tomMatch722_3= (( tom.library.adt.tnode.types.TNode )((Object)optionsNode)).getChildList() ;if ( true ) {if ( "options".equals(tomMatch722_1) ) {if ( (((( tom.library.adt.tnode.types.TNodeList ) (( tom.library.adt.tnode.types.TNode )((Object)optionsNode)).getAttrList() ) instanceof tom.library.adt.tnode.types.tnodelist.ConsconcTNode) || ((( tom.library.adt.tnode.types.TNodeList ) (( tom.library.adt.tnode.types.TNode )((Object)optionsNode)).getAttrList() ) instanceof tom.library.adt.tnode.types.tnodelist.EmptyconcTNode)) ) {if ( (((( tom.library.adt.tnode.types.TNodeList )tomMatch722_3) instanceof tom.library.adt.tnode.types.tnodelist.ConsconcTNode) || ((( tom.library.adt.tnode.types.TNodeList )tomMatch722_3) instanceof tom.library.adt.tnode.types.tnodelist.EmptyconcTNode)) ) { tom.library.adt.tnode.types.TNodeList  tomMatch722__end__13=tomMatch722_3;do {{if (!( tomMatch722__end__13.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tom_option= tomMatch722__end__13.getHeadconcTNode() ;{{if ( (((Object)tom_option) instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )((Object)tom_option)) instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )(( tom.library.adt.tnode.types.TNode )((Object)tom_option))) instanceof tom.library.adt.tnode.types.tnode.ElementNode) ) { String  tomMatch723_1= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getName() ; tom.library.adt.tnode.types.TNodeList  tomMatch723_2= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getAttrList() ; tom.library.adt.tnode.types.TNodeList  tomMatch723_3= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getChildList() ;if ( true ) {if ( "boolean".equals(tomMatch723_1) ) {if ( (((( tom.library.adt.tnode.types.TNodeList )tomMatch723_2) instanceof tom.library.adt.tnode.types.tnodelist.ConsconcTNode) || ((( tom.library.adt.tnode.types.TNodeList )tomMatch723_2) instanceof tom.library.adt.tnode.types.tnodelist.EmptyconcTNode)) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723__end__11=tomMatch723_2;do {{if (!( tomMatch723__end__11.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_30= tomMatch723__end__11.getHeadconcTNode() ;if ( (tomMatch723_30 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_30) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_27= tomMatch723_30.getName() ;if ( true ) {if ( "altName".equals(tomMatch723_27) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_12= tomMatch723__end__11.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__15=tomMatch723_12;do {{if (!( tomMatch723__end__15.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_37= tomMatch723__end__15.getHeadconcTNode() ;if ( (tomMatch723_37 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_37) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_34= tomMatch723_37.getName() ;if ( true ) {if ( "description".equals(tomMatch723_34) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_16= tomMatch723__end__15.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__19=tomMatch723_16;do {{if (!( tomMatch723__end__19.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_44= tomMatch723__end__19.getHeadconcTNode() ;if ( (tomMatch723_44 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_44) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_41= tomMatch723_44.getName() ;if ( true ) {if ( "name".equals(tomMatch723_41) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_20= tomMatch723__end__19.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__23=tomMatch723_20;do {{if (!( tomMatch723__end__23.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_51= tomMatch723__end__23.getHeadconcTNode() ;if ( (tomMatch723_51 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_51) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_48= tomMatch723_51.getName() ;if ( true ) {if ( "value".equals(tomMatch723_48) ) {if ( (((( tom.library.adt.tnode.types.TNodeList )tomMatch723_3) instanceof tom.library.adt.tnode.types.tnodelist.ConsconcTNode) || ((( tom.library.adt.tnode.types.TNodeList )tomMatch723_3) instanceof tom.library.adt.tnode.types.tnodelist.EmptyconcTNode)) ) {if ( tomMatch723_3.isEmptyconcTNode() ) {



            PlatformBoolean bool = Boolean.valueOf( tomMatch723_51.getValue() ).booleanValue()? tom.platform.adt.platformoption.types.platformboolean.True.make() : tom.platform.adt.platformoption.types.platformboolean.False.make() ;
            list = tom_append_list_concPlatformOption(list, tom.platform.adt.platformoption.types.platformoptionlist.ConsconcPlatformOption.make( tom.platform.adt.platformoption.types.platformoption.PluginOption.make( tomMatch723_44.getValue() ,  tomMatch723_30.getValue() ,  tomMatch723_37.getValue() ,  tom.platform.adt.platformoption.types.platformvalue.BooleanValue.make(bool) , "") , tom.platform.adt.platformoption.types.platformoptionlist.EmptyconcPlatformOption.make() ) );
          }}}}}}}if ( tomMatch723__end__23.isEmptyconcTNode() ) {tomMatch723__end__23=tomMatch723_20;} else {tomMatch723__end__23= tomMatch723__end__23.getTailconcTNode() ;}}} while(!( (tomMatch723__end__23==tomMatch723_20) ));}}}}}if ( tomMatch723__end__19.isEmptyconcTNode() ) {tomMatch723__end__19=tomMatch723_16;} else {tomMatch723__end__19= tomMatch723__end__19.getTailconcTNode() ;}}} while(!( (tomMatch723__end__19==tomMatch723_16) ));}}}}}if ( tomMatch723__end__15.isEmptyconcTNode() ) {tomMatch723__end__15=tomMatch723_12;} else {tomMatch723__end__15= tomMatch723__end__15.getTailconcTNode() ;}}} while(!( (tomMatch723__end__15==tomMatch723_12) ));}}}}}if ( tomMatch723__end__11.isEmptyconcTNode() ) {tomMatch723__end__11=tomMatch723_2;} else {tomMatch723__end__11= tomMatch723__end__11.getTailconcTNode() ;}}} while(!( (tomMatch723__end__11==tomMatch723_2) ));}}}}}}}{if ( (((Object)tom_option) instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )((Object)tom_option)) instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )(( tom.library.adt.tnode.types.TNode )((Object)tom_option))) instanceof tom.library.adt.tnode.types.tnode.ElementNode) ) { String  tomMatch723_56= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getName() ; tom.library.adt.tnode.types.TNodeList  tomMatch723_57= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getAttrList() ; tom.library.adt.tnode.types.TNodeList  tomMatch723_58= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getChildList() ;if ( true ) {if ( "integer".equals(tomMatch723_56) ) {if ( (((( tom.library.adt.tnode.types.TNodeList )tomMatch723_57) instanceof tom.library.adt.tnode.types.tnodelist.ConsconcTNode) || ((( tom.library.adt.tnode.types.TNodeList )tomMatch723_57) instanceof tom.library.adt.tnode.types.tnodelist.EmptyconcTNode)) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723__end__66=tomMatch723_57;do {{if (!( tomMatch723__end__66.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_89= tomMatch723__end__66.getHeadconcTNode() ;if ( (tomMatch723_89 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_89) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_86= tomMatch723_89.getName() ;if ( true ) {if ( "altName".equals(tomMatch723_86) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_67= tomMatch723__end__66.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__70=tomMatch723_67;do {{if (!( tomMatch723__end__70.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_96= tomMatch723__end__70.getHeadconcTNode() ;if ( (tomMatch723_96 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_96) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_93= tomMatch723_96.getName() ;if ( true ) {if ( "attrName".equals(tomMatch723_93) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_71= tomMatch723__end__70.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__74=tomMatch723_71;do {{if (!( tomMatch723__end__74.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_103= tomMatch723__end__74.getHeadconcTNode() ;if ( (tomMatch723_103 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_103) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_100= tomMatch723_103.getName() ;if ( true ) {if ( "description".equals(tomMatch723_100) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_75= tomMatch723__end__74.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__78=tomMatch723_75;do {{if (!( tomMatch723__end__78.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_110= tomMatch723__end__78.getHeadconcTNode() ;if ( (tomMatch723_110 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_110) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_107= tomMatch723_110.getName() ;if ( true ) {if ( "name".equals(tomMatch723_107) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_79= tomMatch723__end__78.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__82=tomMatch723_79;do {{if (!( tomMatch723__end__82.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_117= tomMatch723__end__82.getHeadconcTNode() ;if ( (tomMatch723_117 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_117) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_114= tomMatch723_117.getName() ;if ( true ) {if ( "value".equals(tomMatch723_114) ) {if ( (((( tom.library.adt.tnode.types.TNodeList )tomMatch723_58) instanceof tom.library.adt.tnode.types.tnodelist.ConsconcTNode) || ((( tom.library.adt.tnode.types.TNodeList )tomMatch723_58) instanceof tom.library.adt.tnode.types.tnodelist.EmptyconcTNode)) ) {if ( tomMatch723_58.isEmptyconcTNode() ) {

            list = tom_append_list_concPlatformOption(list, tom.platform.adt.platformoption.types.platformoptionlist.ConsconcPlatformOption.make( tom.platform.adt.platformoption.types.platformoption.PluginOption.make( tomMatch723_110.getValue() ,  tomMatch723_89.getValue() ,  tomMatch723_103.getValue() ,  tom.platform.adt.platformoption.types.platformvalue.IntegerValue.make(Integer.parseInt( tomMatch723_117.getValue() )) ,  tomMatch723_96.getValue() ) , tom.platform.adt.platformoption.types.platformoptionlist.EmptyconcPlatformOption.make() ) );
          }}}}}}}if ( tomMatch723__end__82.isEmptyconcTNode() ) {tomMatch723__end__82=tomMatch723_79;} else {tomMatch723__end__82= tomMatch723__end__82.getTailconcTNode() ;}}} while(!( (tomMatch723__end__82==tomMatch723_79) ));}}}}}if ( tomMatch723__end__78.isEmptyconcTNode() ) {tomMatch723__end__78=tomMatch723_75;} else {tomMatch723__end__78= tomMatch723__end__78.getTailconcTNode() ;}}} while(!( (tomMatch723__end__78==tomMatch723_75) ));}}}}}if ( tomMatch723__end__74.isEmptyconcTNode() ) {tomMatch723__end__74=tomMatch723_71;} else {tomMatch723__end__74= tomMatch723__end__74.getTailconcTNode() ;}}} while(!( (tomMatch723__end__74==tomMatch723_71) ));}}}}}if ( tomMatch723__end__70.isEmptyconcTNode() ) {tomMatch723__end__70=tomMatch723_67;} else {tomMatch723__end__70= tomMatch723__end__70.getTailconcTNode() ;}}} while(!( (tomMatch723__end__70==tomMatch723_67) ));}}}}}if ( tomMatch723__end__66.isEmptyconcTNode() ) {tomMatch723__end__66=tomMatch723_57;} else {tomMatch723__end__66= tomMatch723__end__66.getTailconcTNode() ;}}} while(!( (tomMatch723__end__66==tomMatch723_57) ));}}}}}}}{if ( (((Object)tom_option) instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )((Object)tom_option)) instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )(( tom.library.adt.tnode.types.TNode )((Object)tom_option))) instanceof tom.library.adt.tnode.types.tnode.ElementNode) ) { String  tomMatch723_122= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getName() ; tom.library.adt.tnode.types.TNodeList  tomMatch723_123= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getAttrList() ; tom.library.adt.tnode.types.TNodeList  tomMatch723_124= (( tom.library.adt.tnode.types.TNode )((Object)tom_option)).getChildList() ;if ( true ) {if ( "string".equals(tomMatch723_122) ) {if ( (((( tom.library.adt.tnode.types.TNodeList )tomMatch723_123) instanceof tom.library.adt.tnode.types.tnodelist.ConsconcTNode) || ((( tom.library.adt.tnode.types.TNodeList )tomMatch723_123) instanceof tom.library.adt.tnode.types.tnodelist.EmptyconcTNode)) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723__end__132=tomMatch723_123;do {{if (!( tomMatch723__end__132.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_155= tomMatch723__end__132.getHeadconcTNode() ;if ( (tomMatch723_155 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_155) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_152= tomMatch723_155.getName() ;if ( true ) {if ( "altName".equals(tomMatch723_152) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_133= tomMatch723__end__132.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__136=tomMatch723_133;do {{if (!( tomMatch723__end__136.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_162= tomMatch723__end__136.getHeadconcTNode() ;if ( (tomMatch723_162 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_162) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_159= tomMatch723_162.getName() ;if ( true ) {if ( "attrName".equals(tomMatch723_159) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_137= tomMatch723__end__136.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__140=tomMatch723_137;do {{if (!( tomMatch723__end__140.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_169= tomMatch723__end__140.getHeadconcTNode() ;if ( (tomMatch723_169 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_169) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_166= tomMatch723_169.getName() ;if ( true ) {if ( "description".equals(tomMatch723_166) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_141= tomMatch723__end__140.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__144=tomMatch723_141;do {{if (!( tomMatch723__end__144.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_176= tomMatch723__end__144.getHeadconcTNode() ;if ( (tomMatch723_176 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_176) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_173= tomMatch723_176.getName() ;if ( true ) {if ( "name".equals(tomMatch723_173) ) { tom.library.adt.tnode.types.TNodeList  tomMatch723_145= tomMatch723__end__144.getTailconcTNode() ; tom.library.adt.tnode.types.TNodeList  tomMatch723__end__148=tomMatch723_145;do {{if (!( tomMatch723__end__148.isEmptyconcTNode() )) { tom.library.adt.tnode.types.TNode  tomMatch723_183= tomMatch723__end__148.getHeadconcTNode() ;if ( (tomMatch723_183 instanceof tom.library.adt.tnode.types.TNode) ) {if ( ((( tom.library.adt.tnode.types.TNode )tomMatch723_183) instanceof tom.library.adt.tnode.types.tnode.AttributeNode) ) { String  tomMatch723_180= tomMatch723_183.getName() ;if ( true ) {if ( "value".equals(tomMatch723_180) ) {if ( (((( tom.library.adt.tnode.types.TNodeList )tomMatch723_124) instanceof tom.library.adt.tnode.types.tnodelist.ConsconcTNode) || ((( tom.library.adt.tnode.types.TNodeList )tomMatch723_124) instanceof tom.library.adt.tnode.types.tnodelist.EmptyconcTNode)) ) {if ( tomMatch723_124.isEmptyconcTNode() ) {

            list = tom_append_list_concPlatformOption(list, tom.platform.adt.platformoption.types.platformoptionlist.ConsconcPlatformOption.make( tom.platform.adt.platformoption.types.platformoption.PluginOption.make( tomMatch723_176.getValue() ,  tomMatch723_155.getValue() ,  tomMatch723_169.getValue() ,  tom.platform.adt.platformoption.types.platformvalue.StringValue.make( tomMatch723_183.getValue() ) ,  tomMatch723_162.getValue() ) , tom.platform.adt.platformoption.types.platformoptionlist.EmptyconcPlatformOption.make() ) );
          }}}}}}}if ( tomMatch723__end__148.isEmptyconcTNode() ) {tomMatch723__end__148=tomMatch723_145;} else {tomMatch723__end__148= tomMatch723__end__148.getTailconcTNode() ;}}} while(!( (tomMatch723__end__148==tomMatch723_145) ));}}}}}if ( tomMatch723__end__144.isEmptyconcTNode() ) {tomMatch723__end__144=tomMatch723_141;} else {tomMatch723__end__144= tomMatch723__end__144.getTailconcTNode() ;}}} while(!( (tomMatch723__end__144==tomMatch723_141) ));}}}}}if ( tomMatch723__end__140.isEmptyconcTNode() ) {tomMatch723__end__140=tomMatch723_137;} else {tomMatch723__end__140= tomMatch723__end__140.getTailconcTNode() ;}}} while(!( (tomMatch723__end__140==tomMatch723_137) ));}}}}}if ( tomMatch723__end__136.isEmptyconcTNode() ) {tomMatch723__end__136=tomMatch723_133;} else {tomMatch723__end__136= tomMatch723__end__136.getTailconcTNode() ;}}} while(!( (tomMatch723__end__136==tomMatch723_133) ));}}}}}if ( tomMatch723__end__132.isEmptyconcTNode() ) {tomMatch723__end__132=tomMatch723_123;} else {tomMatch723__end__132= tomMatch723__end__132.getTailconcTNode() ;}}} while(!( (tomMatch723__end__132==tomMatch723_123) ));}}}}}}}}

      }if ( tomMatch722__end__13.isEmptyconcTNode() ) {tomMatch722__end__13=tomMatch722_3;} else {tomMatch722__end__13= tomMatch722__end__13.getTailconcTNode() ;}}} while(!( (tomMatch722__end__13==tomMatch722_3) ));}}}}}}}}}

    return list;
  }

}
